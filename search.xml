<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Guava 源码阅读系列——Primitives Ints 类</title>
    <url>/guava-primitives-Ints.html</url>
    <content><![CDATA[<p><code>Ints</code> 类作为 Guava 对 Java 基本数据类型 <code>int</code> 的工具类封装。</p>
<span id="more"></span>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><h3 id="BYTES"><a href="#BYTES" class="headerlink" title="BYTES"></a>BYTES</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在 Java 8 中可以被 Integer.BYTES 替代，代表字节数 bytes</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">BYTES</span> <span class="operator">=</span> Integer.SIZE / Byte.SIZE;</span><br></pre></td></tr></table></figure>
<h3 id="MAX-POWER-OF-TWO"><a href="#MAX-POWER-OF-TWO" class="headerlink" title="MAX_POWER_OF_TWO"></a>MAX_POWER_OF_TWO</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// int 最大存储值，使用 1&lt;&lt;(Integer.SIZE-2) 计算得到，2是因为一位代表正负，1同时占一位</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX_POWER_OF_TWO</span> <span class="operator">=</span> <span class="number">1</span> &lt;&lt; (Integer.SIZE - <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><h3 id="public-static-int-hasCode-int"><a href="#public-static-int-hasCode-int" class="headerlink" title="public static int hasCode(int)"></a>public static int hasCode(int)</h3><p>计算传入 int 值的 hashcode。与 JDK 8 中 <code>Integer.hashCode(int)</code> 一样，直接返回数值本身。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-checkedCast-long"><a href="#public-static-int-checkedCast-long" class="headerlink" title="public static int checkedCast(long)"></a>public static int checkedCast(long)</h3><p>将 long 强制类型转换为 int。<br>当传入参数超出 int 的取值范围 [2^31-1, -2^31] 时，抛出 <code>IllegalArgumentException</code> 异常，否则返回参数本身。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">checkedCast</span><span class="params">(<span class="type">long</span> value)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> (<span class="type">int</span>) value;</span><br><span class="line">  checkArgument(result == value, <span class="string">&quot;Out of range: %s&quot;</span>, value);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-saturatedCast-long"><a href="#public-static-int-saturatedCast-long" class="headerlink" title="public static int saturatedCast(long)"></a>public static int saturatedCast(long)</h3><p>将 long 转换成 int 范围内的值。<br>与 <code>checkedCast</code> 不同的是，当传入参数大于 int 最大值或小于 int 最小值，直接返回最大值或最大值，而不是抛异常。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">saturatedCast</span><span class="params">(<span class="type">long</span> value)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (value &gt; Integer.MAX_VALUE) &#123;</span><br><span class="line">    <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (value &lt; Integer.MIN_VALUE) &#123;</span><br><span class="line">    <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (<span class="type">int</span>) value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-compare-int-int"><a href="#public-static-int-compare-int-int" class="headerlink" title="public static int compare(int, int)`"></a>public static int compare(int, int)`</h3><p>比较两个 int 值的大小，等价于 <code>((Integer) a).compareTo(b)</code>。返回值分为三种情况: a 小于/等于/大于 b 时分别返回 -1/0/1。<br>注：JDK 7 及以后建议使用 <code>Integer.compar(int, int)</code> 而非此方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (a &lt; b) ? -<span class="number">1</span> : ((a &gt; b) ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-boolean-contains-int-int"><a href="#public-static-boolean-contains-int-int" class="headerlink" title="public static boolean contains(int[], int)`"></a>public static boolean contains(int[], int)`</h3><p>判断给定</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> value : array) &#123;</span><br><span class="line">    <span class="keyword">if</span> (value == target) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-indexOf-int-int"><a href="#public-static-int-indexOf-int-int" class="headerlink" title="public static int indexOf(int[], int)`"></a>public static int indexOf(int[], int)`</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> indexOf(array, target, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="private-static-int-indexOf-int-int-int-int"><a href="#private-static-int-indexOf-int-int-int-int" class="headerlink" title="private static int indexOf(int[], int, int, int)"></a>private static int indexOf(int[], int, int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; end; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array[i] == target) &#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-indexOf-int-int-1"><a href="#public-static-int-indexOf-int-int-1" class="headerlink" title="public static int indexOf(int[], int[])"></a>public static int indexOf(int[], int[])</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span>[] target)</span> &#123;</span><br><span class="line">  checkNotNull(array, <span class="string">&quot;array&quot;</span>);</span><br><span class="line">  checkNotNull(target, <span class="string">&quot;target&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (target.length == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  outer:</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length - target.length + <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; target.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (array[i + j] != target[j]) &#123;</span><br><span class="line">        <span class="keyword">continue</span> outer;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-int-lastIndexOf-int-int"><a href="#public-int-lastIndexOf-int-int" class="headerlink" title="public int lastIndexOf(int[], int)"></a>public int lastIndexOf(int[], int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lastIndexOf</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> lastIndexOf(array, target, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="private-int-lastIndexOf-int-int-int-int"><a href="#private-int-lastIndexOf-int-int-int-int" class="headerlink" title="private int lastIndexOf(int[], int, int, int)"></a>private int lastIndexOf(int[], int, int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lastIndexOf</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> end - <span class="number">1</span>; i &gt;= start; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array[i] == target) &#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-min-int…"><a href="#public-static-int-min-int…" class="headerlink" title="public static int min(int…)"></a>public static int min(int…)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">min</span><span class="params">(<span class="type">int</span>... array)</span> &#123;</span><br><span class="line">  checkArgument(array.length &gt; <span class="number">0</span>);</span><br><span class="line">  <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> array[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array[i] &lt; min) &#123;</span><br><span class="line">      min = array[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-max-int…"><a href="#public-static-int-max-int…" class="headerlink" title="public static int max(int…)"></a>public static int max(int…)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span>... array)</span> &#123;</span><br><span class="line">  checkArgument(array.length &gt; <span class="number">0</span>);</span><br><span class="line">  <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> array[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array[i] &gt; max) &#123;</span><br><span class="line">      max = array[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-constrainToRange-int-int-int"><a href="#public-static-int-constrainToRange-int-int-int" class="headerlink" title="public static int constrainToRange(int, int, int)"></a>public static int constrainToRange(int, int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">constrainToRange</span><span class="params">(<span class="type">int</span> value, <span class="type">int</span> min, <span class="type">int</span> max)</span> &#123;</span><br><span class="line">  checkArgument(min &lt;= max, <span class="string">&quot;min (%s) must be less than or equal to max (%s)&quot;</span>, min, max);</span><br><span class="line">  <span class="keyword">return</span> Math.min(Math.max(value, min), max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-concat-int-…"><a href="#public-static-int-concat-int-…" class="headerlink" title="public static int[] concat(int[]…)"></a>public static int[] concat(int[]…)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] concat(<span class="type">int</span>[]... arrays) &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span>[] array : arrays) &#123;</span><br><span class="line">    length += array.length;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span>[length];</span><br><span class="line">  <span class="type">int</span> <span class="variable">pos</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span>[] array : arrays) &#123;</span><br><span class="line">    System.arraycopy(array, <span class="number">0</span>, result, pos, array.length);</span><br><span class="line">    pos += array.length;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-byte-toByteArray-int"><a href="#public-static-byte-toByteArray-int" class="headerlink" title="public static byte[] toByteArray(int)"></a>public static byte[] toByteArray(int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] toByteArray(<span class="type">int</span> value) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">byte</span>[] &#123;</span><br><span class="line">    (<span class="type">byte</span>) (value &gt;&gt; <span class="number">24</span>), (<span class="type">byte</span>) (value &gt;&gt; <span class="number">16</span>), (<span class="type">byte</span>) (value &gt;&gt; <span class="number">8</span>), (<span class="type">byte</span>) value</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-fromByteArray-byte"><a href="#public-static-int-fromByteArray-byte" class="headerlink" title="public static int fromByteArray(byte[])"></a>public static int fromByteArray(byte[])</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fromByteArray</span><span class="params">(<span class="type">byte</span>[] bytes)</span> &#123;</span><br><span class="line">  checkArgument(bytes.length &gt;= BYTES, <span class="string">&quot;array too small: %s &lt; %s&quot;</span>, bytes.length, BYTES);</span><br><span class="line">  <span class="keyword">return</span> fromBytes(bytes[<span class="number">0</span>], bytes[<span class="number">1</span>], bytes[<span class="number">2</span>], bytes[<span class="number">3</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-fromBytes-byte-byte-byte-byte"><a href="#public-static-int-fromBytes-byte-byte-byte-byte" class="headerlink" title="public static int fromBytes(byte, byte, byte, byte)"></a>public static int fromBytes(byte, byte, byte, byte)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fromBytes</span><span class="params">(<span class="type">byte</span> b1, <span class="type">byte</span> b2, <span class="type">byte</span> b3, <span class="type">byte</span> b4)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> b1 &lt;&lt; <span class="number">24</span> | (b2 &amp; <span class="number">0xFF</span>) &lt;&lt; <span class="number">16</span> | (b3 &amp; <span class="number">0xFF</span>) &lt;&lt; <span class="number">8</span> | (b4 &amp; <span class="number">0xFF</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-Converter-lt-String-Integer-gt-stringConverter"><a href="#public-static-Converter-lt-String-Integer-gt-stringConverter" class="headerlink" title="public static Converter&lt;String, Integer&gt; stringConverter()"></a>public static Converter&lt;String, Integer&gt; stringConverter()</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Converter&lt;String, Integer&gt; <span class="title function_">stringConverter</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> IntConverter.INSTANCE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-ensureCapacity-int-int-int"><a href="#public-static-int-ensureCapacity-int-int-int" class="headerlink" title="public static int[] ensureCapacity(int[], int, int)"></a>public static int[] ensureCapacity(int[], int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] ensureCapacity(<span class="type">int</span>[] array, <span class="type">int</span> minLength, <span class="type">int</span> padding) &#123;</span><br><span class="line">  checkArgument(minLength &gt;= <span class="number">0</span>, <span class="string">&quot;Invalid minLength: %s&quot;</span>, minLength);</span><br><span class="line">  checkArgument(padding &gt;= <span class="number">0</span>, <span class="string">&quot;Invalid padding: %s&quot;</span>, padding);</span><br><span class="line">  <span class="keyword">return</span> (array.length &lt; minLength) ? Arrays.copyOf(array, minLength + padding) : array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-String-join-String-int…"><a href="#public-static-String-join-String-int…" class="headerlink" title="public static String join(String, int…)"></a>public static String join(String, int…)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">join</span><span class="params">(String separator, <span class="type">int</span>... array)</span> &#123;</span><br><span class="line">  checkNotNull(separator);</span><br><span class="line">  <span class="keyword">if</span> (array.length == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// For pre-sizing a builder, just get the right order of magnitude</span></span><br><span class="line">  <span class="type">StringBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(array.length * <span class="number">5</span>);</span><br><span class="line">  builder.append(array[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    builder.append(separator).append(array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> builder.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-void-sortDescending-int"><a href="#public-static-void-sortDescending-int" class="headerlink" title="public static void sortDescending(int[])"></a>public static void sortDescending(int[])</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Sorts the elements of &#123;<span class="doctag">@code</span> array&#125; in descending order.</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@since</span> 23.1</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sortDescending</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">  checkNotNull(array);</span><br><span class="line">  sortDescending(array, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-void-sortDescending-int-int-int"><a href="#public-static-void-sortDescending-int-int-int" class="headerlink" title="public static void sortDescending(int[], int, int)"></a>public static void sortDescending(int[], int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sortDescending</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span> &#123;</span><br><span class="line">  checkNotNull(array);</span><br><span class="line">  checkPositionIndexes(fromIndex, toIndex, array.length);</span><br><span class="line">  Arrays.sort(array, fromIndex, toIndex);</span><br><span class="line">  reverse(array, fromIndex, toIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-void-reverse-int"><a href="#public-static-void-reverse-int" class="headerlink" title="public static void reverse(int[])"></a>public static void reverse(int[])</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">  checkNotNull(array);</span><br><span class="line">  reverse(array, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-void-reverse-int-int-int"><a href="#public-static-void-reverse-int-int-int" class="headerlink" title="public static void reverse(int[], int, int)"></a>public static void reverse(int[], int, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span> &#123;</span><br><span class="line">  checkNotNull(array);</span><br><span class="line">  checkPositionIndexes(fromIndex, toIndex, array.length);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> fromIndex, j = toIndex - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> array[i];</span><br><span class="line">    array[i] = array[j];</span><br><span class="line">    array[j] = tmp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-int-toArray-Collection-lt-extends-Number-gt"><a href="#public-static-int-toArray-Collection-lt-extends-Number-gt" class="headerlink" title="public static int[] toArray(Collection&lt;? extends Number&gt;)"></a>public static int[] toArray(Collection&lt;? extends Number&gt;)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] toArray(Collection&lt;? <span class="keyword">extends</span> <span class="title class_">Number</span>&gt; collection) &#123;</span><br><span class="line">  <span class="keyword">if</span> (collection <span class="keyword">instanceof</span> IntArrayAsList) &#123;</span><br><span class="line">    <span class="keyword">return</span> ((IntArrayAsList) collection).toIntArray();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Object[] boxedArray = collection.toArray();</span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> boxedArray.length;</span><br><span class="line">  <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="comment">// checkNotNull for GWT (do not optimize)</span></span><br><span class="line">    array[i] = ((Number) checkNotNull(boxedArray[i])).intValue();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-List-asList-int…"><a href="#public-static-List-asList-int…" class="headerlink" title="public static List asList(int…)"></a>public static List<Integer> asList(int…)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title function_">asList</span><span class="params">(<span class="type">int</span>... backingArray)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (backingArray.length == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">IntArrayAsList</span>(backingArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-Integer-tryParse-String"><a href="#public-static-Integer-tryParse-String" class="headerlink" title="public static Integer tryParse(String)"></a>public static Integer tryParse(String)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">tryParse</span><span class="params">(String string)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> tryParse(string, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="public-static-Integer-tryParse-String-int"><a href="#public-static-Integer-tryParse-String-int" class="headerlink" title="public static Integer tryParse(String, int)"></a>public static Integer tryParse(String, int)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">tryParse</span><span class="params">(String string, <span class="type">int</span> radix)</span> &#123;</span><br><span class="line">  <span class="type">Long</span> <span class="variable">result</span> <span class="operator">=</span> Longs.tryParse(string, radix);</span><br><span class="line">  <span class="keyword">if</span> (result == <span class="literal">null</span> || result.longValue() != result.intValue()) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> result.intValue();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h2><h3 id="class-IntConverter-extends-Converter-lt-String-Integer-gt-implements-Serializable"><a href="#class-IntConverter-extends-Converter-lt-String-Integer-gt-implements-Serializable" class="headerlink" title="class IntConverter extends Converter&lt;String, Integer&gt; implements Serializable"></a>class IntConverter extends Converter&lt;String, Integer&gt; implements Serializable</h3><h3 id="enum-LexicographicalComparator-implements-Comparator-lt-int-gt"><a href="#enum-LexicographicalComparator-implements-Comparator-lt-int-gt" class="headerlink" title="enum LexicographicalComparator implements Comparator&lt;int[]&gt;"></a>enum LexicographicalComparator implements Comparator&lt;int[]&gt;</h3><h3 id="class-IntArrayAsList-extends-AbstractListimplements-RandomAccess-Serializable"><a href="#class-IntArrayAsList-extends-AbstractListimplements-RandomAccess-Serializable" class="headerlink" title="class IntArrayAsList extends AbstractListimplements RandomAccess, Serializable"></a>class IntArrayAsList extends AbstractList<Integer>implements RandomAccess, Serializable</h3>]]></content>
      <categories>
        <category>源码阅读</category>
        <category>Guava</category>
      </categories>
      <tags>
        <tag>Guava</tag>
      </tags>
  </entry>
  <entry>
    <title>Mockito 3.6.0 中文文档</title>
    <url>/mockito-zh-doc.html</url>
    <content><![CDATA[<p><a href="http://mockito.org/">Mockito</a> 库能够 Mock 对象、验证结果以及打桩(stubbing)。<br>本中文文档基于 Mockito 3.6.0 版本的<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html">官方文档</a>翻译，如有错误，欢迎在评论区指正👏。</p>
<span id="more"></span>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol start="0">
<li><a href="#0">迁移到Mockito 2.0</a></li>
<li><a href="#1">验证某些行为</a></li>
<li><a href="#2">如何做一些测试桩 (Stub)</a></li>
<li><a href="#3">参数匹配器 (matchers)</a></li>
<li><a href="#4">验证函数的确切、最少、从未调用次数</a></li>
<li><a href="#5">为返回值为void的函数通过Stub抛出异常</a></li>
<li><a href="#6">按照顺序验证执行结果</a></li>
<li><a href="#7">确保交互(interaction)操作不会执行在mock对象上</a></li>
<li><a href="#8">查找冗余的调用</a></li>
<li><a href="#9">简化mock对象的创建</a></li>
<li><a href="#10">为连续的调用做测试桩 (stub) </a></li>
<li><a href="#11">为回调做测试桩</a></li>
<li><a href="#12">doReturn()、doThrow()、doAnswer()、doNothing()、doCallRealMethod()系列方法的运用</a></li>
<li><a href="#13">监控真实对象</a></li>
<li><a href="#14">修改没有测试桩的调用的默认返回值 ( 1.7版本之后 ) </a></li>
<li><a href="#15">为下一步的断言捕获参数 (1.8版本之后)</a></li>
<li><a href="#16">真实的局部mocks (1.8版本之后)</a></li>
<li><a href="#17">重置mocks对象 (1.8版本之后)</a></li>
<li><a href="#18">故障排查与验证框架的使用 (1.8版本之后)</a></li>
<li><a href="#19">行为驱动开发的别名 (1.8版本之后)</a></li>
<li><a href="#20">序列化mock对象</a></li>
<li><a href="#21">新的注解 : @Captor,@Spy,@ InjectMocks (1.8.3版本之后) </a></li>
<li><a href="#22">验证超时 (1.8.5版本之后) </a></li>
<li><a href="#23">自动初始化被@Spies, @InjectMocks注解的字段以及构造函数注入 (1.9.0版本之后)</a></li>
<li><a href="#24">单行测试桩 (1.9.0版本之后) </a></li>
<li><a href="#25">验证被忽略的测试桩 (1.9.0版本之后)</a></li>
<li><a href="#26">mock详情 (1.9.5版本之后)</a></li>
<li><a href="#27">delegate调用真实的实例 (1.9.5版本之后)</a></li>
<li><a href="#28">MockMaker API (1.9.5版本之后)</a></li>
<li><a href="#29">BDD风格的验证 (1.10.0版本之后)</a></li>
<li><a href="#30">追踪或者Mock抽象类 (1.10.12版本之后)</a></li>
<li><a href="#31">Mockito mock对象通过ClassLoader能被序列化/反序列化 (1.10.0版本之后)</a></li>
<li><a href="#32">deep stubs更好的支持泛型 (1.10.0版本之后)</a></li>
<li><a href="#33">Mockito JUnit 规则 (1.10.17版本之后)</a></li>
<li><a href="#34">开/关插件 (1.10.15版本之后)</a></li>
<li><a href="#35">自定义验证失败消息 (2.0.0版本之后)</a></li>
</ol>
<h2 id="0-迁移到-Mockito-2-0"><a href="#0-迁移到-Mockito-2-0" class="headerlink" title="0. 迁移到 Mockito 2.0"></a>0. 迁移到 Mockito 2.0</h2><p>为了持续提升 Mockito 以及更进一步的提升单元测试体验，我们希望你升级到 Mockito 2.1.0。Mockito 遵循语意化的版本控制，除非有非常大的改变才会变化主版本号。在一个库的生命周期中，为了引入一系列有用的特性，修改已存在的行为或者 API 等重大变更是在所难免的。有关新版本（包括不兼容的更改）的全面指南，请参阅”Mockito 2” <a href="https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2">wiki 页面</a>中的 “What’s new in Mockito 2”。我们希望你能够喜欢 Mockito 2.0!</p>
<p>0.1. Mockito Android support<br>With Mockito version 2.6.1 we ship “native” Android support. To enable Android support, add the <code>mockito-android</code> library as dependency to your project. This artifact is published to the same Mockito organization and can be imported for Android as follows: You can continue to run the same unit tests on a regular VM by using the <code>mockito-core</code> artifact in your “testCompile” scope as shown above. Be aware that you cannot use the inline mock maker on Android due to limitations in the Android VM. If you encounter issues with mocking on Android, please open an issue on the official issue tracker. Do provide the version of Android you are working on and dependencies of your project.</p>
<p>0.2. Configuration-free inline mock making<br>Starting with version 2.7.6, we offer the ‘mockito-inline’ artifact that enables inline mock making without configuring the MockMaker extension file. To use this, add the <code>mockito-inline</code> instead of the <code>mockito-core</code> artifact as follows: Be aware that this artifact may be abolished when the inline mock making feature is integrated into the default mock maker.</p>
<h2 id="1-验证某些行为"><a href="#1-验证某些行为" class="headerlink" title="1. 验证某些行为"></a>1. 验证某些行为</h2><p>跟着我们的示例来 mock 一个 List，因为大家对 List 接口很熟悉（例如 add(),get(), clear()）。事实上，不要 mock List 接口本身,而要使用 List 的一个实例来替代。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 静态导入会使代码更简洁</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.Mockito.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 mock 对象</span></span><br><span class="line"><span class="type">List</span> <span class="variable">mockedList</span> <span class="operator">=</span> mock(List.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 mock 对象</span></span><br><span class="line">mockedList.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">mockedList.clear();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证</span></span><br><span class="line">verify(mockedList).add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">verify(mockedList).clear();</span><br></pre></td></tr></table></figure>
<p>一旦 mock 对象被创建了，mock 对象会记住所有的交互。然后你就可能选择性地验证你感兴趣的交互。</p>
<h2 id="2-如何做一些测试桩-Stub"><a href="#2-如何做一些测试桩-Stub" class="headerlink" title="2. 如何做一些测试桩 (Stub)"></a>2. 如何做一些测试桩 (Stub)</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 你可以 mock 具体的类型，不仅只是接口</span></span><br><span class="line"><span class="type">LinkedList</span> <span class="variable">mockedList</span> <span class="operator">=</span> mock(LinkedList.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试桩</span></span><br><span class="line">when(mockedList.get(<span class="number">0</span>)).thenReturn(<span class="string">&quot;first&quot;</span>);</span><br><span class="line">when(mockedList.get(<span class="number">1</span>)).thenThrow(<span class="keyword">new</span> <span class="title class_">RuntimeException</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出“first”</span></span><br><span class="line">System.out.println(mockedList.get(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抛出异常</span></span><br><span class="line">System.out.println(mockedList.get(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 因为 get(999) 没有打桩，因此输出 null</span></span><br><span class="line">System.out.println(mockedList.get(<span class="number">999</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Although it is possible to verify a stubbed invocation, usually it&#x27;s just redundant</span></span><br><span class="line"><span class="comment">//If your code cares what get(0) returns then something else breaks (often before even verify() gets executed).</span></span><br><span class="line"><span class="comment">//If your code doesn&#x27;t care what get(0) returns then it should not be stubbed. Not convinced? See here.</span></span><br><span class="line"><span class="comment">// 验证 get(0) 被调用的次数</span></span><br><span class="line">verify(mockedList).get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>默认情况下，所有的函数都有返回值。mock 函数默认返回的是 null，一个空的集合或者一个被对象类型包装的内置类型，例如 0、false 对应的对象类型为 Integer、Boolean；</li>
<li>测试桩函数可以被覆写：例如常见的测试桩函数可以用于初始化夹具，但是测试函数能够覆写它。请注意，覆写测试桩函数是一种可能存在潜在问题的做法；</li>
<li>一旦测试桩函数被调用，该函数将会一直返回固定的值；</li>
<li>上一次调用测试桩函数有时候极为重要——当你调用一个函数很多次时，最后一次调用可能是你所感兴趣的。</li>
</ul>
<h2 id="3-参数匹配器-matchers"><a href="#3-参数匹配器-matchers" class="headerlink" title="3. 参数匹配器 (matchers)"></a>3. 参数匹配器 (matchers)</h2><p>Mockito 以自然的 java 风格来验证参数值: 使用 equals() 函数。有时当需要额外的灵活性时你可能需要使用参数匹配器 argument matchers :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用内置的 anyInt() 参数匹配器</span></span><br><span class="line">when(mockedList.get(anyInt())).thenReturn(<span class="string">&quot;element&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用自定义的参数匹配器( 在isValid() 函数中返回你自己的匹配器实现 )</span></span><br><span class="line">when(mockedList.contains(argThat(isValid()))).thenReturn(<span class="string">&quot;element&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 element</span></span><br><span class="line">System.out.println(mockedList.get(<span class="number">999</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 你也可以验证参数匹配器</span></span><br><span class="line">verify(mockedList).get(anyInt());</span><br></pre></td></tr></table></figure>
<p>参数匹配器使验证和测试桩变得更灵活。<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html">点击这里</a>查看更多内置的匹配器以及自定义参数匹配器或者 hamcrest 匹配器的示例。</p>
<p>如果仅仅是获取自定义参数匹配器的信息，查看<a href="http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentMatcher.html">ArgumentMatcher类文档</a>即可。</p>
<p>为了合理的使用复杂的参数匹配，使用 equals() 与 anyX() 的匹配器会使得测试代码更简洁、简单。<br>有时，会迫使你重构代码以使用 equals() 匹配或者实现 equals() 函数来帮助你进行测试。<br>同时建议你阅读<a href="#15">第15章节</a>或者<a href="http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentCaptor.html">ArgumentCaptor类文档</a>。ArgumentCaptor 是一个能够捕获参数值的特殊参数匹配器。</p>
<p>参数匹配器的注意点 : </p>
<p>如果你使用参数匹配器，所有参数都必须由匹配器提供。</p>
<p>示例 : ( 该示例展示了如何多次应用于测试桩函数的验证 ) </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">verify(mock).someMethod(anyInt(), anyString(), eq(<span class="string">&quot;third argument&quot;</span>));</span><br><span class="line"><span class="comment">// 上述代码是正确的，因为 eq() 也是一个参数匹配器</span></span><br><span class="line"></span><br><span class="line">verify(mock).someMethod(anyInt(), anyString(), <span class="string">&quot;third argument&quot;</span>);</span><br><span class="line"><span class="comment">// 上述代码是错误的，因为所有参数必须由匹配器提供，而参数 &quot;third argument&quot; 并非由参数匹配器提供，因此会抛出异常</span></span><br></pre></td></tr></table></figure>
<p>像 anyObject(), eq() 这样的匹配器函数不会返回匹配器。它们会在内部将匹配器记录到一个栈当中，并且返回一个假的值，通常为null。<br><code>这样的实现是由于被Java编译器强加的静态类型安全</code>。结果就是你不能在验证或者测试桩函数之外使用 anyObject(), eq() 函数。</p>
<p><b id="4"></b></p>
<h2 id="4-验证函数的确切、最少、从未调用次数"><a href="#4-验证函数的确切、最少、从未调用次数" class="headerlink" title="4. 验证函数的确切、最少、从未调用次数"></a>4. <a href="">验证函数的确切、最少、从未调用次数</a></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mockedList.add(<span class="string">&quot;once&quot;</span>);</span><br><span class="line"></span><br><span class="line">mockedList.add(<span class="string">&quot;twice&quot;</span>);</span><br><span class="line">mockedList.add(<span class="string">&quot;twice&quot;</span>);</span><br><span class="line"></span><br><span class="line">mockedList.add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line">mockedList.add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line">mockedList.add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的两个验证函数效果一样，因为 verify 默认验证的就是 times(1)</span></span><br><span class="line">verify(mockedList).add(<span class="string">&quot;once&quot;</span>);</span><br><span class="line">verify(mockedList, times(<span class="number">1</span>)).add(<span class="string">&quot;once&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证具体的执行次数</span></span><br><span class="line">verify(mockedList, times(<span class="number">2</span>)).add(<span class="string">&quot;twice&quot;</span>);</span><br><span class="line">verify(mockedList, times(<span class="number">3</span>)).add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用never()进行验证,never相当于times(0)</span></span><br><span class="line">verify(mockedList, never()).add(<span class="string">&quot;never happened&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用atLeast()/atMost()</span></span><br><span class="line">verify(mockedList, atMostOnce()).add(<span class="string">&quot;once&quot;</span>);</span><br><span class="line">verify(mockedList, atLeastOnce()).add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line">verify(mockedList, atLeast(<span class="number">2</span>)).add(<span class="string">&quot;five times&quot;</span>);</span><br><span class="line">verify(mockedList, atMost(<span class="number">5</span>)).add(<span class="string">&quot;three times&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>verify 函数默认验证的是执行了 times(1)，也就是某个测试函数是否执行了 1 次。因此，times(1) 通常被省略了。</p>
<p><b id="5"></b></p>
<h2 id="5-为返回值为void的函数通过Stub抛出异常"><a href="#5-为返回值为void的函数通过Stub抛出异常" class="headerlink" title="5. 为返回值为void的函数通过Stub抛出异常"></a>5. <a href="">为返回值为void的函数通过Stub抛出异常</a></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">doThrow(<span class="keyword">new</span> <span class="title class_">RuntimeException</span>()).when(mockedList).clear();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用这句代码会抛出异常</span></span><br><span class="line">mockedList.clear();</span><br></pre></td></tr></table></figure>
<p>关于 doThrow | doAnswer 等函数的信息请阅读<a href="#12">第 12 节</a>。</p>
<p><b id="6"></b></p>
<h2 id="6-验证执行执行顺序"><a href="#6-验证执行执行顺序" class="headerlink" title="6. 验证执行执行顺序"></a>6. <a href="">验证执行执行顺序</a></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A. 验证 mock 一个对象的函数执行顺序</span></span><br><span class="line"><span class="type">List</span> <span class="variable">singleMock</span> <span class="operator">=</span> mock(List.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 singleMock</span></span><br><span class="line">singleMock.add(<span class="string">&quot;was added first&quot;</span>);</span><br><span class="line">singleMock.add(<span class="string">&quot;was added second&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为该 mock 对象创建一个 inOrder 对象</span></span><br><span class="line"><span class="type">InOrder</span> <span class="variable">inOrder</span> <span class="operator">=</span> inOrder(singleMock);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 确保 add 函数首先执行的是 add(&quot;was added first&quot;)，然后才是 add(&quot;was added second&quot;)</span></span><br><span class="line">inOrder.verify(singleMock).add(<span class="string">&quot;was added first&quot;</span>);</span><br><span class="line">inOrder.verify(singleMock).add(<span class="string">&quot;was added second&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// B. 验证多个 mock 对象的函数执行顺序</span></span><br><span class="line"><span class="type">List</span> <span class="variable">firstMock</span> <span class="operator">=</span> mock(List.class);</span><br><span class="line"><span class="type">List</span> <span class="variable">secondMock</span> <span class="operator">=</span> mock(List.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 mock</span></span><br><span class="line">firstMock.add(<span class="string">&quot;was called first&quot;</span>);</span><br><span class="line">secondMock.add(<span class="string">&quot;was called second&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为这两个 mock 对象创建 inOrder 对象</span></span><br><span class="line"><span class="type">InOrder</span> <span class="variable">inOrder</span> <span class="operator">=</span> inOrder(firstMock, secondMock);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证它们的执行顺序</span></span><br><span class="line">inOrder.verify(firstMock).add(<span class="string">&quot;was called first&quot;</span>);</span><br><span class="line">inOrder.verify(secondMock).add(<span class="string">&quot;was called second&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// A 和 B 可以按照你的意愿组合在一起</span></span><br></pre></td></tr></table></figure>
<p>验证执行顺序是非常灵活的：你不需要一个一个的验证所有交互，只需要验证你感兴趣的对象即可。<br>另外，你可以仅通过那些需要验证顺序的 mock 对象来创建 InOrder 对象。</p>
<p><b id="7"></b></p>
<h2 id="7-确保交互-interaction-操作不会执行在-mock-对象上"><a href="#7-确保交互-interaction-操作不会执行在-mock-对象上" class="headerlink" title="7. 确保交互(interaction)操作不会执行在 mock 对象上"></a>7. 确保交互(interaction)操作不会执行在 mock 对象上</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用 Mock 对象</span></span><br><span class="line">mockOne.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通验证</span></span><br><span class="line">verify(mockOne).add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证某个交互是否从未被执行</span></span><br><span class="line">verify(mockOne, never()).add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证 mock 对象没有交互过</span></span><br><span class="line">verifyZeroInteractions(mockTwo, mockThree);</span><br></pre></td></tr></table></figure>
<p><b id="8"></b></p>
<h2 id="8-查找冗余的调用"><a href="#8-查找冗余的调用" class="headerlink" title="8. 查找冗余的调用"></a>8. 查找冗余的调用</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用 mock</span></span><br><span class="line">mockedList.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">mockedList.add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line"></span><br><span class="line">verify(mockedList).add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的验证将会失败</span></span><br><span class="line">verifyNoMoreInteractions(mockedList);</span><br></pre></td></tr></table></figure>
<p>一些用户可能会在频繁地使用 <code>verifyNoMoreInteractions()</code>，甚至在每个测试函数中都用。但是 <code>verifyNoMoreInteractions()</code> 并不建议在每个测试函数中都使用。<code>verifyNoMoreInteractions()</code> 在交互测试套件中只是一个便利的验证，它的作用是当你需要验证是否存在冗余调用时。滥用它将导致测试代码的可维护性降低。</p>
<p><code>never()</code> 是一种更为明显且易于理解的形式。</p>
<p><b id="9"></b></p>
<h2 id="9-简化-mock-对象的创建-Mock-注解"><a href="#9-简化-mock-对象的创建-Mock-注解" class="headerlink" title="9. 简化 mock 对象的创建 - @Mock 注解"></a>9. 简化 mock 对象的创建 - @Mock 注解</h2><ul>
<li>最小化重复的创建代码</li>
<li>使测试类的代码可读性更高</li>
<li>使验证错误更易于阅读，因为字段名可用于标识 mock 对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArticleManagerTest</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Mock</span> <span class="keyword">private</span> ArticleCalculator calculator;</span><br><span class="line">   <span class="meta">@Mock</span> <span class="keyword">private</span> ArticleDatabase database;</span><br><span class="line">   <span class="meta">@Mock</span> <span class="keyword">private</span> UserProvider userProvider;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> ArticleManager manager;</span><br></pre></td></tr></table></figure>
<p>注意！下面这句代码需要在运行测试函数之前被调用，一般放到测试类的基类或者 test runner 中:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MockitoAnnotations.initMocks(testClass);</span><br></pre></td></tr></table></figure>
<p>你可以使用内置的 runner: [MockitoJUnitRunner] [runner] 或者一个 rule : <a href="http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoJUnit.html#rule()">MockitoRule</a>。<br>对于 JUnit5 测试，在 45 节有描述。<br>关于 mock 注解的更多信息可以阅读 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html">MockitoAnnotations文档</a>。</p>
<p><b id="10"></b></p>
<h2 id="10-为连续的调用做测试桩-stub"><a href="#10-为连续的调用做测试桩-stub" class="headerlink" title="10. 为连续的调用做测试桩 (stub)"></a>10. 为连续的调用做测试桩 (stub)</h2><p>有时我们需要为同一个函数调用的不同的返回值或异常做测试桩。典型的运用就是使用 mock 迭代器。<br>原始版本的 Mockito 并没有这个特性，例如，可以使用 Iterable 或者简单的集合来替换迭代器。这些方法提供了更原始的方式。<br>在一些场景中为连续的调用做测试桩会很有用。示例如下 ： </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">when(mock.someMethod(<span class="string">&quot;some arg&quot;</span>))</span><br><span class="line">  .thenThrow(<span class="keyword">new</span> <span class="title class_">RuntimeException</span>())</span><br><span class="line">  .thenReturn(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一次调用 : 抛出运行时异常</span></span><br><span class="line">mock.someMethod(<span class="string">&quot;some arg&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二次调用 : 输出 &quot;foo&quot;</span></span><br><span class="line">System.out.println(mock.someMethod(<span class="string">&quot;some arg&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后续调用 : 也是输出 &quot;foo&quot;</span></span><br><span class="line">System.out.println(mock.someMethod(<span class="string">&quot;some arg&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>另外，连续调用的另一种更简短的版本 : </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一次调用时返回 &quot;one&quot;，第二次返回 &quot;two&quot;，第三次返回 &quot;three&quot;</span></span><br><span class="line"> when(mock.someMethod(<span class="string">&quot;some arg&quot;</span>))</span><br><span class="line">   .thenReturn(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><b id="11"></b></p>
<h2 id="11-为回调做测试桩"><a href="#11-为回调做测试桩" class="headerlink" title="11. 为回调做测试桩"></a>11. 为回调做测试桩</h2><p>Allows stubbing with generic Answer interface.<br>运行为泛型接口 Answer 打桩。</p>
<p>在最初的Mockito里也没有这个具有争议性的特性。我们建议使用thenReturn() 或thenThrow()来打桩。这两种方法足够用于测试或者测试驱动开发。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">when(mock.someMethod(anyString())).thenAnswer(<span class="keyword">new</span> <span class="title class_">Answer</span>() &#123;</span><br><span class="line">    Object <span class="title function_">answer</span><span class="params">(InvocationOnMock invocation)</span> &#123;</span><br><span class="line">        Object[] args = invocation.getArguments();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">mock</span> <span class="operator">=</span> invocation.getMock();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;called with arguments: &quot;</span> + args;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Following prints &quot;called with arguments: foo&quot;</span></span><br><span class="line"><span class="comment">// 输出 : &quot;called with arguments: foo&quot;</span></span><br><span class="line">System.out.println(mock.someMethod(<span class="string">&quot;foo&quot;</span>));</span><br></pre></td></tr></table></figure>
<p><b id="12"></b></p>
<h2 id="12-doReturn-、doThrow-、doAnswer-、doNothing-、doCallRealMethod-系列方法的运用"><a href="#12-doReturn-、doThrow-、doAnswer-、doNothing-、doCallRealMethod-系列方法的运用" class="headerlink" title="12. doReturn()、doThrow()、doAnswer()、doNothing()、doCallRealMethod()系列方法的运用"></a>12. <a href="">doReturn()、doThrow()、doAnswer()、doNothing()、doCallRealMethod()系列方法的运用</a></h2><p>通过<code>when(Object)</code>为无返回值的函数打桩有不同的方法,因为编译器不喜欢void函数在括号内…</p>
<p>使用<code>doThrow(Throwable)</code> 替换<code>stubVoid(Object)</code>来为void函数打桩是为了与<code>doAnswer()</code>等函数族保持一致性。</p>
<p>当你想为void函数打桩时使用含有一个exception 参数的<code>doAnswer()</code> : </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">doThrow(<span class="keyword">new</span> <span class="title class_">RuntimeException</span>()).when(mockedList).clear();</span><br><span class="line"></span><br><span class="line"><span class="comment">//following throws RuntimeException:</span></span><br><span class="line"><span class="comment">// 下面的代码会抛出异常</span></span><br><span class="line">mockedList.clear();</span><br></pre></td></tr></table></figure>
<p>当你调用<code>doThrow()</code>, <code>doAnswer()</code>, <code>doNothing()</code>, <code>doReturn()</code> and <code>doCallRealMethod()</code> 这些函数时可以在适当的位置调用<code>when()</code>函数. 当你需要下面这些功能时这是必须的: </p>
<ul>
<li>测试void函数</li>
<li>在受监控的对象上测试函数</li>
<li>不知一次的测试为同一个函数，在测试过程中改变mock对象的行为。</li>
</ul>
<p>但是在调用<code>when()</code>函数时你可以选择是否调用这些上述这些函数。</p>
<p>阅读更多关于这些方法的信息:</p>
<ul>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doReturn(java.lang.Object">doReturn(Object)</a>) </li>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doThrow(java.lang.Throwable">doThrow(Throwable)</a>)</li>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doThrow(java.lang.Class">doThrow(Class)</a>)</li>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doAnswer(org.mockito.stubbing.Answer">doAnswer(Answer)</a>)</li>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doNothing(">doNothing()</a>)</li>
<li><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#doCallRealMethod(">doCallRealMethod()</a>)</li>
</ul>
<p><b id="13"></b></p>
<h2 id="13-监控真实对象"><a href="#13-监控真实对象" class="headerlink" title="13. 监控真实对象"></a>13. <a href="">监控真实对象</a></h2><p>你可以为真实对象创建一个监控(spy)对象。当你使用这个spy对象时真实的对象也会也调用，除非它的函数被stub了。尽量少使用spy对象，使用时也需要小心形式，例如spy对象可以用来处理遗留代码。</p>
<p>监控一个真实的对象可以与“局部mock对象”概念结合起来。在1.8之前，mockito的监控功能并不是真正的局部mock对象。原因是我们认为局部mock对象的实现方式并不好，在某些时候我发现一些使用局部mock对象的合法用例。（第三方接口、临时重构遗留代码，完整的文章在<a href="http://monkeyisland.pl/2009/01/13/subclass-and-override-vs-partial-mocking-vs-refactoring/">这里</a> ）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line"><span class="type">List</span> <span class="variable">spy</span> <span class="operator">=</span> spy(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//optionally, you can stub out some methods:</span></span><br><span class="line"><span class="comment">// 你可以为某些函数打桩</span></span><br><span class="line">when(spy.size()).thenReturn(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//using the spy calls *real* methods</span></span><br><span class="line"><span class="comment">// 通过spy对象调用真实对象的函数</span></span><br><span class="line">spy.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">spy.add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//prints &quot;one&quot; - the first element of a list</span></span><br><span class="line"><span class="comment">// 输出第一个元素</span></span><br><span class="line">System.out.println(spy.get(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//size() method was stubbed - 100 is printed</span></span><br><span class="line"><span class="comment">// 因为size()函数被打桩了,因此这里返回的是100</span></span><br><span class="line">System.out.println(spy.size());</span><br><span class="line"></span><br><span class="line"><span class="comment">//optionally, you can verify</span></span><br><span class="line"><span class="comment">// 交互验证</span></span><br><span class="line">verify(spy).add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">verify(spy).add(<span class="string">&quot;two&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>理解监控真实对象非常重要！</p>
<p>有时，在监控对象上使用<code>when(Object)</code>来进行打桩是不可能或者不切实际的。因此，当使用监控对象时请考虑<code>doReturn|Answer|Throw()</code>函数族来进行打桩。例如 : </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line"><span class="type">List</span> <span class="variable">spy</span> <span class="operator">=</span> spy(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Impossible: real method is called so spy.get(0) throws IndexOutOfBoundsException (the list is yet empty)</span></span><br><span class="line"><span class="comment">// 不可能 : 因为当调用spy.get(0)时会调用真实对象的get(0)函数,此时会发生IndexOutOfBoundsException异常，因为真实List对象是空的</span></span><br><span class="line">   when(spy.get(<span class="number">0</span>)).thenReturn(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//You have to use doReturn() for stubbing</span></span><br><span class="line"><span class="comment">// 你需要使用doReturn()来打桩</span></span><br><span class="line">doReturn(<span class="string">&quot;foo&quot;</span>).when(spy).get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>Mockito并不会为真实对象代理函数调用，实际上它会拷贝真实对象。因此如果你保留了真实对象并且与之交互，不要期望从监控对象得到正确的结果。当你在监控对象上调用一个没有被stub的函数时并不会调用真实对象的对应函数，你不会在真实对象上看到任何效果。</p>
<p>因此结论就是 : 当你在监控一个真实对象时，你想在stub这个真实对象的函数，那么就是在自找麻烦。或者你根本不应该验证这些函数。</p>
<p><b id="14"></b></p>
<h2 id="14-修改没有测试桩的调用的默认返回值-1-7版本之后"><a href="#14-修改没有测试桩的调用的默认返回值-1-7版本之后" class="headerlink" title="14. 修改没有测试桩的调用的默认返回值 ( 1.7版本之后 ) "></a>14. <a href="">修改没有测试桩的调用的默认返回值 ( 1.7版本之后 ) </a></h2><p>你可以指定策略来创建mock对象的返回值。这是一个高级特性，通常来说，你不需要写这样的测试。然后，它对于遗留系统来说是很有用处的。当你不需要为函数调用打桩时你可以指定一个默认的answer。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Foo</span> <span class="variable">mock</span> <span class="operator">=</span> mock(Foo.class, Mockito.RETURNS_SMART_NULLS);</span><br><span class="line"><span class="type">Foo</span> <span class="variable">mockTwo</span> <span class="operator">=</span> mock(Foo.class, <span class="keyword">new</span> <span class="title class_">YourOwnAnswer</span>());</span><br></pre></td></tr></table></figure>
<p>关于RETURNS_SMART_NULLS更多的信息请查看 :<br><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#RETURNS_SMART_NULLS">RETURNS_SMART_NULLS文档</a> 。</p>
<p><b id="15"></b></p>
<h2 id="15-为下一步的断言捕获参数-1-8版本之后"><a href="#15-为下一步的断言捕获参数-1-8版本之后" class="headerlink" title="15. 为下一步的断言捕获参数 (1.8版本之后)"></a>15. 为下一步的断言捕获参数 (1.8版本之后)</h2><p>Mockito以java代码风格的形式来验证参数值 : 即通过使用<code>equals()</code>函数。这也是我们推荐用于参数匹配的方式，因为这样会使得测试代码更简单、简洁。在某些情况下，当验证交互之后要检测真实的参数值时这将变得有用。例如 ： </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArgumentCaptor&lt;Person&gt; argument = ArgumentCaptor.forClass(Person.class);</span><br><span class="line"><span class="comment">// 参数捕获</span></span><br><span class="line">verify(mock).doSomething(argument.capture());</span><br><span class="line"><span class="comment">// 使用equal断言</span></span><br><span class="line">assertEquals(<span class="string">&quot;John&quot;</span>, argument.getValue().getName());</span><br></pre></td></tr></table></figure>
<p>警告 : 我们建议使用没有测试桩的ArgumentCaptor来验证，因为使用含有测试桩的ArgumentCaptor会降低测试代码的可读性，因为captor是在断言代码块之外创建的。另一个好处是它可以降低本地化的缺点，因为如果测试桩函数没有被调用，那么参数就不会被捕获。总之，ArgumentCaptor与自定义的参数匹配器相关(可以查看<a href="ArgumentMatcher">ArgumentMatcher类的文档</a> )。这两种技术都能用于检测外部传递到Mock对象的参数。然而，使用ArgumentCaptor在以下的情况下更合适 : </p>
<ul>
<li>自定义不能被重用的参数匹配器</li>
<li>你仅需要断言参数值</li>
</ul>
<p>自定义参数匹配器相关的资料你可以参考<a href="ArgumentMatcher">ArgumentMatcher</a>文档。</p>
<h2 id="16-真实的局部mocks-1-8版本之后"><a href="#16-真实的局部mocks-1-8版本之后" class="headerlink" title="16. 真实的局部mocks (1.8版本之后)"></a>16. 真实的局部mocks (1.8版本之后)</h2><p>在内部通过邮件进行了无数争辩和讨论后，最终 Mockito 决定支持部分测试，早前我们不支持是因为我们认为部分测试会让代码变得糟糕。然而，我们发现了部分测试真正合理的用法。<a href="http://monkeyisland.pl/2009/01/13/subclass-and-override-vs-partial-mocking-vs-refactoring/">详情点这</a></p>
<p>在 Mockito 1.8 之前，spy() 方法并不会产生真正的部分测试，而这无疑会让一些开发者困惑。更详细的内容可以看：<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#13">这里</a> 或 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy(T">Java 文档</a>)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//you can create partial mock with spy() method:</span></span><br><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> spy(<span class="keyword">new</span> <span class="title class_">LinkedList</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//you can enable partial mock capabilities selectively on mocks:</span></span><br><span class="line"><span class="type">Foo</span> <span class="variable">mock</span> <span class="operator">=</span> mock(Foo.class);</span><br><span class="line"><span class="comment">//Be sure the real implementation is &#x27;safe&#x27;.</span></span><br><span class="line"><span class="comment">//If real implementation throws exceptions or depends on specific state of the object then you&#x27;re in trouble.</span></span><br><span class="line">when(mock.someMethod()).thenCallRealMethod();</span><br></pre></td></tr></table></figure>
<p>一如既往，你会去读部分测试的警告部分：面向对象编程通过将抽象的复杂度拆分为一个个独立，精确的 SRPy 对象中，降低了抽象处理的复杂度。那部分测试是怎么遵循这个规范的呢？事实上部分测试并没有遵循这个规范……部分测试通常意味着抽象的复杂度被移动到同一个对象的不同方法中，在大多数情况下，这不会是你想要的应用架构方式。</p>
<p>然而，在一些罕见的情况下部分测试才会是易用的：处理不能轻易修改的代码（第三方接口，临时重构的遗留代码等等）。然而，为了新的，测试驱动和架构优秀的代码，我是不会使用部分测试的。</p>
<h2 id="17-重置mocks对象-1-8版本之后"><a href="#17-重置mocks对象-1-8版本之后" class="headerlink" title="17. 重置mocks对象 (1.8版本之后)"></a>17. 重置mocks对象 (1.8版本之后)</h2><p>聪明的 Mockito 使用者很少会用到这个特性，因为他们知道这是出现糟糕测试单元的信号。通常情况下你不会需要重设你的测试单元，只需要为每一个测试方法重新创建一个测试单元就可以了。</p>
<p>如果你真的想通过 reset() 方法满足某些需求的话，请考虑实现简单，小而且专注于测试方法而不是冗长，精确的测试。首先可能出现的代码异味就是测试方法中间那的 reset() 方法。这可能意味着你已经过度测试了。请遵循测试方法的呢喃：请让我们小，而且专注于单一的行为上。在 Mockito 邮件列表中就有好几个讨论是和这个有关的。</p>
<p>添加 reset() 方法的唯一原因就是让它能与容器注入的测试单元协作。详情看 <a href="http://code.google.com/p/mockito/issues/detail?id=55">issue 55</a> 或 <a href="http://code.google.com/p/mockito/wiki/FAQ">FAQ</a>。</p>
<p>别自己给自己找麻烦，reset() 方法在测试方法的中间确实是代码异味。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">mock</span> <span class="operator">=</span> mock(List.class);</span><br><span class="line">when(mock.size()).thenReturn(<span class="number">10</span>);</span><br><span class="line">mock.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">reset(mock);</span><br><span class="line"><span class="comment">//at this point the mock forgot any interactions &amp; stubbing</span></span><br></pre></td></tr></table></figure>
<h2 id="18-故障排查与验证框架的使用-1-8版本之后"><a href="#18-故障排查与验证框架的使用-1-8版本之后" class="headerlink" title="18. 故障排查与验证框架的使用 (1.8版本之后)"></a>18. 故障排查与验证框架的使用 (1.8版本之后)</h2><p>首先，如果出现了任何问题，我建议你先看 <a href="http://code.google.com/p/mockito/wiki/FAQ">Mockito FAQ</a>。</p>
<p>任何你提的问题都会被提交到 Mockito 的<a href="http://groups.google.com/group/mockito">邮件列表</a>中。</p>
<p>然后你应该知道 Mockito 会验证你是否始终以正确的方式使用它，对此有疑惑的话不妨看看 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#validateMockitoUsage(">validateMockitoUsage()</a>) 的文档说明。</p>
<h2 id="19-行为驱动开发的别名-1-8版本之后"><a href="#19-行为驱动开发的别名-1-8版本之后" class="headerlink" title="19. 行为驱动开发的别名 (1.8版本之后)"></a>19. 行为驱动开发的别名 (1.8版本之后)</h2><p>行为驱动开发实现测试单元的模式将 //given //when //then comments 视作测试方法的基础，这也是我们实现单元测试时被建议做的！</p>
<p><a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">你可以在这开始学习有关 BDD 的知识</a></p>
<p>问题是当信息没有很好地与 //given //when //then comments 交互时，扮演规范角色的测试桩 API 就会出现问题。这是因为测试桩属于给定测试单元的组件，而且不是任何测试的组件。因此 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/BDDMockito.html">BDDMockito</a> 类介绍了一个别名，使你的测试桩方法调用 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/BDDMockito.html#given(T">BDDMockito.given(Object)</a>) 方法。现在它可以很好地和给定的 BDD 模式的测试单元组件进行交互。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.mockito.BDDMockito.*;</span><br><span class="line"></span><br><span class="line"><span class="type">Seller</span> <span class="variable">seller</span> <span class="operator">=</span> mock(Seller.class);</span><br><span class="line"><span class="type">Shop</span> <span class="variable">shop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Shop</span>(seller);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shouldBuyBread</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">  <span class="comment">//given</span></span><br><span class="line">  given(seller.askForBread()).willReturn(<span class="keyword">new</span> <span class="title class_">Bread</span>());</span><br><span class="line"></span><br><span class="line">  <span class="comment">//when</span></span><br><span class="line">  <span class="type">Goods</span> <span class="variable">goods</span> <span class="operator">=</span> shop.buyBread();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//then</span></span><br><span class="line">  assertThat(goods, containBread());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="20-序列化mock对象"><a href="#20-序列化mock对象" class="headerlink" title="20. 序列化mock对象"></a>20. 序列化mock对象</h2><p>模拟对象可以被序列化。有了这个特性你就可以在依赖被序列化的情况下使用模拟对象了。</p>
<p>警告：这个特性很少在单元测试中被使用。</p>
<p>To create serializable mock use <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockSettings.html#serializable(">MockSettings.serializable()</a>):</p>
<p>这个特性通过 BDD 拥有不可考外部依赖的特性的具体用例实现，来自外部依赖的 Web 环境和对象会被序列化，然后在不同层之间被传递。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> <span class="variable">serializableMock</span> <span class="operator">=</span> mock(List.class, withSettings().serializable());</span><br></pre></td></tr></table></figure>
<p>The mock can be serialized assuming all the normal <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Serializable.html">serialization requirements</a> are met by the class.</p>
<p>模拟对象能被序列化假设所有普通的序列化要求都被类满足了。</p>
<p>让一个真实的侦查对象可序列化需要多一些努力，因为 spy(…) 方法没有接收 MockSettings 的重载版本。不过不用担心，你几乎不可能用到这。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Object&gt;();</span><br><span class="line">List&lt;Object&gt; spy = mock(ArrayList.class, withSettings()</span><br><span class="line">                .spiedInstance(list)</span><br><span class="line">                .defaultAnswer(CALLS_REAL_METHODS)</span><br><span class="line">                .serializable());</span><br></pre></td></tr></table></figure>
<h2 id="21-新的注解-Captor-Spy-InjectMocks-1-8-3版本之后"><a href="#21-新的注解-Captor-Spy-InjectMocks-1-8-3版本之后" class="headerlink" title="21. 新的注解 : @Captor,@Spy,@ InjectMocks (1.8.3版本之后)"></a>21. 新的注解 : @Captor,@Spy,@ InjectMocks (1.8.3版本之后)</h2><p>V1.8.3 带来的新注解在某些场景下可能会很实用</p>
<p>@<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Captor.html">Captor</a> 简化 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentCaptor.html">ArgumentCaptor</a> 的创建 - 当需要捕获的参数是一个令人讨厌的通用类，而且你想避免编译时警告。</p>
<p>@<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Spy.html">Spy</a> - 你可以用它代替 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy(T">spy(Object) 方法</a>)</p>
<p>@<a href="http://site.mockito.org/mockito/docs/current/org/mockito/InjectMocks.html">InjectMocks</a> - 自动将模拟对象或侦查域注入到被测试对象中。需要注意的是 @InjectMocks 也能与 @Spy 一起使用，这就意味着 Mockito 会注入模拟对象到测试的部分测试中。它的复杂度也是你应该使用部分测试原因。</p>
<p>所有新的注解仅仅在 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object">MockitoAnnotations.initMocks(Object)</a>) 方法中被处理，就像你在 built-in runner 中使用的 @<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mock.html">Mock</a> 注解：<a href="http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html">MockitoJUnitRunner</a> 或 规范: <a href="http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html">MockitoRule</a>.</p>
<h2 id="22-验证超时-1-8-5版本之后"><a href="#22-验证超时-1-8-5版本之后" class="headerlink" title="22. 验证超时 (1.8.5版本之后)"></a>22. 验证超时 (1.8.5版本之后)</h2><p>允许带有暂停的验证。这使得一个验证去等待一段特定的时间，以获得想要的交互而不是如果还没有发生事件就带来的立即失败。在并发条件下的测试这会很有用。</p>
<p>感觉起来这个特性应该很少被使用 - 指出更好的测试多线程系统的方法。</p>
<p>还没有实现去和 InOrder 验证协作。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//passes when someMethod() is called within given time span</span></span><br><span class="line">verify(mock, timeout(<span class="number">100</span>)).someMethod();</span><br><span class="line"><span class="comment">//above is an alias to:</span></span><br><span class="line">verify(mock, timeout(<span class="number">100</span>).times(<span class="number">1</span>)).someMethod();</span><br><span class="line"></span><br><span class="line"><span class="comment">//passes when someMethod() is called *exactly* 2 times within given time span</span></span><br><span class="line">verify(mock, timeout(<span class="number">100</span>).times(<span class="number">2</span>)).someMethod();</span><br><span class="line"></span><br><span class="line"><span class="comment">//passes when someMethod() is called *at least* 2 times within given time span</span></span><br><span class="line">verify(mock, timeout(<span class="number">100</span>).atLeast(<span class="number">2</span>)).someMethod();</span><br><span class="line"></span><br><span class="line"><span class="comment">//verifies someMethod() within given time span using given verification mode</span></span><br><span class="line"><span class="comment">//useful only if you have your own custom verification modes.</span></span><br><span class="line">verify(mock, <span class="keyword">new</span> <span class="title class_">Timeout</span>(<span class="number">100</span>, yourOwnVerificationMode)).someMethod();</span><br></pre></td></tr></table></figure>
<h2 id="23-自动初始化被-Spies-InjectMocks注解的字段以及构造函数注入-1-9-0版本之后"><a href="#23-自动初始化被-Spies-InjectMocks注解的字段以及构造函数注入-1-9-0版本之后" class="headerlink" title="23. 自动初始化被@Spies, @InjectMocks注解的字段以及构造函数注入 (1.9.0版本之后)"></a>23. 自动初始化被@Spies, @InjectMocks注解的字段以及构造函数注入 (1.9.0版本之后)</h2><p>Mockito 现在会通过注入构造方法、setter 或域注入尽可能初始化带有 @<a href="http://site.mockito.org/mockito/docs/current/org/mockito/Spy.html">Spy</a> 和 @<a href="http://site.mockito.org/mockito/docs/current/org/mockito/InjectMocks.html">InjectMocks</a> 注解的域或方法。</p>
<p>为了利用这一点特性，你需要使用 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object">MockitoAnnotations.initMocks(Object)</a>), <a href="http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html">MockitoJUnitRunner</a> 或 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoRule.html">MockitoRule</a>。</p>
<p>为了 InjectMocks 请在 Java 文档中了解更多可用的技巧和注入的规范</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//instead:</span></span><br><span class="line"><span class="meta">@Spy</span> <span class="type">BeerDrinker</span> <span class="variable">drinker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BeerDrinker</span>();</span><br><span class="line"><span class="comment">//you can write:</span></span><br><span class="line"><span class="meta">@Spy</span> BeerDrinker drinker;</span><br><span class="line"></span><br><span class="line"><span class="comment">//same applies to @InjectMocks annotation:</span></span><br><span class="line"><span class="meta">@InjectMocks</span> LocalPub;</span><br></pre></td></tr></table></figure>
<h2 id="24-单行测试桩-1-9-0版本之后"><a href="#24-单行测试桩-1-9-0版本之后" class="headerlink" title="24. 单行测试桩 (1.9.0版本之后)"></a>24. 单行测试桩 (1.9.0版本之后)</h2><p>Mockito 现在允许你在使用测试桩时创建模拟对象。基本上，它允许在一行代码中创建一个测试桩，这对保持代码的整洁很有用。举例来说，有些乏味的测试桩会被创建，并在测试初始化域时被打入，例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CarTest</span> &#123;</span><br><span class="line">  <span class="type">Car</span> <span class="variable">boringStubbedCar</span> <span class="operator">=</span> when(mock(Car.class).shiftGear()).thenThrow(EngineNotStarted.class).getMock();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Test</span> <span class="keyword">public</span> <span class="keyword">void</span> should... &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="25-验证被忽略的测试桩-1-9-0版本之后"><a href="#25-验证被忽略的测试桩-1-9-0版本之后" class="headerlink" title="25. 验证被忽略的测试桩 (1.9.0版本之后)"></a>25. 验证被忽略的测试桩 (1.9.0版本之后)</h2><p>Mockito 现在允许为了验证无视测试桩。在与 verifyNoMoreInteractions() 方法或验证 inOrder() 方法耦合时，有些时候会很有用。帮助避免繁琐的打入测试桩调用验证 - 显然我们不会对验证测试桩感兴趣。</p>
<p>警告，ignoreStubs() 可能会导致 verifyNoMoreInteractions(ignoreStubs(…)) 的过度使用。谨记在心，Mockito 没有推荐用 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...">verifyNoMoreInteractions()</a>) 方法连续地施用于每一个测试中，原因在 Java 文档中有。</p>
<p>一些例子：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">verify(mock).foo();</span><br><span class="line">verify(mockTwo).bar();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ignores all stubbed methods:</span></span><br><span class="line">verifyNoMoreInvocations(ignoreStubs(mock, mockTwo));</span><br><span class="line"></span><br><span class="line"><span class="comment">//creates InOrder that will ignore stubbed</span></span><br><span class="line"><span class="type">InOrder</span> <span class="variable">inOrder</span> <span class="operator">=</span> inOrder(ignoreStubs(mock, mockTwo));</span><br><span class="line">inOrder.verify(mock).foo();</span><br><span class="line">inOrder.verify(mockTwo).bar();</span><br><span class="line">inOrder.verifyNoMoreInteractions();</span><br></pre></td></tr></table></figure>
<p>更好的例子和更多的细节都可以在 Java 文档的 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#ignoreStubs(java.lang.Object...">ignoreStubs(Object…)</a>) 部分看到。</p>
<h2 id="26-mock详情-1-9-5版本之后"><a href="#26-mock详情-1-9-5版本之后" class="headerlink" title="26. mock详情 (1.9.5版本之后)"></a>26. mock详情 (1.9.5版本之后)</h2><p>为了区别一个对象是模拟对象还是侦查对象：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Mockito.mockingDetails(someObject).isMock();</span><br><span class="line">Mockito.mockingDetails(someObject).isSpy();</span><br></pre></td></tr></table></figure>
<p><a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockingDetails.html#isMock(">MockingDetails.isMock()</a>) 和 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockingDetails.html#isSpy(">MockingDetails.isSpy()</a>) 方法都会返回一个布尔值。因为一个侦查对象只是模拟对象的一种变种，所以 isMock() 方法在对象是侦查对象是会返回 true。在之后的 Mockito 版本中 MockingDetails 会变得更健壮，并提供其他与模拟对象相关的有用信息，例如：调用，测试桩信息，等等……</p>
<h2 id="27-委托调用真实实例-Since-1-9-5"><a href="#27-委托调用真实实例-Since-1-9-5" class="headerlink" title="27. 委托调用真实实例 (Since 1.9.5)"></a>27. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#delegating_call_to_real_instance">委托调用真实实例</a> (Since 1.9.5)</h2><p>当<strong>使用常规的 spy API 去 mock 或者 spy 一个对象很困难</strong>时可以用 delegate 来 spy 或者 mock 对象的某一部分。<br>从 Mockito 的 1.10.11 版本开始， delegate 有可能和 mock 的类型相同也可能不同。如果不是同一类型，<br>delegate 类型需要提供一个匹配方法否则就会抛出一个异常。下面是关于这个特性的一些用例:</p>
<ul>
<li>带有 interface 的 final 类</li>
<li>已经自定义代理的对象</li>
<li>带有 finalize 方法的特殊对象，就是避免重复执行。</li>
</ul>
<p>和常规 spy 的不同:</p>
<ul>
<li><p>标准的 spy <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy(T)">(spy(Object))</a> 包含被 spy 实例的所有状态信息，方法在 spy 对象上被调用。被 spy 的对象只在 mock<br>创建时被用来拷贝状态信息。如果你通过标准 spy 调用一个方法，这个 spy 会调用其内部的其他方法记录这次操作，<br>以便后面验证使用。等效于存根 (stubbed)操作。</p>
</li>
<li><p>mock delegates 只是简单的把所有方法委托给 delegate。delegate 一直被当成它代理的方法使用。如果你<br>从一个 mock 调用它被委托的方法，它会调用其内部方法，这些调用不会被记录，stubbing 在这里也不会生效。<br>Mock 的 delegates 相对于标准的 spy 来说功能弱了很多，不过在标准 spy 不能被创建的时候很有用。</p>
</li>
</ul>
<p>更多信息可以看这里 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object)">AdditionalAnswers.delegatesTo(Object)</a>.</p>
<hr>
<h2 id="28-MockMaker-API-Since-1-9-5"><a href="#28-MockMaker-API-Since-1-9-5" class="headerlink" title="28. MockMaker API (Since 1.9.5)"></a>28. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#mock_maker_plugin">MockMaker API </a>(Since 1.9.5)</h2><p>为了满足用户的需求和 Android 平台使用。Mockito 现在提供一个扩展点，允许替换代理生成引擎。默认情况下，Mockito 使用 cglib 创建动态代理。</p>
<p>这个扩展点是为想要扩展 Mockito 功能的高级用户准备的。比如，我们现在就可以在 dexmaker 的帮助下使用 Mockito<br>测试 Android。</p>
<p>更多的细节，原因和示例请看 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/plugins/MockMaker.html">MockMaker</a> 的文档。</p>
<hr>
<h2 id="29-new-BDD-风格的验证-Since-1-10-0"><a href="#29-new-BDD-风格的验证-Since-1-10-0" class="headerlink" title="29. (new) BDD 风格的验证 (Since 1.10.0)"></a>29. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#BDD_behavior_verification">(new) BDD 风格的验证</a> (Since 1.10.0)</h2><p>开启 Behavior Driven Development (BDD) 风格的验证可以通过 BBD 的关键词 <strong>then</strong> 开始验证。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">given(dog.bark()).willReturn(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// when</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">then(person).should(times(<span class="number">2</span>)).ride(bike);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>更多信息请查阅 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/BDDMockito.html#then(T)"> BDDMockito.then(Object)</a> .</p>
<hr>
<h2 id="30-new-Spying-或-mocking-抽象类-Since-1-10-12"><a href="#30-new-Spying-或-mocking-抽象类-Since-1-10-12" class="headerlink" title="30. (new) Spying 或 mocking 抽象类 (Since 1.10.12)"></a>30. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spying_abstract_classes">(new) Spying 或 mocking 抽象类</a> (Since 1.10.12)</h2><p>现在可以方便的 spy 一个抽象类。注意，过度使用 spy 或许意味着代码的设计上有问题。(see <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#spy(T)">spy(Object)</a>).</p>
<p>之前，spying 只可以用在实例对象上。而现在新的 API 可以在创建一个 mock 实例时使用构造函数。这对 mock<br>一个抽象类来说是很重要的，这样使用者就不必再提供一个抽象类的实例了。目前的话只支持无参构造函数，<br>如果你认为这样还不够的话欢迎向我们反馈。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//convenience API, new overloaded spy() method:</span></span><br><span class="line"> <span class="type">SomeAbstract</span> <span class="variable">spy</span> <span class="operator">=</span> spy(SomeAbstract.class);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//Robust API, via settings builder:</span></span><br><span class="line"> <span class="type">OtherAbstract</span> <span class="variable">spy</span> <span class="operator">=</span> mock(OtherAbstract.class, withSettings()</span><br><span class="line">    .useConstructor().defaultAnswer(CALLS_REAL_METHODS));</span><br><span class="line"></span><br><span class="line"> <span class="comment">//Mocking a non-static inner abstract class:</span></span><br><span class="line"> <span class="type">InnerAbstract</span> <span class="variable">spy</span> <span class="operator">=</span> mock(InnerAbstract.class, withSettings()</span><br><span class="line">    .useConstructor().outerInstance(outerInstance).defaultAnswer(CALLS_REAL_METHODS));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>更多信息请见 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockSettings.html#useConstructor()">MockSettings.useConstructor()</a> .</p>
<hr>
<h2 id="31-new-Mockito-mocks-可以通过-classloaders-序列化-反序列化-Since-1-10-0"><a href="#31-new-Mockito-mocks-可以通过-classloaders-序列化-反序列化-Since-1-10-0" class="headerlink" title="31. (new) Mockito mocks 可以通过 classloaders 序列化/反序列化 (Since 1.10.0)"></a>31. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#serilization_across_classloader">(new) Mockito mocks 可以通过 classloaders 序列化/反序列化</a> (Since 1.10.0)</h2><p> Mockito 通过 classloader 引入序列化。和其他形式的序列化一样，所有 mock 层的对象都要被序列化，<br> 包括 answers。因为序列化模式需要大量的工作，所以这是一个可选择设置。</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 常规的 serialization</span></span><br><span class="line">mock(Book.class, withSettings().serializable());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 classloaders 序列化</span></span><br><span class="line">mock(Book.class, withSettings().serializable(ACROSS_CLASSLOADERS));</span><br></pre></td></tr></table></figure>
<p>更多信息请查看 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockSettings.html#serializable(org.mockito.mock.SerializableMode)">MockSettings.serializable(SerializableMode)</a>.</p>
<hr>
<h2 id="32-new-Deep-stubs-更好的泛型支持-Since-1-10-0"><a href="#32-new-Deep-stubs-更好的泛型支持-Since-1-10-0" class="headerlink" title="32. (new) Deep stubs 更好的泛型支持 (Since 1.10.0)"></a>32. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#better_generic_support_with_deep_stubs">(new) Deep stubs 更好的泛型支持</a> (Since 1.10.0)</h2><p> Deep stubbing 现在可以更好的查找类的泛型信息。这就意味着像这样的类<br> 不必去 mock 它的行为就可以使用。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Lines</span> <span class="keyword">extends</span> <span class="title class_">List</span>&lt;Line&gt; &#123;</span><br><span class="line">     <span class="comment">// ...</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> lines = mock(Lines.class, RETURNS_DEEP_STUBS);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Now Mockito understand this is not an Object but a Line</span></span><br><span class="line"> <span class="type">Line</span> <span class="variable">line</span> <span class="operator">=</span> lines.iterator().next();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>请注意，大多数情况下 mock 返回一个 mock 对象是错误的。</p>
<hr>
<h2 id="33-new-Mockito-JUnit-rule-Since-1-10-17"><a href="#33-new-Mockito-JUnit-rule-Since-1-10-17" class="headerlink" title="33.  (new) Mockito JUnit rule (Since 1.10.17)"></a>33.  <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#mockito_junit_rule">(new) Mockito JUnit rule</a> (Since 1.10.17)</h2><p>Mockito 现在提供一个 JUnit rule。目前为止，有两种方法可以初始化 fields ，使用 Mockito 提供的注解比如<br><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mock.html">@Mock</a>, <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Spy.html">@Spy</a>, <a href="http://site.mockito.org/mockito/docs/current/org/mockito/InjectMocks.html">@InjectMocks</a> 等等。</p>
<ul>
<li>用 @RunWith(<a href="http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html">@MockitoJUnitRunner.class</a>) 标注 JUnit 测试类</li>
<li>在 @Before 之前调用 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)">MockitoAnnotations.initMocks(Object)</a></li>
</ul>
<p>现在你可以选择使用一个 rule:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RunWith(YetAnotherRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TheTest</span> &#123;</span><br><span class="line">    <span class="meta">@Rule</span> <span class="keyword">public</span> <span class="type">MockitoRule</span> <span class="variable">mockito</span> <span class="operator">=</span> MockitoJUnit.rule();</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多信息到这里查看 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/junit/MockitoJUnit.html#rule()">MockitoJUnit.rule()</a>.</p>
<hr>
<h2 id="34-new-开启和关闭-plugins-Since-1-10-15"><a href="#34-new-开启和关闭-plugins-Since-1-10-15" class="headerlink" title="34. (new) 开启和关闭 plugins (Since 1.10.15)"></a>34. <a href="http://site.mockito.org/mockito/docs/current/org/mockito/plugins/PluginSwitch.html">(new) 开启和关闭 plugins</a> (Since 1.10.15)</h2><p>这是一个测试特性，可以控制一个 mockito-plugin 开启或者关闭。详情请查看 <a href="http://site.mockito.org/mockito/docs/current/org/mockito/plugins/PluginSwitch.html">PluginSwitch</a></p>
<hr>
<p>###35. 自定义验证失败信息 (Since 2.0.0)</p>
<p>允许声明一个在验证失败时输出的自定义消息<br>示例:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// will print a custom message on verification failure</span></span><br><span class="line">verify(mock, description(<span class="string">&quot;This will print on failure&quot;</span>)).someMethod();</span><br><span class="line"></span><br><span class="line"><span class="comment">// will work with any verification mode</span></span><br><span class="line">verify(mock, times(<span class="number">2</span>).description(<span class="string">&quot;someMethod should be called twice&quot;</span>)).someMethod();</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Mockito</tag>
      </tags>
  </entry>
  <entry>
    <title>利用 Let&#39;s Encrypt 配置 Apache SSL 证书</title>
    <url>/apache-https.html</url>
    <content><![CDATA[<p>HTTPS（全称：Hyper Text Transfer Protocol over Secure Socket Layer），是以安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版。</p>
<p>即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL。</p>
<p>本文介绍如何使用 Let’s Encrypt 签发免费证书实现 Apache HTTPS。</p>
<span id="more"></span>
<h2 id="Let’s-Encrypt"><a href="#Let’s-Encrypt" class="headerlink" title="Let’s Encrypt"></a>Let’s Encrypt</h2><p>Let’s Encrypt 是一个由非营利性组织 互联网安全研究小组（ISRG）提供的免费、自动化和开放的证书颁发机构（CA）。</p>
<p>简单的说，借助 Let’s Encrypt 颁发的证书可以为我们的网站免费启用 HTTPS(SSL/TLS)。</p>
<p>Let’s Encrypt 免费证书的签发/续签都是脚本自动化的，官方提供了几种证书的申请方式方法，点击 <a href="https://letsencrypt.org/docs/client-options/">此处</a> 快速浏览。</p>
<p>官方推荐使用 Certbot 客户端来签发证书，可以帮我们获取免费的 Let’s Encrypt 证书。Certbot 支持所有 Unix 内核的操作系统。</p>
<h2 id="安装-Certbot-并生成证书"><a href="#安装-Certbot-并生成证书" class="headerlink" title="安装 Certbot 并生成证书"></a>安装 Certbot 并生成证书</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">$ sudo yum <span class="keyword">install</span> certbot -y</span><br></pre></td></tr></table></figure>
<p>安装完成后，可以先通过运行 certbot 进行测试，如无问题则继续下一步。</p>
<p>查看端口是否被占用，有其他服务（例如 Nginx 或者 Apache）占用了 80 端口和 443 端口，就必须先停止这些服务，在证书生成完毕后再启用。<br><figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">$ netstat -tunlp <span class="string">| grep :443</span></span><br><span class="line">$ netstat -tunlp <span class="string">| grep :80</span></span><br></pre></td></tr></table></figure></p>
<p>否则在执行下一步生成证书时会报 <code>Problem binding to port 80: Could not bind to IPv4 or IPv6.</code>。</p>
<p>接着继续生成证书<br><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">$ certbot certonly <span class="attr">--standalone</span> -d www<span class="selector-class">.fcj</span>.one</span><br></pre></td></tr></table></figure></p>
<p>证书生成完毕后，可以在 <code>/etc/letsencrypt/live/</code> 目录下看到对应域名的文件夹找到证书。</p>
<p>这时候我们的第一步生成证书已经完成了，接下来就是配置 Apache 服务器，启用 HTTPS。</p>
<h2 id="Apache-启用-HTTPS"><a href="#Apache-启用-HTTPS" class="headerlink" title="Apache 启用 HTTPS"></a>Apache 启用 HTTPS</h2><p>打开 Apache 安装目录下 conf 目录中的 httpd.conf 文件，找到以下内容并去掉 ‘#’。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">LoadModule</span> ssl_module modules/mod_ssl.so</span><br></pre></td></tr></table></figure>
<p>如果不存在可手动添加，前提是已经安装 ssl 模块：<code>yum install mod_ssl</code>。</p>
<p>然后在 <code>/etc/httpd/conf/httpd.conf</code> 添加以下配置：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">443</span>&gt;</span><br><span class="line">    DocumentRoot <span class="string">&quot;/var/www/html&quot;</span></span><br><span class="line">    ServerName www.fcj.one</span><br><span class="line">    SSLEngine on</span><br><span class="line">    SSLCertificateFile <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/live/</span>www.fcj.one/cert.pem</span><br><span class="line">    SSLCertificateKeyFile <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/live/</span>www.fcj.one/privkey.pem</span><br><span class="line">    SSLCertificateChainFile <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/live/</span>www.fcj.one/chain.pem</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>
<p>重启 Apache 服务器：<code>service httpd restart</code></p>
<h2 id="证书续约"><a href="#证书续约" class="headerlink" title="证书续约"></a>证书续约</h2><p>Let’s Encrypt 提供的免费证书只有 90 天的有效期，必须在证书到期之前，重新获取这些证书，</p>
<p>certbot 给我们提供了一个很方便的命令 <code>certbot renew</code>。 通过这个命令，会自动检查系统内的证书，并且自动更新这些证书。</p>
<p>这里直接用 crontab 设置每月定时更新即可。<a href="http://blog.fcj.one/centos-crontab.html">crontab 用法参考</a></p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">4</span> * */<span class="number">2</span> * certbot renew --pre-hook <span class="string">&quot;systemctl stop httpd&quot;</span> --post-hook <span class="string">&quot;systemctl start httpd&quot;</span></span><br></pre></td></tr></table></figure>
<p>每隔两个月凌晨四点进行证书更新，并先行停止 httpd 服务，之后再开启。</p>
<h2 id="防火墙开放-443-端口"><a href="#防火墙开放-443-端口" class="headerlink" title="防火墙开放 443 端口"></a>防火墙开放 443 端口</h2><p>如果你设置了防火墙，请在防火墙中开启 443 端口。</p>
<p>如果是 firewalld 的可以使用下面命令：<br><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo firewall-cmd <span class="attribute">--add-service</span>=http</span><br><span class="line">sudo firewall-cmd <span class="attribute">--add-service</span>=https</span><br><span class="line">sudo firewall-cmd --runtime-to-permanent</span><br></pre></td></tr></table></figure></p>
<p>如果是iptables的可以使用下面命令<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sudo iptables -<span class="selector-tag">I</span> <span class="selector-tag">INPUT</span> -<span class="selector-tag">p</span> tcp -m tcp <span class="attr">--dport</span> <span class="number">80</span> -j ACCEPT</span><br><span class="line">sudo iptables -<span class="selector-tag">I</span> <span class="selector-tag">INPUT</span> -<span class="selector-tag">p</span> tcp -m tcp <span class="attr">--dport</span> <span class="number">443</span> -j ACCEPT</span><br></pre></td></tr></table></figure></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.jianshu.com/p/3aa5cb957d9f">https://www.jianshu.com/p/3aa5cb957d9f</a></li>
<li><a href="https://blog.csdn.net/qq_20240999/article/details/87618667">https://blog.csdn.net/qq_20240999/article/details/87618667</a></li>
<li><a href="http://www.cnblogs.com/hi-bazinga/archive/2012/04/23/2466605.html">http://www.cnblogs.com/hi-bazinga/archive/2012/04/23/2466605.html</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>apache</tag>
        <tag>Linux</tag>
        <tag>vps</tag>
      </tags>
  </entry>
  <entry>
    <title>利用 Travis CI 自动部署 Hexo 博客最佳实践</title>
    <url>/hexo-travis.html</url>
    <content><![CDATA[<p>.<br><span id="more"></span></p>
<h2 id="Travis-CI-介绍"><a href="#Travis-CI-介绍" class="headerlink" title="Travis-CI 介绍"></a>Travis-CI 介绍</h2><p>　　CI 即 Continuous Integration，译为持续集成。持续集成指的是只要代码有变更，都会触发 CI 服务器自动对项目运行构建和测试，反馈结果，最终甚至自动部署到测试或生产环境。</p>
<p>　　Travis CI 是一个提供持续集成功能的平台，在 Github 上，可以添加 Travis CI　应用，当有 code push 时候，会推送通知到 Travis，根据设置的脚本运行指定任务。和 Jenkins 不同，Travis CI 是由官方远端提供服务器而无需自己搭建，且只支持 Github，不支持其他代码托管服务。</p>
<p>目前有两个站点:</p>
<ol>
<li><a href="https://travis-ci.org">travis-ci.org</a> 对于所有 public 项目完全免费</li>
<li><a href="https://travis-ci.com">travis-ci.com</a> 只针对 private 项目，提供更多一些额外功能，如 cache，并行 build 个数</li>
</ol>
<blockquote>
<p>两个站点只能看到各自的项目，不能通用。</p>
</blockquote>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>通常更新一篇 Hexo 博客文章，基本流程是：</p>
<ol>
<li>本地新建 post 页面</li>
<li>在文本编辑器里用 Markdown 语法编辑新建页面</li>
<li>本地生成 public 文件：<code>hexo g &amp;&amp; gulp</code></li>
<li>启动本地测试web server：<code>hexo s --debug</code></li>
<li>浏览器打开 <code>http://localhost:4000/</code>, 浏览生成文章</li>
<li>如果满意，即可部署到Github page仓库或者 VPS 上：<code>hexo d</code></li>
</ol>
<p>下面主要介绍如何利用 Travis CI 自动完成第 3-6 步.</p>
<h3 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h3><ul>
<li>生成 SSH key</li>
<li>托管 Hexo 博客的 Github仓库，hexo 分支为源代码，master 分支存放生成的静态博客文件。<a href="http://blog.fcj.one/hexo-multi-snyc.html">参考</a></li>
<li>发布博客的 VPS，并可以通过 hexo-deployer-git 发布。<a href="http://blog.fcj.one/hexo-git-vps.html">参考</a></li>
<li>已经配置好 gulp 实现博文压缩。<a href="http://blog.fcj.one/hexo-gulp-post.html">参考</a></li>
</ul>
<h3 id="开启-Travis-CI"><a href="#开启-Travis-CI" class="headerlink" title="开启 Travis CI"></a>开启 Travis CI</h3><p>直接进入 <a href="https://travis-ci.org">travis-ci.org</a> 官网，用 Github 账号授权登录。在右上角账户头像处点击进入 Settings，在 Repositories Tab 页点击 Sync now 同步你的 Github 项目。选中 Hexo 博客项目将默认的 off 改变为 on 开启项目的持续集成。<br><img src="https://changingfond.oss-cn-hangzhou.aliyuncs.com/19-10-22/QQ%E6%88%AA%E5%9B%BE20191023193143.jpg" alt=""></p>
<h3 id="加密-SSH-私钥"><a href="#加密-SSH-私钥" class="headerlink" title="加密 SSH 私钥"></a>加密 SSH 私钥</h3><p>　　当 push 到 github 仓库时 travis 自动读取一个名为 <code>.travis.yml</code> 配置文件来完成 hexo 的 generate 和 deploy，但是 deploy 需要 VPS 和 Github 的 ssh 写权限，所以需要将 ssh key 上传到项目中，为方便自动化部署，本地系统、Github 和 VPS 上都使用同一套 ssh 公钥和秘钥 （下文的 id_rsa 和 id_rsa.pub）。因为 github 的项目是公开的，需要将 ssh key 加密放到项目中，travis 运行时再解密生成 key，保证秘钥安全性。<br>　　travis 加密命令是要通过 gem 安装的，gem 依赖 ruby 环境，请确保 ruby 已经安装。gem 在国内不太好访问，建议在 vps 上博客的项目目录里（没有就 clone一个，因为下面的 –add 会修改 .travis.yml ）安装执行下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gem install travis</span><br><span class="line">travis login                        <span class="comment"># 使用 github 帐号和密码登录</span></span><br><span class="line">travis encrypt-file id_rsa  --add   <span class="comment"># 加密 id_rsa 私钥，--add 将解密命令添加到 .travis.yml</span></span><br></pre></td></tr></table></figure>
<h3 id="集成-build-图标"><a href="#集成-build-图标" class="headerlink" title="集成 build 图标"></a>集成 build 图标</h3><p>在 Travis CI 控制台里，点击 build:passing 图标，选择 Markdown 样式，粘贴到项目 Readme 里即可。</p>
<h3 id="travis-yml"><a href="#travis-yml" class="headerlink" title=".travis.yml"></a>.travis.yml</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">language: node_js</span><br><span class="line">node_js: 8</span><br><span class="line">install:</span><br><span class="line">- npm install -g hexo-cli</span><br><span class="line">- npm install -g hexo-deployer-git</span><br><span class="line">- npm install -g gulp</span><br><span class="line">- npm install</span><br><span class="line">addons:</span><br><span class="line">  ssh_known_hosts: host-ip:ssh-port</span><br><span class="line">script:</span><br><span class="line">- hexo g</span><br><span class="line">- gulp</span><br><span class="line">- hexo d</span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">  - hexo</span><br><span class="line">before_install:</span><br><span class="line">- openssl aes-256-cbc -K <span class="variable">$encrypted_34f58abb81d6_key</span> -iv <span class="variable">$encrypted_34f58abb81d6_iv</span></span><br><span class="line">  -<span class="keyword">in</span> id_rsa.enc -out ~/.ssh/id_rsa -d</span><br><span class="line">- <span class="built_in">chmod</span> 600 ~/.ssh/id_rsa</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>配置完成后，以后当你本地编辑完 md 文件后，只需要运行 git push，推送代码到 Github 就会触发 Travis CI 自动生成 build，部署新的博客内容。</p>
<h2 id="travis-yml-字段解析"><a href="#travis-yml-字段解析" class="headerlink" title=".travis.yml 字段解析"></a>.travis.yml 字段解析</h2><h3 id="ssh-known-hosts"><a href="#ssh-known-hosts" class="headerlink" title="ssh known_hosts"></a>ssh known_hosts</h3><p>　　因为 travis-ci 默认只添加了 github.com, gist.github.com 和 ssh.github.com 为 known_hosts，hexo d 执行时会提示是否添加地址到 known_hosts，但是 travis-ci 里不能输入确认，所以需要将服务器的 IP 和端口添加到 known_hosts<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">addons:</span><br><span class="line">  ssh_known_hosts: ssh_known_hosts: host-ip:ssh-port</span><br></pre></td></tr></table></figure></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://www.karlzhou.com/2016/05/28/travis-ci-deploy-blog/">https://www.karlzhou.com/2016/05/28/travis-ci-deploy-blog/</a></li>
<li><a href="https://blog.csdn.net/u012373815/article/details/53574002">https://blog.csdn.net/u012373815/article/details/53574002</a></li>
<li><a href="https://blog.csdn.net/qq_23079443/article/details/79015225">https://blog.csdn.net/qq_23079443/article/details/79015225</a></li>
<li><a href="https://segmentfault.com/a/1190000005687985">https://segmentfault.com/a/1190000005687985</a></li>
<li><a href="http://blog.acwong.org/2016/03/20/auto-deploy-hexo-with-travis-CI/">http://blog.acwong.org/2016/03/20/auto-deploy-hexo-with-travis-CI/</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html">http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>vps</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 博客静态资源压缩</title>
    <url>/hexo-gulp-post.html</url>
    <content><![CDATA[<p>静态资源压缩可以优化网页的访问速度，提高用户体验。</p>
<span id="more"></span>
<ol>
<li>在站点的根目录下执行以下命令：<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> gulp -g</span><br><span class="line">$ npm <span class="keyword">install</span> gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure></li>
<li>在博客根目录下新建 gulpfile.js，并填入以下内容：<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-minify-css&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>);</span><br><span class="line"><span class="comment">// 压缩 public 目录 css</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">minifycss</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public 目录 html</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">         <span class="attr">removeComments</span>: <span class="literal">true</span>,</span><br><span class="line">         <span class="attr">minifyJS</span>: <span class="literal">true</span>,</span><br><span class="line">         <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</span><br><span class="line">         <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 压缩 public/js 目录 js</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-js&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.js&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">uglify</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;default&#x27;</span>, [</span><br><span class="line">    <span class="string">&#x27;minify-html&#x27;</span>,<span class="string">&#x27;minify-css&#x27;</span>,<span class="string">&#x27;minify-js&#x27;</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure></li>
<li>执行 hexo clean &amp; hexo g &amp;&amp; gulp 就会根据 gulpfile.js 中的配置，对 public 目录中的静态资源文件进行压缩。</li>
</ol>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>后端书单</title>
    <url>/backend-book.html</url>
    <content><![CDATA[<p>读万卷书，行万里路。</p>
<span id="more"></span>
<ul>
<li>《Java核心技术 卷I：基础知识（原书第10版）》</li>
<li>《Java并发编程实战》</li>
<li>《Java高并发编程详解：多线程与架构设计》</li>
<li>《深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）》</li>
<li>《Spring实战（第4版）》</li>
<li>《深入浅出Spring Boot 2.x》</li>
<li>《Spring Cloud微服务实战》</li>
<li>《Redis设计与实现》</li>
<li>《Redis开发与运维》</li>
<li>《高性能MySQL（第3版）》</li>
<li>《MySQL技术内幕：InnoDB存储引擎（第2版）》</li>
<li>《大型网站系统与Java中间件实践》</li>
<li>《从Paxos到Zookeeper：分布式一致性原理与实践》</li>
<li>《Tomcat架构解析》</li>
<li>《Netty权威指南（第2版）》</li>
<li>《深入分析Java Web技术内幕（修订版）》</li>
<li>《亿级流量网站架构核心技术——跟开涛学搭建高可用高并发系统》</li>
<li>《重构：改善既有代码的设计（第2版）》</li>
<li>《数据结构与算法分析：Java语言描述（原书第3版）》</li>
<li>《剑指Offer：名企面试官精讲典型编程题（第2版）》</li>
</ul>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Git 常用命令指南</title>
    <url>/git-tutorial.html</url>
    <content><![CDATA[<p>*<br><span id="more"></span></p>
<h2 id="首次提交代码至远程仓库"><a href="#首次提交代码至远程仓库" class="headerlink" title="首次提交代码至远程仓库"></a>首次提交代码至远程仓库</h2><h3 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> repository_url</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> project_folder</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">touch</span> README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add README.md</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;add README&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push -u origin master</span></span><br></pre></td></tr></table></figure>
<h3 id="本地仓库目录已存在"><a href="#本地仓库目录已存在" class="headerlink" title="本地仓库目录已存在"></a>本地仓库目录已存在</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> existing_folder</span><br><span class="line"><span class="variable">$</span> git init</span><br><span class="line"><span class="variable">$</span> git remote add origin repository_url</span><br><span class="line"><span class="variable">$</span> git add .</span><br><span class="line"><span class="variable">$</span> git commit <span class="literal">-m</span> <span class="string">&quot;Initial commit&quot;</span></span><br><span class="line"><span class="variable">$</span> git push <span class="literal">-u</span> origin master</span><br></pre></td></tr></table></figure>
<h2 id="Git-分支命令"><a href="#Git-分支命令" class="headerlink" title="Git 分支命令"></a>Git 分支命令</h2><ul>
<li><p>查看所有分支</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git branch          <span class="comment">#  查看所有分支，当前分支前面会标一个 * 号</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建新分支</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git checkout -b dev <span class="comment">#  相当于以下两条命令</span></span><br><span class="line"><span class="variable">$ </span>git branch dev      <span class="comment">#  新建 dev 分支</span></span><br><span class="line"><span class="variable">$ </span>git checkout dev    <span class="comment">#  切换到 dev 分支</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>切换分支</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git checkout dev    <span class="comment">#  切换到 dev 分支</span></span><br><span class="line"><span class="variable">$ </span>git add .</span><br><span class="line"><span class="variable">$ </span>git commit -m <span class="string">&quot;dev&quot;</span> <span class="comment">#  在 dev 分支上提交</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>合并分支</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git checkout master <span class="comment">#  切换到主分支</span></span><br><span class="line"><span class="variable">$ </span>git merge dev       <span class="comment">#  将 dev 分支合并到当前分支（主分支）</span></span><br><span class="line"><span class="variable">$ </span>git push            <span class="comment">#  向远程仓库提交 master 分支</span></span><br><span class="line"><span class="variable">$ </span>git checkout dev    <span class="comment">#  切换回 dev 分支</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>推送分支</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">$ git <span class="keyword">push</span> origin dev <span class="meta">#  向远程仓库推送 dev 分支</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除分支</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git brach -d dev    <span class="comment">#  删除本地 dev 分支</span></span><br><span class="line"><span class="variable">$ </span>git push orgin <span class="symbol">:dev</span> <span class="comment">#  删除远程 dev 分支</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="fork-项目后与源项目同步更新"><a href="#fork-项目后与源项目同步更新" class="headerlink" title="fork 项目后与源项目同步更新"></a>fork 项目后与源项目同步更新</h2><ol>
<li><p>配置上游项目地址。将你 fork 的项目地址配置到自己的项目上。比如我 fork 了一个项目，原项目是 theme-next/hexo-theme-next.git，我的项目就是 ChangingFond/hexo-theme-next.git。使用以下命令来配置。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ git remote add upstream https:<span class="regexp">//gi</span>thub.com<span class="regexp">/theme-next/</span>hexo-theme-<span class="keyword">next</span>.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看一下配置状况，上游项目的地址已经被加进来了。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin  git@github.com:ChangingFond/hexo-theme-<span class="keyword">next</span>.git.git (fetch)</span><br><span class="line">origin  git@github.com:ChangingFond/hexo-theme-<span class="keyword">next</span>.git.git (push)</span><br><span class="line">upstream    https:<span class="regexp">//gi</span>thub.com<span class="regexp">/theme-next/</span>hexo-theme-<span class="keyword">next</span>.git (fetch)</span><br><span class="line">upstream    https:<span class="regexp">//gi</span>thub.com<span class="regexp">/theme-next/</span>hexo-theme-<span class="keyword">next</span>.git (push)</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取上游项目更新。使用 fetch 命令更新，fetch 后会被存储在一个本地分支 upstream/master 上。</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>git fetch upstream</span><br></pre></td></tr></table></figure>
</li>
<li><p>合并到本地分支。切换到 master 分支，合并 upstream/master 分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge upstream/master</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>提交推送。根据自己情况提交推送自己项目的代码。</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure>
</li>
<li><p>由于项目已经配置了上游项目的地址，所以如果 fork 的项目再次更新，重复步骤 3、4、5即可。</p>
</li>
</ol>
<h2 id="Git-远程分支覆盖本地分支"><a href="#Git-远程分支覆盖本地分支" class="headerlink" title="Git 远程分支覆盖本地分支"></a>Git 远程分支覆盖本地分支</h2><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> git fetch --<span class="keyword">all</span></span><br><span class="line"><span class="symbol">$</span> git reset --hard origin/master (master 为要拉取的远程分支名)</span><br><span class="line"><span class="symbol">$</span> git pull</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Elasticsearch配置文件详解</title>
    <url>/es-config.html</url>
    <content><![CDATA[<p>Elasticsearch的配置文件位于/es-path/conf/elasticsearch.yml，本文基于elasticsearch 6.x版本对配置文件进行详细说明。<br>对于未提及的配置参数可查阅 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules.html</a></p>
<span id="more"></span>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">======================== Elasticsearch Configuration =========================</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># <span class="doctag">NOTE:</span> Elasticsearch comes with reasonable defaults for most settings.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      Before you <span class="built_in">set</span> out to tweak and tune the configuration, make sure you</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">      understand what are you trying to accomplish and the consequences.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># The primary way of configuring a node is via this file. This template lists</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the most important settings you may want to configure <span class="keyword">for</span> a production cluster.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Please consult the documentation for further information on configuration options:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">https://www.elastic.co/guide/en/elasticsearch/reference/index.html</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ---------------------------------- Cluster -----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Use a descriptive name for your cluster:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置es的集群名称，默认为elasticsearch。es会自动发现在同一网段下的es集群，如果在同一网段下有多个集群，可以用此属性来区分不同的集群。</span></span><br><span class="line">cluster.name: elasticsearch</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ------------------------------------ Node ------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Use a descriptive name for the node:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">节点名称</span></span><br><span class="line">node.name: node-master</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 指定该节点是否有资格被选举成为master，默认是true，es默认集群中的第一台机器为master，如果这台机器宕机就会重新选举master。</span></span></span><br><span class="line">node.master: true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 指定该节点是否存储索引数据，默认为true。</span></span></span><br><span class="line">node.data: true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 默认情况下，多个节点可以在同一个安装路径启动，如果想让es只启动一个节点，可以进行如下设置</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">node.max_local_storage_nodes: 1</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Add custom attributes to the node:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 指定节点的部落属性，这是一个比集群更大的范围。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">node.attr.rack: r1</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ----------------------------------- Index ------------------------------------</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置索引的分片数,默认为5</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.number_of_shards: 5</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置索引的副本数,默认为1:</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.number_of_replicas: 1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置文件中提到的最佳实践是,如果服务器够多,可以将分片提高,尽量将数据平均分布到大集群中去</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时,如果增加副本数量可以有效的提高搜索性能</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要注意的是,<span class="string">&quot;number_of_shards&quot;</span> 是索引创建后一次生成的,后续不可更改设置</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;number_of_replicas&quot;</span> 是可以通过API去实时修改设置的</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">----------------------------------- Paths ------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Path to directory where to store the data (separate multiple locations by comma):</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置索引数据的存储路径，默认是es根目录下的data文件夹，可以设置多个存储路径，用逗号隔开，如 path.data: /path/to/data1,/path/to/data2</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">path.data: /path/to/data</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Path to conf files:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置配置文件的存储路径，默认是es根目录下的config文件夹。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">path.conf: /path/to/conf</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Path to log files:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置日志文件的存储路径，默认是es根目录下的logs文件夹。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">path.logs: /path/to/logs</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Path to temp files:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置临时文件的存储路径，默认是es根目录下的work文件夹。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">path.work: /path/to/work</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Path to plugin files:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置插件的存放路径，默认是es根目录下的plugins文件夹。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">path.plugins: /path/to/plugins</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ----------------------------------- Memory -----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Lock the memory on startup:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置为<span class="literal">true</span>来锁住内存。因为当jvm开始swapping时es的效率会降低，所以要保证它不swap。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以把ES_MIN_MEM和ES_MAX_MEM两个环境变量设置成同一个值，并且保证机器有足够的内存分配给es。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时也要允许elasticsearch的进程可以锁住内存，linux下可以通过`<span class="built_in">ulimit</span> -l unlimited`命令。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">bootstrap.memory_lock: <span class="literal">true</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Make sure that the heap size is set to about half the memory available</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">on the system and that the owner of the process is allowed to use this</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">limit</span>.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Elasticsearch performs poorly when the system is swapping the memory.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Cache部分:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">es有很多种方式来缓存其内部与索引有关的数据.其中包括filter cache</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">filter cache部分:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">filter cache是用来缓存filters的结果的.默认的cache <span class="built_in">type</span>是node <span class="built_in">type</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">node <span class="built_in">type</span>的机制是所有的索引内部的分片共享filter cache.node <span class="built_in">type</span>采用的方式是LRU方式.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">即:当缓存达到了某个临界值之后，es会将最近没有使用的数据清除出filter cache.使让新的数据进入es.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这个临界值的设置方法如下：indices.cache.filter.size 值类型：eg.:512mb 20%。默认的值是10%。</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">out of memory错误避免过于频繁的查询时集群假死</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.设置es的缓存类型为Soft Reference,它的主要特点是据有较强的引用功能.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只有当内存不够的时候,才进行回收这类内存,因此在内存足够的时候,它们通常不被回收.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">另外,这些引用对象还能保证在Java抛出OutOfMemory异常之前,被设置为null.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">它可以用于实现一些常用图片的缓存,实现Cache的功能,保证最大限度的使用内存而不引起OutOfMemory.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在es的配置文件加上index.cache.field.type: soft即可.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.设置es最大缓存数据条数和缓存失效时间,通过设置index.cache.field.max_size: 50000把缓存field的最大值设置为50000,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置index.cache.field.expire: 10m把过期时间设置成10分钟.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">index.cache.field.max_size: 50000</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">index.cache.field.expire: 10m</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">index.cache.field.type: soft</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">field data部分&amp;&amp;circuit breaker部分：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用于fielddata缓存的内存数量,主要用于当使用排序,faceting操作时,elasticsearch会将一些热点数据加载到内存中来提供给客户端访问,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">但是这种缓存是比较珍贵的,所以对它进行合理的设置.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以使用值：eg:50mb 或者 30％(节点 node heap内存量),默认是：unbounded <span class="comment">#indices.fielddata.cache.size： unbounded</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">field的超时时间.默认是-1,可以设置的值类型: 5m <span class="comment">#indices.fielddata.cache.expire: -1</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">circuit breaker部分:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">断路器是elasticsearch为了防止内存溢出的一种操作,每一种circuit breaker都可以指定一个内存界限触发此操作,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这种circuit breaker的设定有一个最高级别的设定:indices.breaker.total.limit 默认值是JVM heap的70%.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当内存达到这个数量的时候会触发内存回收。</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">另外还有两组子设置：</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">indices.breaker.fielddata.limit:当系统发现fielddata的数量达到一定数量时会触发内存回收.默认值是JVM heap的70%</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">indices.breaker.fielddata.overhead:在系统要加载fielddata时会预估,发现要加载进内存的值超过<span class="built_in">limit</span> * overhead时会进行进行内存回收.默认是1.03</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">indices.breaker.request.limit:这种断路器是elasticsearch为了防止OOM(内存溢出),在每次请求数据时设定了一个固定的内存数量.默认值是40%</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">indices.breaker.request.overhead:同上,也是elasticsearch在发送请求时设定的一个预估系数,用来防止内存溢出.默认值是1</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Translog部分:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">每一个分片(shard)都有一个transaction <span class="built_in">log</span>或者是与它有关的预写日志,(write <span class="built_in">log</span>),</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在es进行索引(index)或者删除(delete)操作时会将没有提交的数据记录在translog之中,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当进行flush 操作的时候会将tranlog中的数据发送给Lucene进行相关的操作.一次flush操作的发生基于如下的几个配置</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.translog.flush_threshold_ops:当发生多少次操作时进行一次flush.默认是 unlimited <span class="comment">#index.translog.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">flush_threshold_size:当translog的大小达到此值时会进行一次flush操作.默认是512mb</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.translog.flush_threshold_period:在指定的时间间隔内如果没有进行flush操作,会进行一次强制flush操作.默认是30m</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.translog.interval:多少时间间隔内会检查一次translog,来进行一次flush操作.es会随机的在这个值到这个值的2倍大小之间进行一次操作,默认是5s</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">index.gateway.local.sync:多少时间进行一次的写磁盘操作,默认是5s</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以上的translog配置都可以通过API进行动态的设置</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ---------------------------------- Network -----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Set the bind address to a specific IP (IPv4 or IPv6):</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置本机器绑定的监听ip地址，默认为0.0.0.0。</span></span><br><span class="line">network.host: 127.0.0.1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Set a custom port for HTTP:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置对外服务的http端口，默认为9200。</span></span><br><span class="line">http.port: 9200</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置内容的最大容量，默认100mb</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">http.max_content_length: 100mb</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 是否使用http协议对外提供服务，默认为true，开启。</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">http.enabled: <span class="literal">false</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置节点间交互的tcp端口，默认是9300。</span></span></span><br><span class="line">transport.tcp.port: 9300</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置是否压缩tcp传输时的数据，默认为false，不压缩。</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">transport.tcp.compress: <span class="literal">false</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># For more information, consult the network module documentation.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># --------------------------------- Discovery ----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Pass an initial list of hosts to perform discovery when new node is started:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The default list of hosts is [<span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;[::1]&quot;</span>]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置集群中master节点的初始列表，可以通过这些节点来自动发现新加入集群的节点，默认的通讯端口是9300。</span></span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2:port&quot;, &quot;host3[portX-portY]&quot;]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Prevent the &quot;split brain&quot; by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置这个参数来保证集群中的节点可以知道其它N个有master资格的节点。默认为1，对于大的集群来说，可以设置大一点的值（2-4）</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">discovery.zen.minimum_master_nodes: 1</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置集群中自动发现其它节点时ping连接超时时间，默认为3秒，对于比较差的网络环境可以高点的值来防止自动发现时出错(脑裂)。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">discovery.zen.ping.timeout: 3s</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置是否打开多播发现节点，默认是true。当多播不可用或者集群跨网段的时候集群通信建议用单播。</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">discovery.zen.ping.multicast.enabled: <span class="literal">false</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># For more information, consult the zen discovery module documentation.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ---------------------------------- Gateway -----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Block initial recovery after a full cluster restart until N nodes are started:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置集群中N个节点启动时进行数据恢复，默认为3。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gateway.recover_after_nodes: 3</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># gateway的类型，默认为local即为本地文件系统，可以设置为本地文件系统，分布式文件系统，hadoop的HDFS，和amazon的s3服务器等</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gateway.type: <span class="built_in">local</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置初始化数据恢复进程的超时时间，超时时间从上一个配置中配置的N个节点启动后算起，默认是5分钟。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gateway.recover_after_time: 5m</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 设置这个集群中节点的数量，默认为2，一旦这N个节点启动，就会立即进行数据恢复。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gateway.expected_nodes: 2</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># For more information, consult the gateway module documentation.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ---------------------------- Recovery Throttling -----------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 下面这些配置允许在初始化恢复,副本分配,再平衡,或者添加和删除节点时控制节点间的分片分配</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置一个节点的并行恢复数</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.初始化数据恢复时,并发恢复线程的个数,默认为4</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cluster.routing.allocation.node_initial_primaries_recoveries: 4</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.添加删除节点或负载均衡时并发恢复线程的个数,默认为2</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cluster.routing.allocation.node_concurrent_recoveries: 2</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置恢复时的吞吐量(例如:100mb,默认为0无限制.如果机器还有其他业务在跑的话还是限制一下的好)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">indices.recovery.max_bytes_per_sec: 20mb</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置来限制从其它分片恢复数据时最大同时打开并发流的个数,默认为5</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">indices.recovery.concurrent_streams: 5</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意: 合理的设置以上参数能有效的提高集群节点的数据恢复以及初始化速度</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ---------------------------------- Various -----------------------------------</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Require explicit names when deleting indices:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#action.destructive_requires_name: true</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果启用了 HTTP 端口，开启跨域访问支持，默认为<span class="literal">false</span></span></span><br><span class="line">http.cors.enabled: true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果 http.cors.enabled 的值为 <span class="literal">true</span>，那么该属性会指定访问允许的域名地址，(允许所有域名)以上使用正则</span></span><br><span class="line">http.cors.allow-origin: /.*/</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://www.cnblogs.com/xiaochina/p/6855591.html">http://www.cnblogs.com/xiaochina/p/6855591.html</a></li>
<li><a href="https://www.cnblogs.com/sunxucool/p/3799190.html">https://www.cnblogs.com/sunxucool/p/3799190.html</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS 7 使用 cron 执行计划任务</title>
    <url>/centos-crontab.html</url>
    <content><![CDATA[<p>在Linux中，周期执行的任务一般由cron这个守护进程来处理<code>ps -ef|grep cron</code>。cron读取一个或多个配置文件，这些配置文件中包含了命令行及其调用时间。cron的配置文件称为 crontab，是 cron table 的简写。</p>
<span id="more"></span>
<h2 id="cron服务"><a href="#cron服务" class="headerlink" title="cron服务"></a>cron服务</h2><p>CentOS 7下安装<br><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">yum <span class="keyword">install</span> vixie-cron</span><br><span class="line">yum <span class="keyword">install</span> crontabs</span><br></pre></td></tr></table></figure><br>启动服务<br><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">service crond <span class="literal">start</span></span><br></pre></td></tr></table></figure></p>
<p>开机自动启动<br><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">chkconfig</span> --level <span class="number">35</span> crond <span class="literal">on</span></span><br></pre></td></tr></table></figure></p>
<p>查看是否已加入开机自启动：使用 <code>chkconfig | grep crond</code> 看在2 3 4 5级别是不是on<br>crontab默认就是开机启动的，普通用户要有sudo的权限才能设置开机启动</p>
<p>其他命令<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">　　service crond stop     <span class="regexp">//</span>关闭服务</span><br><span class="line">　　service crond restart  <span class="regexp">//</span>重启服务</span><br><span class="line">　　service crond reload   <span class="regexp">//</span>重新载入配置</span><br><span class="line">　　service crond status   <span class="regexp">//</span>查看服务状态</span><br></pre></td></tr></table></figure></p>
<h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><p>crontab权限问题到<code>/var/adm/cron/</code>下查看文件cron.allow和cron.deny是否存在<br>用法如下：<br>1、如果两个文件都不存在，则只有root用户才能使用crontab命令。<br>2、如果cron.allow存在但cron.deny不存在，则只有列在cron.allow文件里的用户才能使用crontab命令，如果root用户也不在里面，则root用户也不能使用crontab。<br>3、如果cron.allow不存在, cron.deny存在，则只有列在cron.deny文件里面的用户不能使用crontab命令，其它用户都能使用。<br>4、如果两个文件都存在，则列在cron.allow文件中而且没有列在cron.deny中的用户可以使用crontab，如果两个文件中都有同一个用户，以cron.allow文件里面是否有该用户为准，如果cron.allow中有该用户，则可以使用crontab命令。</p>
<p>CentOS 7 中默认普通用户没有 crontab 权限 ，要想放开普通用户的 crontab 权限可以编辑/var/adm/cron/cron.deny</p>
<h2 id="crontab用法"><a href="#crontab用法" class="headerlink" title="crontab用法"></a>crontab用法</h2><p>crontab命令用于安装、删除或者列出用于驱动cron后台进程的表格。用户把需要执行的命令序列放到crontab文件中以获得执行。每个用户都可以有自己的crontab文件。<code>/var/spool/cron</code>下的crontab文件不可以直接创建或者直接修改。该crontab文件是通过crontab命令创建的。</p>
<h3 id="系统级crontab"><a href="#系统级crontab" class="headerlink" title="系统级crontab"></a>系统级crontab</h3><p>用<code>ls /etc/cron</code>然后敲两下TAB，可以看到相关文件及目录。<br>cron.d/     cron.daily/   cron.hourly/  cron.monthly/ crontab   cron.weekly/</p>
<h3 id="cron文件目录解读"><a href="#cron文件目录解读" class="headerlink" title="cron文件目录解读"></a>cron文件目录解读</h3><p>可以编辑crontab文件，来创建计划任务。<br>而以daily，hourly，weekly，monthly后缀的目录下分别存放每天，每月，每周，每月执行的任务。<br>其中存放的就是Shell脚本文件，权限755。我们把要执行的任务写成Shell脚本丢进行相应的目录就可以了。<br>而不规则周期的计划任务放在corn.d目录下面，可以看做是crontab文件的补充。</p>
<h3 id="编辑crontab"><a href="#编辑crontab" class="headerlink" title="编辑crontab"></a>编辑crontab</h3><p>注意 crontab 是分用户的，以谁登录就会编辑到哪个用户的 crontab，必须在拥有 cron 权限的用户下编辑 crontab。</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">crontab -e : 编辑某个用户的crontab文件内容。如果不指定用户，则表示编辑当前用户的crontab文件</span><br><span class="line">基本格式： *　　*　　*　　*　　*　　command</span><br><span class="line">对应参数： 分　 时　 日　 月　 周　  命令</span><br><span class="line">举个例子： <span class="number">00</span>　<span class="number">00</span>　  *    *    *　  <span class="regexp">/usr/</span>bin<span class="regexp">/php /</span>xxx/Timer.php  <span class="comment"># 每天凌晨执行PHP脚本</span></span><br><span class="line"></span><br><span class="line">crontab -r : 从<span class="regexp">/var/</span>spool/cron目录中删除某个用户的crontab文件，如果不指定用户，则默认删除当前用户的crontab文件</span><br><span class="line"></span><br><span class="line">crontab -l : 显示某个用户的crontab文件内容，如果不指定用户，则表示显示当前用户的crontab文件内容</span><br><span class="line"></span><br><span class="line">crontab -i : 会和-r 配合使用，在删除当前的crontab时询问，输入 y 则删除</span><br><span class="line"></span><br><span class="line">tail -f <span class="regexp">/var/</span>log/cron : 查看cron日志</span><br></pre></td></tr></table></figure>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-9-8/3612810444.png" alt=""></p>
<h3 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h3><p>“*”代表所有的取值范围内的数字。特别要注意哦！</p>
<p>“/“代表每的意思，如”*/5”表示每5个单位</p>
<p>“-“代表从某个数字到某个数字</p>
<p>“,”分散的数字</p>
<h3 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">每晚21：30重启apache</span><br><span class="line">30 21 <span class="emphasis">* *</span> <span class="emphasis">*  service httpd restart</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">每月的1, 10, 22日的4:55分重启apache, 用，号分割</span></span><br><span class="line"><span class="emphasis">55 4 1,10,22 *</span> <span class="emphasis">* service httpd restart</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">每月的1到10日重启apache， 用-号表示区间</span></span><br><span class="line"><span class="emphasis">*</span> <span class="emphasis">* 1-10 *</span> <span class="emphasis">* service httpd restart</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">每隔2分钟重启apache ， 这里的 *</span>/2 号 表示从0.0秒开始每隔2分钟执行</span><br><span class="line"><span class="emphasis">*/2 *</span> <span class="emphasis">* *</span> <span class="emphasis">* service httpd restart</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">每晚11点到早上7点每隔1小时重启服务器, 注意分钟是用0而不是*</span> 假如是<span class="emphasis">*则代表每分钟都在执行</span></span><br><span class="line"><span class="emphasis">0 23-7/1 *</span> <span class="emphasis">* *</span> service httpd restart</span><br><span class="line"></span><br><span class="line">每天18点到23点每隔30分钟重启服务器, 两种写法都可以</span><br><span class="line"><span class="emphasis">*/30 18-23 *</span> <span class="emphasis">* *</span> service httpd restart</span><br><span class="line">0,30 18-23 <span class="emphasis">* *</span> <span class="emphasis">* service httpd restart</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">每天0点执行python3脚本（亲测CentOS 7下在8点执行，由于默认bios时间是utc时间，所以相差了8小时）</span></span><br><span class="line"><span class="emphasis">00 00 *</span> <span class="emphasis">* *</span> /usr/local/bin/python3 /root/time.py</span><br><span class="line"></span><br><span class="line">每天0点执行php脚本</span><br><span class="line">00 00 <span class="emphasis">* *</span> <span class="emphasis">* /usr/bin/php /xxx/Timer.php  # 每天凌晨执行PHP脚本</span></span><br><span class="line"><span class="emphasis"></span></span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.kancloud.cn/digest/yunwei/212799">https://www.kancloud.cn/digest/yunwei/212799</a></li>
<li><a href="https://segmentfault.com/a/1190000008560453">https://segmentfault.com/a/1190000008560453</a></li>
<li><a href="https://blog.csdn.net/zd147896325/article/details/80763908">https://blog.csdn.net/zd147896325/article/details/80763908</a></li>
<li><a href="https://www.cnblogs.com/longjshz/p/5779215.html">https://www.cnblogs.com/longjshz/p/5779215.html</a></li>
<li><a href="https://www.cnblogs.com/intval/p/5763929.html">https://www.cnblogs.com/intval/p/5763929.html</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache 2 配置二级域名</title>
    <url>/apache-domain.html</url>
    <content><![CDATA[<p>本文介绍如何定义二级域名，并在vps的Apache服务器中将域名映射到网站目录下。</p>
<span id="more"></span>
<h2 id="二级域名"><a href="#二级域名" class="headerlink" title="二级域名"></a>二级域名</h2><p>一级域名（abc.cn）也称作顶级域名，申请一级域名一般都需要收费。二级域名（blog.abc.cn）是对一级域名的延伸，www其实也是二级域名的一种，只不过大家平时习惯用 www 作为网站的主域名。通过DNS解析服务商，可以在域名管理页面为主域名添加一条解析记录，比如要添加一个 blog 开头的二级域名。</p>
<table>
<thead>
<tr>
<th>主机记录</th>
<th>记录类型</th>
<th style="text-align:center">线路类型</th>
<th style="text-align:center">记录值</th>
<th style="text-align:center">MX优先级</th>
<th style="text-align:center">TTL</th>
</tr>
</thead>
<tbody>
<tr>
<td>blog</td>
<td>A</td>
<td style="text-align:center">默认</td>
<td style="text-align:center">45.54.23.1</td>
<td style="text-align:center">-</td>
<td style="text-align:center">600</td>
</tr>
</tbody>
</table>
<p>设置完成后，ping blog.abc.com,如果返回的ip地址都是服务器IP，说明域名解析已经成功。</p>
<h2 id="Apache配置"><a href="#Apache配置" class="headerlink" title="Apache配置"></a>Apache配置</h2><p>方法一：<br>现将创建的二级域名映射到服务器的某个网站目录下，需要配置apache的http.conf文件，<code>vi /etc/httpd/conf/httpd.conf</code>，在文件中增加以下代码：<br>每一个二级域名对应一个 VirtualHost 标签，有多少二级域名，就需要多少个 VirtualHost 标签。</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">NameVirtualHost</span> *:<span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># www</span></span><br><span class="line"></span><br><span class="line"><span class="section">&lt;VirtualHost *<span class="number">:80</span>&gt;</span></span><br><span class="line">    <span class="attribute">ServerAdmin</span> <span class="number">782773117</span>@qq.com</span><br><span class="line">    <span class="attribute">DocumentRoot</span> /var/www/html/www</span><br><span class="line">    <span class="attribute">ServerName</span> www.abc.cn</span><br><span class="line">    <span class="attribute">ErrorLog</span> logs/www-error_log</span><br><span class="line">    <span class="attribute">CustomLog</span> logs/www-access_log common</span><br><span class="line"><span class="section">&lt;/VirtualHost&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># blog</span></span><br><span class="line"></span><br><span class="line"><span class="section">&lt;VirtualHost *<span class="number">:80</span>&gt;</span></span><br><span class="line">    <span class="attribute">ServerAdmin</span> <span class="number">782773117</span>@qq.com</span><br><span class="line">    <span class="attribute">DocumentRoot</span> /var/www/html/blog</span><br><span class="line">    <span class="attribute">ServerName</span> blog.abc.cn</span><br><span class="line">    <span class="attribute">ErrorLog</span> logs/blog-error_log</span><br><span class="line">    <span class="attribute">CustomLog</span> logs/blog-access_log common</span><br><span class="line"><span class="section">&lt;/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure>
<p>方法二：</p>
<p>1.将httpd.conf配置文件的两行取消注释；<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">DocumentRoot &quot;/<span class="selector-tag">var</span>/www/<span class="selector-tag">html</span>&quot;</span><br><span class="line">ServerAdmin you<span class="keyword">@example</span>.com</span><br></pre></td></tr></table></figure></p>
<p>2.然后取消Virtual hosts下面的Include注释，引入虚拟服务器配置文件；<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Virtual hosts</span></span><br><span class="line">Include conf<span class="regexp">/extra/</span>httpd-vhosts.conf</span><br></pre></td></tr></table></figure></p>
<p>3.在配置文件<code>conf/extra/httpd-vhosts.conf</code>（若文件不存在则创建）同样加入上述配置内容</p>
<p>最后重启apache服务器，<code>service httpd restart</code></p>
<h2 id="参数含义"><a href="#参数含义" class="headerlink" title="参数含义"></a>参数含义</h2><p>配置虚拟主机的选项里面，可以出现的参数很多，但最少必须定义DocumentRoot和ServerName。附各个参数含义说明<br>ServerAdmin  管理员邮箱<br>DocumentRoot 所需指向路径<br>ServerName   域名名称<br>ServerAlias  域名别名 可要可不要<br>ErrorLog     错误日志<br>CustomLog    访问日志</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://blog.sina.com.cn/s/blog_5375d76b01014fnt.html">http://blog.sina.com.cn/s/blog_5375d76b01014fnt.html</a></li>
<li><a href="https://segmentfault.com/a/1190000007512622">https://segmentfault.com/a/1190000007512622</a></li>
<li><a href="http://www.cnblogs.com/hi-bazinga/archive/2012/04/23/2466605.html">http://www.cnblogs.com/hi-bazinga/archive/2012/04/23/2466605.html</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>apache</tag>
        <tag>Linux</tag>
        <tag>vps</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客跳过渲染，创建自定义网页</title>
    <url>/hexo-custom-page.html</url>
    <content><![CDATA[<p>Hexo 博客中所见文章都是经由渲染的静态网页，而静态网页的样式都直接由 Hexo 的主题控制，所以 Hexo 博客大部分都呈现出一种高度的统一化与规范化。不过 Hexo 提供了跳过渲染功能，使得我们可以直接在博客中放入自定义网页。比如在博客中放入图片、自定义 404.html 、自定义 About 页面等。</p>
<span id="more"></span>
<h2 id="自定义网页"><a href="#自定义网页" class="headerlink" title="自定义网页"></a>自定义网页</h2><p>网页可以是自己编写的，也可以是别人现成的源码。<br>网页编写完成后，在 Hexo\source 目录下创建一个文件夹，文件夹名称任意，将 Html 文件放置于此文件夹，并重命名为 index.html 。</p>
<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>在html文件中添加跳过渲染指令：</p>
<p>用编辑器打开 Hexo\source 创建的文件夹中的 index.html 文件，在开头添加如下代码即可</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
<p>添加该指令后，执行 hexo g 命令时便会跳过该 index.html 文件，使得 index.html 不受当前 hexo 主题影响，完全是一个独立的网页。</p>
<p>如果网页引用了 css 或 js ，这些 css 和 js 必须使用外链。</p>
<p>如果引用图片，可以在网页目录下建立 img 文件夹，可以直接引用图片，不必再去创建外链。</p>
<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>使用编辑器打开 Hexo 目录下的_config.yml 文件，找到 skip_render</p>
<p>skip_render 一般有以下四种常用参数：</p>
<ol>
<li><p>跳过source目录下的 test.html: skip_render: test.html</p>
</li>
<li><p>跳过source目录下 test 文件夹内所有文件：skip_render: test/*</p>
</li>
<li><p>跳过source目录下 test 文件夹内所有文件包括子文件夹以及子文件夹内的文件：skip_render: test/**</p>
</li>
<li><p>跳过多个路径：</p>
<figure class="highlight nestedtext"><table><tr><td class="code"><pre><span class="line"><span class="attribute">skip_render</span><span class="punctuation">:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">test.html</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">test/*</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>对格式要求严格，注意填写参数时的格式，添加完成后便不会渲染指定文件/文件夹。</p>
<p>如果网页引用了 css 或 js ，并将整个网页目录设置为跳过渲染，则不必再为 css 和 js 创建外链，可以直接引用。</p>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>行人重识别Person Re-identification总结</title>
    <url>/reid-overview.html</url>
    <content><![CDATA[<p>　　Person re-identification, also known as person retrieval, is to match pedestrian images observed from non-overlapping camera views based on appearance.It receives increasing attentions in video surveillance for its important applications in threat detection, human retrieval, and multi-camera tracking. It saves a lot of human labor in exhaustively searching for a person of interest from large amounts of video sequences.</p>
<span id="more"></span>
<p>Last Updated: Apr 26, 2019</p>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a><strong>Table of Contents</strong></h2><p><em>generated with <a href="https://github.com/thlorenz/doctoc">DocToc</a></em></p>
<ul>
<li><a href="#Leaderboard">Leaderboard</a></li>
<li><a href="#Person-Re-identification-Person-Retrieval">Person Re-identification / Person Retrieval</a></li>
<li><a href="#Person-Search">Person Search</a></li>
<li><a href="#Pose-View-for-Re-ID">Pose/View for Re-ID</a></li>
<li><a href="#GAN-for-Re-ID">GAN for Re-ID</a></li>
<li><a href="#Human-Parsing-for-Re-ID">Human Parsing for Re-ID</a></li>
<li><a href="#Partial-Person-Re-ID">Partial Person Re-ID</a></li>
<li><a href="#RGB-IR-Re-ID">RGB-IR Re-ID</a></li>
<li><a href="#Depth-Based-Re-ID">Depth-Based Re-ID</a></li>
<li><a href="#Low-Resolution-Re-ID">Low Resolution Re-ID</a></li>
<li><a href="#Reinforcement-Learning-for-Re-ID">Reinforcement Learning for Re-ID</a></li>
<li><a href="#Attributes-Prediction-for-Re-ID">Attributes Prediction for Re-ID</a></li>
<li><a href="#Video-Person-Re-Identification">Video Person Re-Identification</a></li>
<li><a href="#Re-ranking">Re-ranking</a></li>
<li><a href="#Unsupervised-Re-ID">Unsupervised Re-ID</a></li>
<li><a href="#Weakly-Supervised-Person-Re-identification">Weakly Supervised Person Re-identification</a></li>
<li><a href="#Vehicle-Re-ID">Vehicle Re-ID</a></li>
<li><a href="#Deep-Metric-Learning">Deep Metric Learning</a></li>
<li><a href="#Projects">Projects</a></li>
<li><a href="#Evaluation">Evaluation</a></li>
<li><a href="#Datasets">Datasets</a></li>
<li><a href="#Tutorials">Tutorials</a></li>
<li><a href="#Experts">Experts</a></li>
<li><a href="#Resources">Resources</a></li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<h2 id="Leaderboard"><a href="#Leaderboard" class="headerlink" title="Leaderboard"></a>Leaderboard</h2><table>
<thead>
<tr>
<th style="text-align:center">Method</th>
<th style="text-align:center">backbone</th>
<th style="text-align:center">test size</th>
<th style="text-align:center">Market1501</th>
<th style="text-align:center">CUHK03 (detected)</th>
<th style="text-align:center">CUHK03 (detected/new)</th>
<th style="text-align:center">CUHK03 (labeled/new)</th>
<th style="text-align:center">CUHK-SYSU</th>
<th style="text-align:center">DukeMTMC-reID</th>
<th style="text-align:center">MARS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">rank1 / mAP</td>
<td style="text-align:center">rank1/  5   / 10</td>
<td style="text-align:center">rank1 / mAP</td>
<td style="text-align:center">rank1 / mAP</td>
<td style="text-align:center">rank1 / mAP</td>
<td style="text-align:center"></td>
<td style="text-align:center">rank1 / mAP</td>
</tr>
<tr>
<td style="text-align:center">AlignedReID</td>
<td style="text-align:center">ResNet50-X</td>
<td style="text-align:center"></td>
<td style="text-align:center">92.6 / 82.3</td>
<td style="text-align:center">91.9 / 98.7 / 99.4</td>
<td style="text-align:center"></td>
<td style="text-align:center">86.8 / 79.1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">95.3 / 93.7</td>
</tr>
<tr>
<td style="text-align:center">AlignedReID (RK)</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">94.0 / 91.2</td>
<td style="text-align:center">96.1 / 99.5 / 99.6</td>
<td style="text-align:center"></td>
<td style="text-align:center">87.5 / 85.6</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Deep-Person(SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">256×128</td>
<td style="text-align:center">92.31 / 79.58</td>
<td style="text-align:center">89.4 / 98.2 / 99.1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">80.90 / 64.80</td>
</tr>
<tr>
<td style="text-align:center">Deep-Person(MQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">256×128</td>
<td style="text-align:center">94.48 / 85.09</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">PCB(SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">384x128</td>
<td style="text-align:center">92.4 / 77.3</td>
<td style="text-align:center"></td>
<td style="text-align:center">61.3 / 54.2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">81.9 / 65.3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">PCB+RPP(SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">384x128</td>
<td style="text-align:center">93.8 / 81.6</td>
<td style="text-align:center"></td>
<td style="text-align:center">63.7 / 57.5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">83.3 / 69.2</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">PN-GAN (SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">89.43 / 72.58</td>
<td style="text-align:center">79.76/ 96.24/ 98.56</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">73.58 / 53.20</td>
</tr>
<tr>
<td style="text-align:center">PN-GAN (MQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">95.90 / 91.37</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">MGN (SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">95.7 /  86.9</td>
<td style="text-align:center"></td>
<td style="text-align:center">66.8 / 66.0</td>
<td style="text-align:center">68.0 / 67.4</td>
<td style="text-align:center"></td>
<td style="text-align:center">88.7 / 78.4</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">MGN (MQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">96.9 /  90.7</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">MGN (SQ+RK)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">96.6 /  94.2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">MGN (MQ+RK)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center"></td>
<td style="text-align:center">97.1 /  95.9</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">HPM(SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">384x128</td>
<td style="text-align:center">94.2 /  82.7</td>
<td style="text-align:center"></td>
<td style="text-align:center">63.1 / 57.5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">86.6 / 74.3</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">HPM+HRE(SQ)</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">384x128</td>
<td style="text-align:center">93.9 /  83.1</td>
<td style="text-align:center"></td>
<td style="text-align:center">63.2 / 59.7</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">86.3 / 74.5</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">SphereReID</td>
<td style="text-align:center">ResNet-50</td>
<td style="text-align:center">288×144</td>
<td style="text-align:center">94.4 /  83.6</td>
<td style="text-align:center">93.1 / 98.7 / 99.4</td>
<td style="text-align:center">63.2 / 59.7</td>
<td style="text-align:center"></td>
<td style="text-align:center">95.4 / 93.9</td>
<td style="text-align:center">83.9 / 68.5</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">Auto-ReID</td>
<td style="text-align:center"></td>
<td style="text-align:center">384x128</td>
<td style="text-align:center">94.5 /  85.1</td>
<td style="text-align:center"></td>
<td style="text-align:center">73.3 / 69.3</td>
<td style="text-align:center">77.9 / 73.0</td>
<td style="text-align:center"></td>
<td style="text-align:center">88.5 / 75.1</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<h2 id="Person-Re-identification-Person-Retrieval"><a href="#Person-Re-identification-Person-Retrieval" class="headerlink" title="Person Re-identification / Person Retrieval"></a>Person Re-identification / Person Retrieval</h2><p><strong>DeepReID: Deep Filter Pairing Neural Network for Person Re-Identification</strong><br>　　intro: CVPR 2014<br>　　paper: <a href="http://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Li_DeepReID_Deep_Filter_2014_CVPR_paper.pdf">http://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Li_DeepReID_Deep_Filter_2014_CVPR_paper.pdf</a></p>
<p><strong>An Improved Deep Learning Architecture for Person Re-Identification</strong><br>　　intro: CVPR 2015<br>　　paper: <a href="http://www.cv-foundation.org/openaccess/content_cvpr_2015/papers/Ahmed_An_Improved_Deep_2015_CVPR_paper.pdf">http://www.cv-foundation.org/openaccess/content_cvpr_2015/papers/Ahmed_An_Improved_Deep_2015_CVPR_paper.pdf</a><br>　　github: <a href="https://github.com/Ning-Ding/Implementation-CVPR2015-CNN-for-ReID">https://github.com/Ning-Ding/Implementation-CVPR2015-CNN-for-ReID</a></p>
<p><strong>Deep Ranking for Person Re-identification via Joint Representation Learning</strong><br>　　intro: IEEE Transactions on Image Processing (TIP), 2016<br>　　arxiv: <a href="https://arxiv.org/abs/1505.06821">https://arxiv.org/abs/1505.06821</a></p>
<p><strong>PersonNet: Person Re-identification with Deep Convolutional Neural Networks</strong><br>　　arxiv: <a href="http://arxiv.org/abs/1601.07255">http://arxiv.org/abs/1601.07255</a></p>
<p><strong>Learning Deep Feature Representations with Domain Guided Dropout for Person Re-identification</strong><br>　　intro: CVPR 2016<br>　　arxiv: <a href="https://arxiv.org/abs/1604.07528">https://arxiv.org/abs/1604.07528</a><br>　　github: <a href="https://github.com/Cysu/dgd_person_reid">https://github.com/Cysu/dgd_person_reid</a></p>
<p><strong>Person Re-Identification by Multi-Channel Parts-Based CNN with Improved Triplet Loss Function</strong><br>　　intro: CVPR 2016<br>　　paper: <a href="http://www.cv-foundation.org/openaccess/content_cvpr_2016/papers/Cheng_Person_Re-Identification_by_CVPR_2016_paper.pdf">http://www.cv-foundation.org/openaccess/content_cvpr_2016/papers/Cheng_Person_Re-Identification_by_CVPR_2016_paper.pdf</a></p>
<p><strong>Joint Learning of Single-image and Cross-image Representations for Person Re-identification</strong><br>　　intro: CVPR 2016<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2016/papers/Wang_Joint_Learning_of_CVPR_2016_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2016/papers/Wang_Joint_Learning_of_CVPR_2016_paper.pdf</a></p>
<p><strong>End-to-End Comparative Attention Networks for Person Re-identification</strong><br>　　paper: <a href="https://arxiv.org/abs/1606.04404">https://arxiv.org/abs/1606.04404</a></p>
<p><strong>A Multi-task Deep Network for Person Re-identification</strong><br>　　intro: AAAI 2017<br>　　arxiv: <a href="http://arxiv.org/abs/1607.05369">http://arxiv.org/abs/1607.05369</a></p>
<p><strong>A Siamese Long Short-Term Memory Architecture for Human Re-Identification</strong><br>　　arxiv: <a href="http://arxiv.org/abs/1607.08381">http://arxiv.org/abs/1607.08381</a></p>
<p><strong>Gated Siamese Convolutional Neural Network Architecture for Human Re-Identification</strong><br>　　intro: ECCV 2016<br>　　keywords: Market1501 rank1 = 65.9%<br>　　arxiv: <a href="https://arxiv.org/abs/1607.08378">https://arxiv.org/abs/1607.08378</a></p>
<p><strong>Deep Neural Networks with Inexact Matching for Person Re-Identification</strong><br>　　intro: NIPS 2016<br>　　keywords: Normalized correlation layer, CUHK03/CUHK01/QMULGRID<br>　　paper: <a href="https://papers.nips.cc/paper/6367-deep-neural-networks-with-inexact-matching-for-person-re-identification">https://papers.nips.cc/paper/6367-deep-neural-networks-with-inexact-matching-for-person-re-identification</a><br>　　github: <a href="https://github.com/InnovArul/personreid_normxcorr">https://github.com/InnovArul/personreid_normxcorr</a></p>
<p><strong>Person Re-identification: Past, Present and Future</strong><br>　　paper: <a href="https://arxiv.org/abs/1610.02984">https://arxiv.org/abs/1610.02984</a><br>　　note: <a href="https://blog.csdn.net/zdh2010xyz/article/details/53741682">https://blog.csdn.net/zdh2010xyz/article/details/53741682</a></p>
<p><strong>Deep Learning Prototype Domains for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1610.05047">https://arxiv.org/abs/1610.05047</a></p>
<p><strong>Deep Transfer Learning for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1611.05244">https://arxiv.org/abs/1611.05244</a><br>　　note: <a href="https://blog.csdn.net/shenxiaolu1984/article/details/53607268">https://blog.csdn.net/shenxiaolu1984/article/details/53607268</a></p>
<p><strong>A Discriminatively Learned CNN Embedding for Person Re-identification</strong><br>　　intro: TOMM 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1611.05666">https://arxiv.org/abs/1611.05666</a><br>　　github(official, MatConvnet): <a href="https://github.com/layumi/2016_person_re-ID">https://github.com/layumi/2016_person_re-ID</a><br>　　github: <a href="https://github.com/D-X-Y/caffe-reid">https://github.com/D-X-Y/caffe-reid</a></p>
<p><strong>Person Re-Identification via Recurrent Feature Aggregation</strong><br>　　intro: ECCV 2016<br>　　keywords: recurrent feature aggregation network (RFA-Net)<br>　　arxiv: <a href="https://arxiv.org/abs/1701.06351">https://arxiv.org/abs/1701.06351</a><br>　　code: <a href="https://sites.google.com/site/yanyichao91sjtu/">https://sites.google.com/site/yanyichao91sjtu/</a><br>　　github(official): <a href="https://github.com/daodaofr/caffe-re-id">https://github.com/daodaofr/caffe-re-id</a></p>
<p><strong>Structured Deep Hashing with Convolutional Neural Networks for Fast Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1702.04179">https://arxiv.org/abs/1702.04179</a></p>
<p><strong>SVDNet for Pedestrian Retrieval</strong><br>　　intro: ICCV 2017 spotlight<br>　　intro: On the Market-1501 dataset, rank-1 accuracy is improved from 55.2% to 80.5% for CaffeNet,<br>and from 73.8% to 83.1% for ResNet-50<br>　　arxiv: <a href="https://arxiv.org/abs/1703.05693">https://arxiv.org/abs/1703.05693</a><br>　　github: <a href="https://github.com/syfafterzy/SVDNet-for-Pedestrian-Retrieval">https://github.com/syfafterzy/SVDNet-for-Pedestrian-Retrieval</a></p>
<p><strong>In Defense of the Triplet Loss for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1703.07737">https://arxiv.org/abs/1703.07737</a><br>　　github(Theano): <a href="https://github.com/VisualComputingInstitute/triplet-reid">https://github.com/VisualComputingInstitute/triplet-reid</a></p>
<p><strong>Beyond triplet loss: a deep quadruplet network for person re-identification</strong><br>　　intro: CVPR 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1704.01719">https://arxiv.org/abs/1704.01719</a><br>　　ppaper: <a href="http://cvip.computing.dundee.ac.uk/papers/Chen_CVPR_2017_paper.pdf">http://cvip.computing.dundee.ac.uk/papers/Chen_CVPR_2017_paper.pdf</a></p>
<p><strong>Quality Aware Network for Set to Set Recognition</strong><br>　　intro: CVPR 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1704.03373">https://arxiv.org/abs/1704.03373</a><br>　　github: <a href="https://github.com/sciencefans/Quality-Aware-Network">https://github.com/sciencefans/Quality-Aware-Network</a></p>
<p><strong>Learning Deep Context-aware Features over Body and Latent Parts for Person Re-identification</strong><br>　　intro: CVPR 2017. CASIA<br>　　keywords: Multi-Scale Context-Aware Network (MSCAN)<br>　　arxiv: <a href="https://arxiv.org/abs/1710.06555">https://arxiv.org/abs/1710.06555</a><br>　　supplemental: <a href="http://openaccess.thecvf.com/content_cvpr_2017/supplemental/Li_Learning_Deep_Context-Aware_2017_CVPR_supplemental.pdf">Li_Learning_Deep_Context-Aware_2017_CVPR_supplemental.pdf</a></p>
<p><strong>Point to Set Similarity Based Deep Feature Learning for Person Re-identification</strong><br>　　intro: CVPR 2017<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Zhou_Point_to_Set_CVPR_2017_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2017/papers/Zhou_Point_to_Set_CVPR_2017_paper.pdf</a><br>　　github(stay tuned): <a href="https://github.com/samaonline/Point-to-Set-Similarity-Based-Deep-Feature-Learning-for-Person-Re-identification">https://github.com/samaonline/Point-to-Set-Similarity-Based-Deep-Feature-Learning-for-Person-Re-identification</a></p>
<p><strong>Scalable Person Re-identification on Supervised Smoothed Manifold</strong><br>　　intro: CVPR 2017 spotlight<br>　　arxiv: <a href="https://arxiv.org/abs/1703.08359">https://arxiv.org/abs/1703.08359</a><br>　　youtube: <a href="https://www.youtube.com/watch?v=bESdJgalQrg">https://www.youtube.com/watch?v=bESdJgalQrg</a></p>
<p><strong>Attention-based Natural Language Person Retrieval</strong><br>　　intro: CVPR 2017 Workshop (vision meets cognition)<br>　　keywords: Bidirectional Long Short　　Term Memory (BLSTM)<br>　　arxiv: <a href="https://arxiv.org/abs/1705.08923">https://arxiv.org/abs/1705.08923</a></p>
<p><strong>Part-based Deep Hashing for Large-scale Person Re-identification</strong><br>　　intro: IEEE Transactions on Image Processing, 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1705.02145">https://arxiv.org/abs/1705.02145</a></p>
<p><strong>Deep Person Re-Identification with Improved Embedding and Efficient Training</strong><br>　　intro: IJCB 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1705.03332">https://arxiv.org/abs/1705.03332</a></p>
<p><strong>Towards a Principled Integration of Multi-Camera Re-Identification and Tracking through Optimal Bayes Filters</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1705.04608">https://arxiv.org/abs/1705.04608</a><br>　　github: <a href="https://github.com/VisualComputingInstitute/towards-reid-tracking">https://github.com/VisualComputingInstitute/towards-reid-tracking</a></p>
<p><strong>Person Re-Identification by Deep Joint Learning of Multi-Loss Classification</strong><br>　　intro: IJCAI 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1705.04724">https://arxiv.org/abs/1705.04724</a></p>
<p><strong>Deep Representation Learning with Part Loss for Person Re-Identification</strong><br>　　keywords: Part Loss Networks<br>　　arxiv: <a href="https://arxiv.org/abs/1707.00798">https://arxiv.org/abs/1707.00798</a></p>
<p><strong>Pedestrian Alignment Network for Large-scale Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1707.00408">https://arxiv.org/abs/1707.00408</a><br>　　github: <a href="https://github.com/layumi/Pedestrian_Alignment">https://github.com/layumi/Pedestrian_Alignment</a></p>
<p><strong>Learning Efficient Image Representation for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1707.02319">https://arxiv.org/abs/1707.02319</a></p>
<p><strong>Person Re-identification Using Visual Attention</strong><br>　　intro: ICIP 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1707.07336">https://arxiv.org/abs/1707.07336</a></p>
<p><strong>What-and-Where to Match: Deep Spatially Multiplicative Integration Networks for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1707.07074">https://arxiv.org/abs/1707.07074</a></p>
<p><strong>Deep Feature Learning via Structured Graph Laplacian Embedding for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1707.07791">https://arxiv.org/abs/1707.07791</a></p>
<p><strong>Large Margin Learning in Set to Set Similarity Comparison for Person Re-identification</strong><br>　　intro: IEEE Transactions on Multimedia<br>　　arxiv: <a href="https://arxiv.org/abs/1708.05512">https://arxiv.org/abs/1708.05512</a></p>
<p><strong>Multi-scale Deep Learning Architectures for Person Re-identification</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1709.05165">https://arxiv.org/abs/1709.05165</a></p>
<p><strong>Person Re-Identification by Deep Learning Multi-Scale Representations</strong><br>　　intro: ICCV 2017<br>　　keywords: Deep Pyramid Feature Learning (DPFL)<br>　　paper: <a href="http://openaccess.thecvf.com/content_ICCV_2017_workshops/papers/w37/Chen_Person_Re-Identification_by_ICCV_2017_paper.pdf">Chen_Person_Re-Identification_by_ICCV_2017_paper.pdf</a><br>　　paper: <a href="http://www.eecs.qmul.ac.uk/~sgg/papers/ChenEtAl_ICCV2017WK_CHI.pdf">http://www.eecs.qmul.ac.uk/~sgg/papers/ChenEtAl_ICCV2017WK_CHI.pdf</a></p>
<p><strong>HydraPlus-Net: Attentive Deep Features for Pedestrian Analysis</strong><br>　　intro: ICCV 2017. CUHK &amp; SenseTime,<br>　　arxiv: <a href="https://arxiv.org/abs/1709.09930">https://arxiv.org/abs/1709.09930</a><br>　　github: <a href="https://github.com/xh-liu/HydraPlus-Net">https://github.com/xh-liu/HydraPlus-Net</a></p>
<p><strong>Person Re-Identification with Vision and Language</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1710.01202">https://arxiv.org/abs/1710.01202</a></p>
<p><strong>Margin Sample Mining Loss: A Deep Learning Based Method for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1710.00478">https://arxiv.org/abs/1710.00478</a></p>
<p><strong>Pseudo-positive regularization for deep person re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1711.06500">https://arxiv.org/abs/1711.06500</a></p>
<p><strong>Let Features Decide for Themselves: Feature Mask Network for Person Re-identification</strong><br>　　keywords: Feature Mask Network (FMN)<br>　　arxiv: <a href="https://arxiv.org/abs/1711.07155">https://arxiv.org/abs/1711.07155</a></p>
<p><strong>AlignedReID: Surpassing Human-Level Performance in Person Re-Identification</strong><br>　　intro: Megvii Inc &amp; Zhejiang University<br>　　arxiv: <a href="https://arxiv.org/abs/1711.08184">https://arxiv.org/abs/1711.08184</a><br>　　evaluation website: (Market1501): <a href="http://reid-challenge.megvii.com/">http://reid-challenge.megvii.com/</a><br>　　evaluation website: (CUHK03): <a href="http://reid-challenge.megvii.com/cuhk03">http://reid-challenge.megvii.com/cuhk03</a><br>　　github: <a href="https://github.com/huanghoujing/AlignedReID-Re-Production-Pytorch">https://github.com/huanghoujing/AlignedReID-Re-Production-Pytorch</a></p>
<p><strong>Region-based Quality Estimation Network for Large-scale Person Re-identification</strong><br>　　intro: AAAI 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1711.08766">https://arxiv.org/abs/1711.08766</a></p>
<p><strong>Beyond Part Models: Person Retrieval with Refined Part Pooling</strong><br>　　keywords: Part-based Convolutional Baseline (PCB), Refined Part Pooling (RPP)<br>　　arxiv: <a href="https://arxiv.org/abs/1711.09349">https://arxiv.org/abs/1711.09349</a></p>
<p><strong>Deep-Person: Learning Discriminative Deep Features for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1711.10658">https://arxiv.org/abs/1711.10658</a></p>
<p><strong>Hierarchical Cross Network for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1712.06820">https://arxiv.org/abs/1712.06820</a></p>
<p><strong>Re-ID done right: towards good practices for person re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1801.05339">https://arxiv.org/abs/1801.05339</a></p>
<p><strong>Triplet-based Deep Similarity Learning for Person Re-Identification</strong><br>　　intro: ICCV Workshops 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1802.03254">https://arxiv.org/abs/1802.03254</a></p>
<p><strong>Group Consistent Similarity Learning via Deep CRFs for Person Re-Identification</strong><br>　　intro: CVPR 2018 oral<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_Group_Consistent_Similarity_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_Group_Consistent_Similarity_CVPR_2018_paper.pdf</a></p>
<p><strong>Image-Image Domain Adaptation with Preserved Self-Similarity and Domain-Dissimilarity for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　keywords: similarity preserving generative adversarial network (SPGAN), Siamese network, CycleGAN, domain adaptation<br>　　arxiv: <a href="https://arxiv.org/abs/1711.07027">https://arxiv.org/abs/1711.07027</a></p>
<p><strong>Harmonious Attention Network for Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　keywords: Harmonious Attention CNN (HA-CNN)<br>　　arxiv: <a href="https://arxiv.org/abs/1802.08122">https://arxiv.org/abs/1802.08122</a></p>
<p><strong>Camera Style Adaptation for Person Re-identfication</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1711.10295">https://arxiv.org/abs/1711.10295</a><br>　　github: <a href="https://github.com/zhunzhong07/CamStyle">https://github.com/zhunzhong07/CamStyle</a></p>
<p><strong>Image-Image Domain Adaptation with Preserved Self-Similarity and Domain-Dissimilarity for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1711.07027">https://arxiv.org/abs/1711.07027</a></p>
<p><strong>Dual Attention Matching Network for Context-Aware Feature Sequence based Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1803.09937">https://arxiv.org/abs/1803.09937</a></p>
<p><strong>Multi-Level Factorisation Net for Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　keywords: Multi-Level Factorisation Net (MLFN)<br>　　arxiv: <a href="https://arxiv.org/abs/1803.09132">https://arxiv.org/abs/1803.09132</a></p>
<p><strong>Features for Multi-Target Multi-Camera Tracking and Re-Identification</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1803.10859">https://arxiv.org/abs/1803.10859</a></p>
<p><strong>Good Appearance Features for Multi-Target Multi-Camera Tracking</strong><br>　　intro: CVPR 2018 spotlight. Duke University<br>　　keywords: adaptive weighted triplet loss, hard-identity mining<br>　　project page: <a href="http://vision.cs.duke.edu/DukeMTMC/">http://vision.cs.duke.edu/DukeMTMC/</a><br>　　arxiv: <a href="https://arxiv.org/abs/1803.10859">https://arxiv.org/abs/1803.10859</a></p>
<p><strong>Mask-guided Contrastive Attention Model for Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Song_Mask-Guided_Contrastive_Attention_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Song_Mask-Guided_Contrastive_Attention_CVPR_2018_paper.pdf</a></p>
<p><strong>Efficient and Deep Person Re-Identification using Multi-Level Similarity</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1803.11353">https://arxiv.org/abs/1803.11353</a></p>
<p><strong>Person Re-identification with Cascaded Pairwise Convolutions</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Wang_Person_Re-Identification_With_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Wang_Person_Re-Identification_With_CVPR_2018_paper.pdf</a></p>
<p><strong>Attention-Aware Compositional Network for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　intro: Sensets Technology Limited &amp; University of Sydney<br>　　keywords: Attention-Aware Compositional Network (AACN), Pose-guided Part Attention (PPA), Attention-aware Feature Composition (AFC)<br>　　arxiv: <a href="https://arxiv.org/abs/1805.03344">https://arxiv.org/abs/1805.03344</a></p>
<p><strong>Deep Group-shuffling Random Walk for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Shen_Deep_Group-Shuffling_Random_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Shen_Deep_Group-Shuffling_Random_CVPR_2018_paper.pdf</a></p>
<p><strong>Adversarially Occluded Samples for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Huang_Adversarially_Occluded_Samples_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Huang_Adversarially_Occluded_Samples_CVPR_2018_paper.pdf</a></p>
<p><strong>Easy Identification from Better Constraints: Multi-Shot Person Re-Identification from Reference Constraints</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Zhou_Easy_Identification_From_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Zhou_Easy_Identification_From_CVPR_2018_paper.pdf</a></p>
<p><strong>Eliminating Background-bias for Robust Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Tian_Eliminating_Background-Bias_for_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Tian_Eliminating_Background-Bias_for_CVPR_2018_paper.pdf</a></p>
<p><strong>End-to-End Deep Kronecker-Product Matching for Person Re-identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Shen_End-to-End_Deep_Kronecker-Product_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Shen_End-to-End_Deep_Kronecker-Product_CVPR_2018_paper.pdf</a></p>
<p><strong>Exploiting Transitivity for Learning Person Re-identification Models on a Budget</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Roy_Exploiting_Transitivity_for_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Roy_Exploiting_Transitivity_for_CVPR_2018_paper.pdf</a></p>
<p><strong>Resource Aware Person Re-identification across Multiple Resolutions</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Wang_Resource_Aware_Person_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Wang_Resource_Aware_Person_CVPR_2018_paper.pdf</a></p>
<p><strong>Multi-Channel Pyramid Person Matching Network for Person Re-Identification</strong><br>　　intro: 32nd AAAI Conference on Artificial Intelligence<br>　　keywords: Multi-Channel deep convolutional Pyramid Person Matching Network (MC-PPMN)<br>　　arxiv: <a href="https://arxiv.org/abs/1803.02558">https://arxiv.org/abs/1803.02558</a></p>
<p><strong>Pyramid Person Matching Network for Person Re-identification</strong><br>　　intro: 9th Asian Conference on Machine Learning (ACML2017) JMLR Workshop and Conference Proceedings<br>　　arxiv: <a href="https://arxiv.org/abs/1803.02547">https://arxiv.org/abs/1803.02547</a></p>
<p><strong>Virtual CNN Branching: Efficient Feature Ensemble for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1803.05872">https://arxiv.org/abs/1803.05872</a></p>
<p><strong>Adversarial Binary Coding for Efficient Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1803.10914">https://arxiv.org/abs/1803.10914</a></p>
<p><strong>Learning View-Specific Deep Networks for Person Re-Identification</strong><br>　　intro: IEEE Transactions on image processing. Sun Yat-Sen University<br>　　keywords: cross-view Euclidean constraint (CV-EC), cross-view center loss (CV-CL)<br>　　arxiv: <a href="https://arxiv.org/abs/1803.11333">https://arxiv.org/abs/1803.11333</a></p>
<p><strong>Learning Discriminative Features with Multiple Granularities for Person Re-Identification</strong><br>　　intro: Shanghai Jiao Tong University &amp; CloudWalk<br>　　keywords: Multiple Granularity Network (MGN)<br>　　arxiv: <a href="https://arxiv.org/abs/1804.01438">https://arxiv.org/abs/1804.01438</a></p>
<p><strong>Recurrent Neural Networks for Person Re-identification Revisited</strong><br>　　intro: Stanford University &amp; Google AI<br>　　arxiv: <a href="https://arxiv.org/abs/1804.03281">https://arxiv.org/abs/1804.03281</a></p>
<p><strong>MaskReID: A Mask Based Deep Ranking Neural Network for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1804.03864">https://arxiv.org/abs/1804.03864</a></p>
<p><strong>Horizontal Pyramid Matching for Person Re-identification</strong><br>　　intro: AAAI 2019<br>　　intro: UIUC &amp; IBM Research &amp; Cornell University &amp; Stevens Institute of Technology &amp;CloudWalk Technology<br>　　keywords: Horizontal Pyramid Matching (HPM), Horizontal Pyramid Pooling (HPP), horizontal random erasing (HRE)<br>　　arxiv: <a href="https://arxiv.org/abs/1804.05275">https://arxiv.org/abs/1804.05275</a><br>　　github: <a href="https://github.com/OasisYang/HPM">https://github.com/OasisYang/HPM</a></p>
<p><strong>Part-Aligned Bilinear Representations for Person Re-identification</strong><br>　　intro: Seoul National University &amp; Microsoft Research &amp; Max Planck Institute &amp; University of Tubingen &amp; JD.COM<br>　　arxiv: <a href="https://arxiv.org/abs/1804.07094">https://arxiv.org/abs/1804.07094</a></p>
<p><strong>Deep Co-attention based Comparators For Relative Representation Learning in Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1804.11027">https://arxiv.org/abs/1804.11027</a></p>
<p><strong>Feature Affinity based Pseudo Labeling for Semi-supervised Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1805.06118">https://arxiv.org/abs/1805.06118</a></p>
<p><strong>Resource Aware Person Re-identification across Multiple Resolutions</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1805.08805">https://arxiv.org/abs/1805.08805</a></p>
<p><strong>Semantically Selective Augmentation for Deep Compact Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1806.04074">https://arxiv.org/abs/1806.04074</a></p>
<p><strong>SphereReID: Deep Hypersphere Manifold Embedding for Person Re-Identification</strong><br>　　intro: it achieves 94.4% rank-1 accuracy on Market-1501 and 83.9% rank-1 accuracy on DukeMTMC-reID<br>　　arxiv: <a href="https://arxiv.org/abs/1807.00537">https://arxiv.org/abs/1807.00537</a></p>
<p><strong>Multi-task Mid-level Feature Alignment Network for Unsupervised Cross-Dataset Person Re-Identification</strong><br>　　intro: BMVC 2018. University of Warwick &amp; Nanyang Technological University &amp; Charles Sturt University<br>　　arxiv: <a href="https://arxiv.org/abs/1807.01440">https://arxiv.org/abs/1807.01440</a></p>
<p><strong>Discriminative Feature Learning with Foreground Attention for Person Re-Identification</strong><br>    arxiv: <a href="https://arxiv.org/abs/1807.01455">https://arxiv.org/abs/1807.01455</a></p>
<p><strong>Part-Aligned Bilinear Representations for Person Re-identification</strong><br>　　intro: ECCV 2018<br>　　intro: Seoul National University &amp; Microsoft Research &amp; Max Planck Institute &amp; University of Tubingen &amp; JD.COM<br>　　arxiv: <a href="https://arxiv.org/abs/1804.07094">https://arxiv.org/abs/1804.07094</a><br>　　github: <a href="https://github.com/yuminsuh/part_bilinear_reid">https://github.com/yuminsuh/part_bilinear_reid</a></p>
<p><strong>Mancs: A Multi-task Attentional Network with Curriculum Sampling for Person Re-identification</strong><br>　　intro: ECCV 2018. Huazhong University of Science and Technology &amp; Horizon Robotics Inc.</p>
<p><strong>Improving Deep Visual Representation for Person Re-identification by Global and Local Image-language Association</strong><br>　　intro: ECCV 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1808.01571">https://arxiv.org/abs/1808.01571</a></p>
<p><strong>Deep Sequential Multi-camera Feature Fusion for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1807.07295">https://arxiv.org/abs/1807.07295</a></p>
<p><strong>Improving Deep Models of Person Re-identification for Cross-Dataset Usage</strong><br>　　intro: AIAI 2018 (14th International Conference on Artificial Intelligence Applications and Innovations) proceeding<br>　　arxiv: <a href="https://arxiv.org/abs/1807.08526">https://arxiv.org/abs/1807.08526</a></p>
<p><strong>Measuring the Temporal Behavior of Real-World Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1808.05499">https://arxiv.org/abs/1808.05499</a></p>
<p><strong>Alignedreid＋+: Dynamically Matching Local Information for Person Re-Identification</strong><br>　　github: <a href="https://github.com/michuanhaohao/AlignedReID">https://github.com/michuanhaohao/AlignedReID</a></p>
<p><strong>Sparse Label Smoothing for Semi-supervised Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1809.04976">https://arxiv.org/abs/1809.04976</a><br>　　github: <a href="https://github.com/jpainam/SLS_ReID">https://github.com/jpainam/SLS_ReID</a></p>
<p><strong>In Defense of the Classification Loss for Person Re-Identification</strong><br>　　intro: University of Science and Technology of China &amp; Microsoft Research Asia<br>　　arxiv: <a href="https://arxiv.org/abs/1809.05864">https://arxiv.org/abs/1809.05864</a></p>
<p><strong>FD-GAN: Pose-guided Feature Distilling GAN for Robust Person Re-identification</strong><br>　　intro: NIPS 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1810.02936">https://arxiv.org/abs/1810.02936</a><br>　　github(Pytorch, official): <a href="https://github.com/yxgeee/FD-GAN">https://github.com/yxgeee/FD-GAN</a></p>
<p><strong>Image-to-Video Person Re-Identification by Reusing Cross-modal Embeddings</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1810.03989">https://arxiv.org/abs/1810.03989</a></p>
<p><strong>Attention Driven Person Re-identification</strong><br>　　intro: Pattern Recognition (PR)<br>　　arxiv: <a href="https://arxiv.org/abs/1810.05866">https://arxiv.org/abs/1810.05866</a></p>
<p><strong>A Coarse-to-fine Pyramidal Model for Person Re-identification via Multi-Loss Dynamic Training</strong><br>　　intro: YouTu Lab, Tencent<br>　　arxiv: <a href="https://arxiv.org/abs/1810.12193">https://arxiv.org/abs/1810.12193</a></p>
<p><strong>M2M-GAN: Many-to-Many Generative Adversarial Transfer Learning for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.03768">https://arxiv.org/abs/1811.03768</a></p>
<p><strong>Batch Feature Erasing for Person Re-identification and Beyond</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.07130">https://arxiv.org/abs/1811.07130</a><br>　　github(official, Pytorch): <a href="https://github.com/daizuozhuo/batch-feature-erasing-network">https://github.com/daizuozhuo/batch-feature-erasing-network</a></p>
<p><strong>Re-Identification with Consistent Attentive Siamese Networks</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.07487">https://arxiv.org/abs/1811.07487</a></p>
<p><strong>One Shot Domain Adaptation for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.10144">https://arxiv.org/abs/1811.10144</a></p>
<p><strong>Parameter-Free Spatial Attention Network for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.12150">https://arxiv.org/abs/1811.12150</a></p>
<p><strong>Spectral Feature Transformation for Person Re-identification</strong><br>　　intro: University of Chinese Academy of Sciences &amp; TuSimple<br>　　arxiv: <a href="https://arxiv.org/abs/1811.11405">https://arxiv.org/abs/1811.11405</a></p>
<p><strong>Identity Preserving Generative Adversarial Network for Cross-Domain Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.11510">https://arxiv.org/abs/1811.11510</a></p>
<p><strong>Dissecting Person Re-identification from the Viewpoint of Viewpoint</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1812.02162">https://arxiv.org/abs/1812.02162</a></p>
<p><strong>Fast and Accurate Person Re-Identification with RMNet</strong><br>　　intro: IOTG Computer Vision (ICV), Intel<br>　　arxiv: <a href="https://arxiv.org/abs/1812.02465">https://arxiv.org/abs/1812.02465</a></p>
<p><strong>Spatial-Temporal Person Re-identification</strong><br>　　intro: AAAI 2019<br>　　intro: Sun Yat-sen University<br>　　arxiv: <a href="https://arxiv.org/abs/1812.03282">https://arxiv.org/abs/1812.03282</a><br>　　github: <a href="https://github.com/Wanggcong/Spatial-Temporal-Re-identification">https://github.com/Wanggcong/Spatial-Temporal-Re-identification</a></p>
<p><strong>Omni-directional Feature Learning for Person Re-identification</strong><br>　　intro: Tongji University<br>　　keywords: OIM loss<br>　　arxiv: <a href="https://arxiv.org/abs/1812.05319">https://arxiv.org/abs/1812.05319</a></p>
<p><strong>Learning Incremental Triplet Margin for Person Re-identification</strong><br>　　intro: AAAI 2019 spotlight<br>　　intro: Hikvision Research Institute<br>　　arxiv: <a href="https://arxiv.org/abs/1812.06576">https://arxiv.org/abs/1812.06576</a></p>
<p><strong>Densely Semantically Aligned Person Re-Identification</strong><br>　　intro: USTC &amp; MSRA<br>　　arxiv: <a href="https://arxiv.org/abs/1812.08967">https://arxiv.org/abs/1812.08967</a></p>
<p><strong>EANet: Enhancing Alignment for Cross-Domain Person Re-identification</strong><br>　　intro: CRISE &amp; CASIA &amp; Horizon Robotics<br>　　arxiv: <a href="https://arxiv.org/abs/1812.11369">https://arxiv.org/abs/1812.11369</a><br>　　github(official, Pytorch): <a href="https://github.com/huanghoujing/EANet">https://github.com/huanghoujing/EANet</a><br>　　blog: <a href="https://zhuanlan.zhihu.com/p/53660395">https://zhuanlan.zhihu.com/p/53660395</a></p>
<p><strong>Backbone Can Not be Trained at Once: Rolling Back to Pre-trained Network for Person Re-Identification</strong><br>　　intro: AAAI 2019<br>　　intro: Seoul National University &amp; Samsung SDS<br>　　arxiv: <a href="https://arxiv.org/abs/1901.06140">https://arxiv.org/abs/1901.06140</a></p>
<p><strong>Ensemble Feature for Person Re-Identification</strong><br>　　keywords: EnsembleNet<br>　　arxiv: <a href="https://arxiv.org/abs/1901.05798">https://arxiv.org/abs/1901.05798</a></p>
<p><strong>Adversarial Metric Attack for Person Re-identification</strong><br>　　intro: University of Oxford &amp; Johns Hopkins University<br>　　arxiv: <a href="https://arxiv.org/abs/1901.10650">https://arxiv.org/abs/1901.10650</a></p>
<p><strong>Discovering Underlying Person Structure Pattern with Relative Local Distance for Person Re-identification</strong><br>　　intro: SYSU<br>　　arxiv: <a href="https://arxiv.org/abs/1901.10100">https://arxiv.org/abs/1901.10100</a><br>　　github: <a href="https://github.com/Wanggcong/RLD_codes">https://github.com/Wanggcong/RLD_codes</a></p>
<p><strong>Attributes-aided Part Detection and Refinement for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1902.10528">https://arxiv.org/abs/1902.10528</a></p>
<p><strong>Bags of Tricks and A Strong Baseline for Deep Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1903.07071">https://arxiv.org/abs/1903.07071</a><br>　　github: <a href="https://github.com/michuanhaohao/reid-strong-baseline">https://github.com/michuanhaohao/reid-strong-baseline</a></p>
<p><strong>Auto-ReID: Searching for a Part-aware ConvNet for Person Re-Identification</strong><br>　　keywords: NAS<br>　　arxiv: <a href="https://arxiv.org/abs/1903.09776">https://arxiv.org/abs/1903.09776</a></p>
<p><strong>Perceive Where to Focus: Learning Visibility-aware Part-level Features for Partial Person Re-identification</strong><br>　　intro: CVPR 2019<br>　　intro: Tsinghua University &amp; Megvii Technology<br>　　keywords: Visibility-aware Part Model (VPM)<br>　　arxiv: <a href="https://arxiv.org/abs/1904.00537">https://arxiv.org/abs/1904.00537</a></p>
<p><strong>Pedestrian re-identification based on Tree branch network with local and global learning</strong><br>　　intro: ICME 2019 oral<br>　　arxiv: <a href="https://arxiv.org/abs/1904.00355">https://arxiv.org/abs/1904.00355</a></p>
<p><strong>Invariance Matters: Exemplar Memory for Domain Adaptive Person Re-identification</strong><br>　　intro: CVPR 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1904.01990">https://arxiv.org/abs/1904.01990</a><br>　　github: <a href="https://github.com/zhunzhong07/ECN">https://github.com/zhunzhong07/ECN</a></p>
<p><strong>Person Re-identification with Bias-controlled Adversarial Training</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1904.00244">https://arxiv.org/abs/1904.00244</a></p>
<p><strong>Person Re-identification with Metric Learning using Privileged Information</strong><br>　　intro: IEEE TIP<br>　　arxiv: <a href="https://arxiv.org/abs/1904.05005">https://arxiv.org/abs/1904.05005</a></p>
<p><strong>Joint Discriminative and Generative Learning for Person Re-identification</strong><br>　　intro: CVPR 2019 oral<br>　　intro: NVIDIA &amp; University of Technology Sydney &amp; Australian National University<br>　　arxiv: <a href="https://arxiv.org/abs/1904.07223">https://arxiv.org/abs/1904.07223</a></p>
<h2 id="Person-Search"><a href="#Person-Search" class="headerlink" title="Person Search"></a>Person Search</h2><p><strong>Joint Detection and Identification Feature Learning for Person Search</strong><br>　　intro: CVPR 2017 Spotlight<br>　　keywords: Online Instance Matching (OIM) loss function<br>　　homepage(dataset+code):<a href="http://www.ee.cuhk.edu.hk/~xgwang/PS/dataset.html">http://www.ee.cuhk.edu.hk/~xgwang/PS/dataset.html</a><br>　　arxiv: <a href="https://arxiv.org/abs/1604.01850">https://arxiv.org/abs/1604.01850</a><br>　　paper: <a href="http://www.ee.cuhk.edu.hk/~xgwang/PS/paper.pdf">http://www.ee.cuhk.edu.hk/~xgwang/PS/paper.pdf</a><br>　　github(official. Caffe): <a href="https://github.com/ShuangLI59/person_search">https://github.com/ShuangLI59/person_search</a></p>
<p><strong>Person Re-identification in the Wild</strong><br>　　intro: CVPR 2017 spotlight<br>　　keywords: PRW dataset<br>　　project page: <a href="http://www.liangzheng.com.cn/Project/project_prw.html">http://www.liangzheng.com.cn/Project/project_prw.html</a><br>　　arxiv: <a href="https://arxiv.org/abs/1604.02531">https://arxiv.org/abs/1604.02531</a><br>　　github: <a href="https://github.com/liangzheng06/PRW-baseline">https://github.com/liangzheng06/PRW-baseline</a><br>　　youtube: <a href="https://www.youtube.com/watch?v=dbOGwBITJqo">https://www.youtube.com/watch?v=dbOGwBITJqo</a></p>
<p><strong>IAN: The Individual Aggregation Network for Person Search</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1705.05552">https://arxiv.org/abs/1705.05552</a></p>
<p><strong>Neural Person Search Machines</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1707.06777">https://arxiv.org/abs/1707.06777</a></p>
<p><strong>End-to-End Detection and Re-identification Integrated Net for Person Search</strong><br>　　keywords: I-Net<br>　　arxiv: <a href="https://arxiv.org/abs/1804.00376">https://arxiv.org/abs/1804.00376</a></p>
<p><strong>Person Search via A Mask-guided Two-stream CNN Model</strong><br>　　intro: ECCV 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1807.08107">https://arxiv.org/abs/1807.08107</a></p>
<p><strong>Person Search by Multi-Scale Matching</strong><br>　　intro: ECCV 2018<br>　　keywords: Cross-Level Semantic Alignment (CLSA)<br>　　arxiv: <a href="https://arxiv.org/abs/1807.08582">https://arxiv.org/abs/1807.08582</a></p>
<p><strong>Learning Context Graph for Person Search</strong><br>　　intro: CVPR 2019<br>　　intro: Shanghai Jiao Tong University &amp; Tencent YouTu Lab &amp; Inception Institute of Artificial Intelligence, UAE<br>　　arxiv: <a href="https://arxiv.org/abs/1904.01830">https://arxiv.org/abs/1904.01830</a></p>
<h2 id="Pose-View-for-Re-ID"><a href="#Pose-View-for-Re-ID" class="headerlink" title="Pose/View for Re-ID"></a>Pose/View for Re-ID</h2><p><strong>Pose Invariant Embedding for Deep Person Re-identification</strong><br>　　keywords: pose invariant embedding (PIE), PoseBox fusion (PBF) CNN<br>　　arixv: <a href="https://arxiv.org/abs/1701.07732">https://arxiv.org/abs/1701.07732</a></p>
<p><strong>Deeply-Learned Part-Aligned Representations for Person Re-Identification</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1707.07256">https://arxiv.org/abs/1707.07256</a><br>　　github(official, Caffe): <a href="https://github.com/zlmzju/part_reid">https://github.com/zlmzju/part_reid</a></p>
<p><strong>Spindle Net: Person Re-identification with Human Body Region Guided Feature Decomposition and Fusion</strong><br>　　intro: CVPR 2017<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Zhao_Spindle_Net_Person_CVPR_2017_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2017/papers/Zhao_Spindle_Net_Person_CVPR_2017_paper.pdf</a><br>　　github: <a href="https://github.com/yokattame/SpindleNet">https://github.com/yokattame/SpindleNet</a></p>
<p><strong>Pose-driven Deep Convolutional Model for Person Re-identification</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1709.08325">https://arxiv.org/abs/1709.08325</a></p>
<p><strong>A Pose-Sensitive Embedding for Person Re-Identification with Expanded Cross Neighborhood Re-Ranking</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1711.10378">https://arxiv.org/abs/1711.10378</a><br>　　github(official): <a href="https://github.com/pse-ecn/pose-sensitive-embedding">https://github.com/pse-ecn/pose-sensitive-embedding</a></p>
<p><strong>Pose-Driven Deep Models for Person Re-Identification</strong><br>　　intro: Masters thesis<br>　　arxiv: <a href="https://arxiv.org/abs/1803.08709">https://arxiv.org/abs/1803.08709</a></p>
<p><strong>Pose Transferrable Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Liu_Pose_Transferrable_Person_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Liu_Pose_Transferrable_Person_CVPR_2018_paper.pdf</a></p>
<p><strong>Person re-identification with fusion of hand-crafted and deep pose-based body region features</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1803.10630">https://arxiv.org/abs/1803.10630</a></p>
<h2 id="GAN-for-Re-ID"><a href="#GAN-for-Re-ID" class="headerlink" title="GAN for Re-ID"></a>GAN for Re-ID</h2><p><strong>Unlabeled Samples Generated by GAN Improve the Person Re-identification Baseline in vitro</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1701.07717">https://arxiv.org/abs/1701.07717</a><br>　　github(official, Matlab): <a href="https://github.com/layumi/Person-reID_GAN">https://github.com/layumi/Person-reID_GAN</a><br>　　github: <a href="https://github.com/qiaoguan/Person-reid-GAN-pytorch">https://github.com/qiaoguan/Person-reid-GAN-pytorch</a></p>
<p><strong>Person Transfer GAN to Bridge Domain Gap for Person Re-Identification</strong><br>　　intro: CVPR 2018 spotlight<br>　　intro: PTGAN<br>　　arxiv: <a href="https://arxiv.org/abs/1711.08565">https://arxiv.org/abs/1711.08565</a><br>　　github: <a href="https://github.com/JoinWei-PKU/PTGAN">https://github.com/JoinWei-PKU/PTGAN</a></p>
<p><strong>Pose-Normalized Image Generation for Person Re-identification</strong><br>　　keywords: PN-GAN<br>　　arxiv: <a href="https://arxiv.org/abs/1712.02225">https://arxiv.org/abs/1712.02225</a><br>　　github: <a href="https://github.com/naiq/PN_GAN">https://github.com/naiq/PN_GAN</a></p>
<p><strong>Multi-pseudo Regularized Label for Generated Samples in Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1801.06742">https://arxiv.org/abs/1801.06742</a></p>
<h2 id="Human-Parsing-for-Re-ID"><a href="#Human-Parsing-for-Re-ID" class="headerlink" title="Human Parsing for Re-ID"></a>Human Parsing for Re-ID</h2><p><strong>Human Semantic Parsing for Person Re-identification</strong><br>　　intro: CVPR 2018. SPReID<br>　　arxiv: <a href="https://arxiv.org/abs/1804.00216">https://arxiv.org/abs/1804.00216</a></p>
<p><strong>Improved Person Re-Identification Based on Saliency and Semantic Parsing with Deep Neural Network Models</strong><br>　　keywords: Saliency-Semantic Parsing Re-Identification (SSP-ReID)<br>　　arxiv: <a href="https://arxiv.org/abs/1807.05618">https://arxiv.org/abs/1807.05618</a></p>
<h2 id="Partial-Person-Re-ID"><a href="#Partial-Person-Re-ID" class="headerlink" title="Partial Person Re-ID"></a>Partial Person Re-ID</h2><p><strong>Partial Person Re-identification</strong><br>　　intro: ICCV 2015<br>　　arxiv: <a href="https://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Zheng_Partial_Person_Re-Identification_ICCV_2015_paper.pdf">https://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Zheng_Partial_Person_Re-Identification_ICCV_2015_paper.pdf</a></p>
<p><strong>Deep Spatial Feature Reconstruction for Partial Person Re-identification: Alignment-Free Approach</strong><br>　　intro: CVPR 2018.<br>　　keywords: Market1501 rank1=83.58%<br>　　arxiv: <a href="https://arxiv.org/abs/1801.00881">https://arxiv.org/abs/1801.00881</a></p>
<p><strong>Occluded Person Re-identification</strong><br>　　intro: ICME 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1804.02792">https://arxiv.org/abs/1804.02792</a></p>
<p><strong>Partial Person Re-identification with Alignment and Hallucination</strong><br>　　intro: Imperial College London<br>　　keywords: Partial Matching Net (PMN)<br>　　arxiv: <a href="https://arxiv.org/abs/1807.09162">https://arxiv.org/abs/1807.09162</a></p>
<p><strong>SCPNet: Spatial-Channel Parallelism Network for Joint Holistic and Partial Person Re-Identification</strong><br>　　intro: ACCV 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1810.06996">https://arxiv.org/abs/1810.06996</a></p>
<p><strong>STNReID : Deep Convolutional Networks with Pairwise Spatial Transformer Networks for Partial Person Re-identification</strong><br>　　intro: Zhejiang University &amp; Megvii Inc<br>　　arxiv: <a href="https://arxiv.org/abs/1903.07072">https://arxiv.org/abs/1903.07072</a></p>
<p><strong>Foreground-aware Pyramid Reconstruction for Alignment-free Occluded Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1904.04975">https://arxiv.org/abs/1904.04975</a></p>
<h2 id="RGB-IR-Re-ID"><a href="#RGB-IR-Re-ID" class="headerlink" title="RGB-IR Re-ID"></a>RGB-IR Re-ID</h2><p><strong>RGB-Infrared Cross-Modality Person Re-Identification</strong><br>　　arxiv: <a href="http://openaccess.thecvf.com/content_ICCV_2017/papers/Wu_RGB-Infrared_Cross-Modality_Person_ICCV_2017_paper.pdf">Wu_RGB-Infrared_Cross-Modality_Person_ICCV_2017_paper.pdf</a></p>
<h2 id="Depth-Based-Re-ID"><a href="#Depth-Based-Re-ID" class="headerlink" title="Depth-Based Re-ID"></a>Depth-Based Re-ID</h2><p><strong>Reinforced Temporal Attention and Split-Rate Transfer for Depth-Based Person Re-Identification</strong><br>　　intro: ECCV 2018<br>　　arxiv: <a href="http://openaccess.thecvf.com/content_ECCV_2018/papers/Nikolaos_Karianakis_Reinforced_Temporal_Attention_ECCV_2018_paper.pdf">Nikolaos_Karianakis_Reinforced_Temporal_Attention_ECCV_2018_paper.pdf</a></p>
<p><strong>A Cross-Modal Distillation Network for Person Re-identification in RGB-Depth</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1810.11641">https://arxiv.org/abs/1810.11641</a></p>
<h2 id="Low-Resolution-Re-ID"><a href="#Low-Resolution-Re-ID" class="headerlink" title="Low Resolution Re-ID"></a>Low Resolution Re-ID</h2><p><strong>Multi-scale Learning for Low-resolution Person Re-identification</strong><br>　　intro: ICCV 2015<br>　　arxiv: <a href="https://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Li_Multi-Scale_Learning_for_ICCV_2015_paper.pdf">https://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Li_Multi-Scale_Learning_for_ICCV_2015_paper.pdf</a></p>
<p><strong>Cascaded SR-GAN for Scale-Adaptive Low Resolution Person Re-identification</strong><br>　　intro: IJCAI 2018<br>　　arxiv: <a href="https://www.ijcai.org/proceedings/2018/0541.pdf">https://www.ijcai.org/proceedings/2018/0541.pdf</a></p>
<p><strong>Deep Low-Resolution Person Re-Identification</strong><br>　　intro: AAAI 2018<br>　　keywords: Super resolution and Identity joiNt learninG (SING)<br>　　paper: <a href="http://www.eecs.qmul.ac.uk/~xiatian/papers/JiaoEtAl_2018AAAI.pdf">http://www.eecs.qmul.ac.uk/~xiatian/papers/JiaoEtAl_2018AAAI.pdf</a></p>
<h2 id="Reinforcement-Learning-for-Re-ID"><a href="#Reinforcement-Learning-for-Re-ID" class="headerlink" title="Reinforcement Learning for Re-ID"></a>Reinforcement Learning for Re-ID</h2><p><strong>Deep Reinforcement Learning Attention Selection for Person Re-Identification</strong><br><strong>Identity Alignment by Noisy Pixel Removal</strong><br>　　intro: BMVC 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1707.02785">https://arxiv.org/abs/1707.02785</a><br>　　paper: <a href="http://www.eecs.qmul.ac.uk/~sgg/papers/LanEtAl_2017BMVC.pdf">http://www.eecs.qmul.ac.uk/~sgg/papers/LanEtAl_2017BMVC.pdf</a></p>
<h2 id="Attributes-Prediction-for-Re-ID"><a href="#Attributes-Prediction-for-Re-ID" class="headerlink" title="Attributes Prediction for Re-ID"></a>Attributes Prediction for Re-ID</h2><p><strong>Multi-Task Learning with Low Rank Attribute Embedding for Person Re-identification</strong><br>　　intro: ICCV 2015<br>　　paper: <a href="http://legacydirs.umiacs.umd.edu/~fyang/papers/iccv15.pdf">http://legacydirs.umiacs.umd.edu/~fyang/papers/iccv15.pdf</a></p>
<p><strong>Deep Attributes Driven Multi-Camera Person Re-identification</strong><br>　　intro: ECCV 2016<br>　　arxiv: <a href="https://arxiv.org/abs/1605.03259">https://arxiv.org/abs/1605.03259</a></p>
<p><strong>Improving Person Re-identification by Attribute and Identity Learning</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1703.07220">https://arxiv.org/abs/1703.07220</a></p>
<p><strong>Person Re-identification by Deep Learning Attribute-Complementary Information</strong><br>　　intro: CVPR 2017 workshop<br>　　paper: <a href="https://sci-hub.tw/10.1109/CVPRW.2017.186">https://sci-hub.tw/10.1109/CVPRW.2017.186</a></p>
<p><strong>CA3Net: Contextual-Attentional Attribute-Appearance Network for Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.07544">https://arxiv.org/abs/1811.07544</a></p>
<h2 id="Video-Person-Re-Identification"><a href="#Video-Person-Re-Identification" class="headerlink" title="Video Person Re-Identification"></a>Video Person Re-Identification</h2><p><strong>Recurrent Convolutional Network for Video-based Person Re-Identification</strong><br>　　intro: CVPR 2016<br>　　paper: <a href="http://www.cv-foundation.org/openaccess/content_cvpr_2016/papers/McLaughlin_Recurrent_Convolutional_Network_CVPR_2016_paper.pdf">McLaughlin_Recurrent_Convolutional_Network_CVPR_2016_paper.pdf</a><br>　　github: <a href="https://github.com/niallmcl/Recurrent-Convolutional-Video-ReID">https://github.com/niallmcl/Recurrent-Convolutional-Video-ReID</a></p>
<p><strong>Deep Recurrent Convolutional Networks for Video-based Person Re-identification: An End-to-End Approach</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1606.01609">https://arxiv.org/abs/1606.01609</a></p>
<p><strong>Jointly Attentive Spatial-Temporal Pooling Networks for Video-based Person Re-Identification</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1708.02286">https://arxiv.org/abs/1708.02286</a></p>
<p><strong>Three-Stream Convolutional Networks for Video-based Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1712.01652">https://arxiv.org/abs/1712.01652</a></p>
<p><strong>LVreID: Person Re-Identification with Long Sequence Videos</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1712.07286">https://arxiv.org/abs/1712.07286</a></p>
<p><strong>Multi-shot Pedestrian Re-identification via Sequential Decision Making</strong><br>　　intro: CVPR 2018. TuSimple<br>　　keywords: reinforcement learning<br>　　arxiv: <a href="https://arxiv.org/abs/1712.07257">https://arxiv.org/abs/1712.07257</a><br>　　github: <a href="https://github.com/TuSimple/rl-multishot-reid">https://github.com/TuSimple/rl-multishot-reid</a></p>
<p><strong>LVreID: Person Re-Identification with Long Sequence Videos</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1712.07286">https://arxiv.org/abs/1712.07286</a></p>
<p><strong>Diversity Regularized Spatiotemporal Attention for Video-based Person Re-identification</strong><br>　　intro: CUHK-SenseTime &amp; Argo AI<br>　　arxiv: <a href="https://arxiv.org/abs/1803.09882">https://arxiv.org/abs/1803.09882</a></p>
<p><strong>Video Person Re-identification with Competitive Snippet-similarity Aggregation and Co-attentive Snippet Embedding</strong><br>　　intro: CVPR 2018 Poster<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_Video_Person_Re-Identification_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_Video_Person_Re-Identification_CVPR_2018_paper.pdf</a></p>
<p><strong>Exploit the Unknown Gradually: One-Shot Video-Based Person Re-Identification by Stepwise Learning</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Wu_Exploit_the_Unknown_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Wu_Exploit_the_Unknown_CVPR_2018_paper.pdf</a></p>
<p><strong>Revisiting Temporal Modeling for Video-based Person ReID</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1805.02104">https://arxiv.org/abs/1805.02104</a><br>　　github: <a href="https://github.com/jiyanggao/Video-Person-ReID">https://github.com/jiyanggao/Video-Person-ReID</a></p>
<p><strong>Video Person Re-identification by Temporal Residual Learning</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1802.07918">https://arxiv.org/abs/1802.07918</a></p>
<p><strong>A Spatial and Temporal Features Mixture Model with Body Parts for Video-based Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1807.00975">https://arxiv.org/abs/1807.00975</a></p>
<p><strong>Video-based Person Re-identification via 3D Convolutional Networks and Non-local Attention</strong><br>　　intro: University of Science and Technology of China &amp; University of Chinese Academy of Sciences<br>　　arxiv: <a href="https://arxiv.org/abs/1807.05073">https://arxiv.org/abs/1807.05073</a></p>
<p><strong>Spatial-Temporal Synergic Residual Learning for Video Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1807.05799">https://arxiv.org/abs/1807.05799</a></p>
<p><strong>Where-and-When to Look: Deep Siamese Attention Networks for Video-based Person Re-identification</strong><br>　　intro: IEEE Transactions on Multimedia<br>　　arxiv: <a href="https://arxiv.org/abs/1808.01911">https://arxiv.org/abs/1808.01911</a></p>
<p><strong>STA: Spatial-Temporal Attention for Large-Scale Video-based Person Re-Identification</strong><br>　　intro: AAAI 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1811.04129">https://arxiv.org/abs/1811.04129</a></p>
<p><strong>Multi-scale 3D Convolution Network for Video Based Person Re-Identification</strong><br>　　intro: AAAI 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1811.07468">https://arxiv.org/abs/1811.07468</a></p>
<p><strong>Deep Active Learning for Video-based Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1812.05785">https://arxiv.org/abs/1812.05785</a></p>
<p><strong>Spatial and Temporal Mutual Promotion for Video-based Person Re-identification</strong><br>　　intro: AAAI 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1812.10305">https://arxiv.org/abs/1812.10305</a></p>
<p><strong>3D PersonVLAD: Learning Deep Global Representations for Video-based Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1812.10222">https://arxiv.org/abs/1812.10222</a></p>
<p><strong>SCAN: Self-and-Collaborative Attention Network for Video Person Re-identification</strong><br>　　intro: TIP 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1807.05688">https://arxiv.org/abs/1807.05688</a></p>
<p><strong>GAN-based Pose-aware Regulation for Video-based Person Re-identification</strong><br>　　intro: Heriot-Watt University &amp; University of Edinburgh &amp; Queen’s University Belfast &amp; Anyvision<br>　　keywords: Weighted Fusion (WF) &amp; Weighted-Pose Regulation (WPR)<br>　　arxiv: <a href="https://arxiv.org/abs/1903.11552">https://arxiv.org/abs/1903.11552</a></p>
<p><strong>Convolutional Temporal Attention Model for Video-based Person Re-identification</strong><br>　　intro: ICME 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1904.04492">https://arxiv.org/abs/1904.04492</a></p>
<h2 id="Re-ranking"><a href="#Re-ranking" class="headerlink" title="Re-ranking"></a>Re-ranking</h2><p><strong>Divide and Fuse: A Re-ranking Approach for Person Re-identification</strong><br>　　intro: BMVC 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1708.04169">https://arxiv.org/abs/1708.04169</a></p>
<p><strong>Re-ranking Person Re-identification with k-reciprocal Encoding</strong><br>　　intro: CVPR 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1701.08398">https://arxiv.org/abs/1701.08398</a><br>　　github: <a href="https://github.com/zhunzhong07/person-re-ranking">https://github.com/zhunzhong07/person-re-ranking</a></p>
<p><strong>A Pose-Sensitive Embedding for Person Re-Identification with Expanded Cross Neighborhood Re-Ranking</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1711.10378">https://arxiv.org/abs/1711.10378</a><br>　　github(official): <a href="https://github.com/pse-ecn/expanded-cross-neighborhood">https://github.com/pse-ecn/expanded-cross-neighborhood</a></p>
<p><strong>Adaptive Re-ranking of Deep Feature for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.08561">https://arxiv.org/abs/1811.08561</a></p>
<h2 id="Unsupervised-Re-ID"><a href="#Unsupervised-Re-ID" class="headerlink" title="Unsupervised Re-ID"></a>Unsupervised Re-ID</h2><p><strong>Unsupervised Person Re-identification: Clustering and Fine-tuning</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1705.10444">https://arxiv.org/abs/1705.10444</a><br>　　github: <a href="https://github.com/hehefan/Unsupervised-Person-Re-identification-Clustering-and-Fine-tuning">https://github.com/hehefan/Unsupervised-Person-Re-identification-Clustering-and-Fine-tuning</a></p>
<p><strong>Stepwise Metric Promotion for Unsupervised Video Person Re-identification</strong><br>　　intro: ICCV 2017<br>　　paper: <a href="http://openaccess.thecvf.com/content_ICCV_2017/papers/Liu_Stepwise_Metric_Promotion_ICCV_2017_paper.pdf">http://openaccess.thecvf.com/content_ICCV_2017/papers/Liu_Stepwise_Metric_Promotion_ICCV_2017_paper.pdf</a><br>　　github: <a href="https://github.com/lilithliu/StepwiseMetricPromotion-code">https://github.com/lilithliu/StepwiseMetricPromotion-code</a></p>
<p><strong>Dynamic Label Graph Matching for Unsupervised Video Re-Identification</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1709.09297">https://arxiv.org/abs/1709.09297</a><br>　　github: <a href="https://github.com/mangye16/dgm_re-id">https://github.com/mangye16/dgm_re-id</a></p>
<p><strong>Unsupervised Cross-dataset Person Re-identification by Transfer Learning of Spatio-temporal Patterns</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1803.07293">https://arxiv.org/abs/1803.07293</a><br>　　github: <a href="https://github.com/ahangchen/TFusion">https://github.com/ahangchen/TFusion</a><br>　　blog: <a href="https://zhuanlan.zhihu.com/p/34778414">https://zhuanlan.zhihu.com/p/34778414</a></p>
<p><strong>Cross-dataset Person Re-Identification Using Similarity Preserved Generative Adversarial Networks</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1806.04533">https://arxiv.org/abs/1806.04533</a></p>
<p><strong>Transferable Joint Attribute-Identity Deep Learning for Unsupervised Person Re-Identification</strong><br>　　intro: CVPR 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1803.09786">https://arxiv.org/abs/1803.09786</a></p>
<p><strong>Adaptation and Re-Identification Network: An Unsupervised Deep Transfer Learning Approach to Person Re-Identification</strong><br>　　intro: CVPR 2018 workshop. National Taiwan University &amp; Umbo Computer Vision<br>　　keywords: adaptation and re-identification network (ARN)<br>　　arxiv: <a href="https://arxiv.org/abs/1804.09347">https://arxiv.org/abs/1804.09347</a></p>
<p><strong>Domain Adaptation through Synthesis for Unsupervised Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1804.10094">https://arxiv.org/abs/1804.10094</a></p>
<p><strong>Deep Association Learning for Unsupervised Video Person Re-identification</strong><br>　　intro: BMVC 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1808.07301">https://arxiv.org/abs/1808.07301</a></p>
<p><strong>Support Neighbor Loss for Person Re-Identification</strong><br>　　intro: ACM Multimedia (ACM MM) 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1808.06030">https://arxiv.org/abs/1808.06030</a></p>
<p><strong>Unsupervised Person Re-identification by Deep Learning Tracklet Association</strong><br>　　intro: ECCV 2018 Oral<br>　　arxiv: <a href="https://arxiv.org/abs/1809.02874">https://arxiv.org/abs/1809.02874</a></p>
<p><strong>Unsupervised Tracklet Person Re-Identification</strong><br>　　intro: TPAMI 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1903.00535">https://arxiv.org/abs/1903.00535</a><br>　　github: <a href="https://github.com/liminxian/DukeMTMC-SI-Tracklet">https://github.com/liminxian/DukeMTMC-SI-Tracklet</a></p>
<p><strong>Unsupervised Person Re-identification by Deep Asymmetric Metric Embedding</strong><br>　　intro: TPAMI<br>　　keywords: DEep Clustering-based Asymmetric MEtric Learning (DECAMEL)<br>　　arxiv: <a href="https://arxiv.org/abs/1901.10177">https://arxiv.org/abs/1901.10177</a><br>　　github: <a href="https://github.com/KovenYu/DECAMEL">https://github.com/KovenYu/DECAMEL</a></p>
<p><strong>Unsupervised Person Re-identification by Soft Multilabel Learning</strong><br>　　intro: CVPR 2019 oral<br>　　intro: Sun Yat-sen University &amp; YouTu Lab &amp; Queen Mary University of London<br>　　keywords: MAR (MultilAbel Reference learning), soft multilabel-guided hard negative mining<br>　　project page: <a href="https://kovenyu.com/publication/2019-cvpr-mar/">https://kovenyu.com/publication/2019-cvpr-mar/</a><br>　　arxiv: <a href="https://arxiv.org/abs/1903.06325">https://arxiv.org/abs/1903.06325</a><br>　　github(official, Pytorch): <a href="https://github.com/KovenYu/MAR">https://github.com/KovenYu/MAR</a></p>
<p><strong>A Novel Unsupervised Camera-aware Domain Adaptation Framework for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1904.03425">https://arxiv.org/abs/1904.03425</a></p>
<h2 id="Weakly-Supervised-Person-Re-identification"><a href="#Weakly-Supervised-Person-Re-identification" class="headerlink" title="Weakly Supervised Person Re-identification"></a>Weakly Supervised Person Re-identification</h2><p><strong>Weakly Supervised Person Re-Identification</strong><br>　　intro: CVPR 2019<br>　　keywords: multi-instance multi-label learning (MIML), Cross-View MIML (CV-MIML)<br>　　arxiv: <a href="https://arxiv.org/abs/1904.03832">https://arxiv.org/abs/1904.03832</a></p>
<p><strong>Weakly Supervised Person Re-identification: Cost-effective Learning with A New Benchmark</strong><br>　　keywords: SYSU-30k<br>　　arxiv: <a href="https://arxiv.org/abs/1904.03845">https://arxiv.org/abs/1904.03845</a></p>
<h2 id="Vehicle-Re-ID"><a href="#Vehicle-Re-ID" class="headerlink" title="Vehicle Re-ID"></a>Vehicle Re-ID</h2><p><strong>Learning Deep Neural Networks for Vehicle Re-ID with Visual-spatio-temporal Path Proposals</strong><br>　　intro: ICCV 2017<br>　　arxiv: <a href="https://arxiv.org/abs/1708.03918">https://arxiv.org/abs/1708.03918</a></p>
<p><strong>Viewpoint-Aware Attentive Multi-View Inference for Vehicle Re-Identification</strong><br>　　intro: CVPR 2018<br>　　paper: <a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Zhou_Viewpoint-Aware_Attentive_Multi-View_CVPR_2018_paper.pdf">http://openaccess.thecvf.com/content_cvpr_2018/papers/Zhou_Viewpoint-Aware_Attentive_Multi-View_CVPR_2018_paper.pdf</a></p>
<p><strong>RAM: A Region-Aware Deep Model for Vehicle Re-Identification</strong><br>　　intro: ICME 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1806.09283">https://arxiv.org/abs/1806.09283</a></p>
<p><strong>Vehicle Re-Identification in Context</strong><br>　　intro: Pattern Recognition - 40th German Conference, (GCPR) 2018, Stuttgart<br>　　project page: <a href="https://qmul-vric.github.io/">https://qmul-vric.github.io/</a><br>　　arxiv: <a href="https://arxiv.org/abs/1809.09409">https://arxiv.org/abs/1809.09409</a></p>
<p><strong>Vehicle Re-identification Using Quadruple Directional Deep Learning Features</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1811.05163">https://arxiv.org/abs/1811.05163</a></p>
<p><strong>Coarse-to-fine: A RNN-based hierarchical attention model for vehicle re-identification</strong><br>　　intro: ACCV 2018<br>　　arxiv: <a href="https://arxiv.org/abs/1812.04239">https://arxiv.org/abs/1812.04239</a></p>
<p><strong>Vehicle Re-Identification: an Efficient Baseline Using Triplet Embedding</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1901.01015">https://arxiv.org/abs/1901.01015</a></p>
<p><strong>A Two-Stream Siamese Neural Network for Vehicle Re-Identification by Using Non-Overlapping Cameras</strong><br>　　intro: ICIP 2019<br>　　arxiv: <a href="https://arxiv.org/abs/1902.01496">https://arxiv.org/abs/1902.01496</a></p>
<p><strong>CityFlow: A City-Scale Benchmark for Multi-Target Multi-Camera Vehicle Tracking and Re-Identification</strong><br>　　intro: Accepted for oral presentation at CVPR 2019 with review ratings of 2 strong accepts and 1 accept (work done during an internship at NVIDIA)<br>　　arxiv: <a href="https://arxiv.org/abs/1903.09254">https://arxiv.org/abs/1903.09254</a></p>
<p><strong>Vehicle Re-identification in Aerial Imagery: Dataset and Approach</strong><br>　　intro: Northwestern Polytechnical University<br>　　arxiv: <a href="https://arxiv.org/abs/1904.01400">https://arxiv.org/abs/1904.01400</a></p>
<h2 id="Deep-Metric-Learning"><a href="#Deep-Metric-Learning" class="headerlink" title="Deep Metric Learning"></a>Deep Metric Learning</h2><p><strong>Deep Metric Learning for Person Re-Identification</strong><br>　　intro: ICPR 2014<br>　　paper: <a href="http://www.cbsr.ia.ac.cn/users/zlei/papers/ICPR2014/Yi-ICPR-14.pdf">http://www.cbsr.ia.ac.cn/users/zlei/papers/ICPR2014/Yi-ICPR-14.pdf</a></p>
<p><strong>Deep Metric Learning for Practical Person Re-Identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1407.4979">https://arxiv.org/abs/1407.4979</a></p>
<p><strong>Constrained Deep Metric Learning for Person Re-identification</strong><br>　　arxiv: <a href="https://arxiv.org/abs/1511.07545">https://arxiv.org/abs/1511.07545</a></p>
<p><strong>Embedding Deep Metric for Person Re-identication A Study Against Large Variations</strong><br>　　intro: ECCV 2016<br>　　arxiv: <a href="https://arxiv.org/abs/1611.00137">https://arxiv.org/abs/1611.00137</a></p>
<p><strong>DarkRank: Accelerating Deep Metric Learning via Cross Sample Similarities Transfer</strong><br>　　intro: TuSimple<br>　　keywords: pedestrian re-identification<br>　　arxiv: <a href="https://arxiv.org/abs/1707.01220">https://arxiv.org/abs/1707.01220</a></p>
<h2 id="Projects"><a href="#Projects" class="headerlink" title="Projects"></a>Projects</h2><p><strong>Open-ReID: Open source person re-identification library in python</strong><br>　　intro: Open-ReID is a lightweight library of person re-identification for research purpose. It aims to provide a uniform interface for different datasets, a full set of models and evaluation metrics, as well as examples to reproduce (near) state-of-the-art results.<br>　　project page: <a href="https://cysu.github.io/open-reid/">https://cysu.github.io/open-reid/</a><br>　　github(PyTorch): <a href="https://github.com/Cysu/open-reid">https://github.com/Cysu/open-reid</a><br>　　examples: <a href="https://cysu.github.io/open-reid/examples/training_id.html">https://cysu.github.io/open-reid/examples/training_id.html</a><br>　　benchmarks: <a href="https://cysu.github.io/open-reid/examples/benchmarks.html">https://cysu.github.io/open-reid/examples/benchmarks.html</a></p>
<p><strong>caffe-PersonReID</strong><br>　　intro: Person Re-Identification: Multi-Task Deep CNN with Triplet Loss<br>　　gtihub: <a href="https://github.com/agjayant/caffe-Person-ReID">https://github.com/agjayant/caffe-Person-ReID</a></p>
<p><strong>Person_reID_baseline_pytorch</strong><br>　　intro: Pytorch implement of Person re-identification baseline<br>　　arxiv: <a href="https://github.com/layumi/Person_reID_baseline_pytorch">https://github.com/layumi/Person_reID_baseline_pytorch</a></p>
<p><strong>deep-person-reid</strong><br>　　intro: Pytorch implementation of deep person re-identification models.<br>　　github: <a href="https://github.com/KaiyangZhou/deep-person-reid">https://github.com/KaiyangZhou/deep-person-reid</a></p>
<p><strong>ReID_baseline</strong><br>　　intro: Baseline model (with bottleneck) for person ReID (using softmax and triplet loss).<br>　　github: <a href="https://github.com/L1aoXingyu/reid_baseline">https://github.com/L1aoXingyu/reid_baseline</a><br>　　blog: <a href="https://zhuanlan.zhihu.com/p/40514536">https://zhuanlan.zhihu.com/p/40514536</a></p>
<p><strong>gluon-reid</strong><br>　　intro: A code gallery for person re-identification with mxnet-gluon, and I will reproduce many STOA algorithm.<br>　　github: <a href="https://github.com/xiaolai-sqlai/gluon-reid">https://github.com/xiaolai-sqlai/gluon-reid</a></p>
<h2 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h2><p><strong>DukeMTMC-reID</strong><br>　　intro: The Person re-ID Evaluation Code for DukeMTMC-reID Dataset (Including Dataset Download)<br>　　github: <a href="https://github.com/layumi/DukeMTMC-reID_evaluation">https://github.com/layumi/DukeMTMC-reID_evaluation</a></p>
<p><strong>DukeMTMC-reID_baseline (Matlab)</strong><br>　　github: <a href="https://github.com/layumi/DukeMTMC-reID_baseline">https://github.com/layumi/DukeMTMC-reID_baseline</a></p>
<p><strong>Code for IDE baseline on Market-1501</strong><br>　　github: <a href="https://github.com/zhunzhong07/IDE-baseline-Market-1501">https://github.com/zhunzhong07/IDE-baseline-Market-1501</a></p>
<h2 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h2><p><strong>Re-ID 数据集汇总</strong><br><a href="https://robustsystems.coe.neu.edu/sites/robustsystems.coe.neu.edu/files/systems/projectpages/reiddataset.html">https://robustsystems.coe.neu.edu/sites/robustsystems.coe.neu.edu/files/systems/projectpages/reiddataset.html</a></p>
<p><strong>Attribute相关数据集</strong><br>RAP: <a href="http://rap.idealtest.org/">http://rap.idealtest.org/</a><br>Attribute for Market-1501 and DukeMTMC_reID: <a href="https://vana77.github.io/">https://vana77.github.io/</a></p>
<p><strong>视频相关数据集</strong><br>Mars: <a href="http://liangzheng.org/Project/project_mars.html">http://liangzheng.org/Project/project_mars.html</a><br>PRID2011: <a href="https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/">https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/</a></p>
<p><strong>NLP相关数据集</strong><br>自然语言搜图像: <a href="http://xiaotong.me/static/projects/person-search-language/dataset.html">http://xiaotong.me/static/projects/person-search-language/dataset.html</a><br>自然语言搜行人所在视频: <a href="http://www.mi.t.u-tokyo.ac.jp/projects/person_search">http://www.mi.t.u-tokyo.ac.jp/projects/person_search</a></p>
<h2 id="Tutorials"><a href="#Tutorials" class="headerlink" title="Tutorials"></a>Tutorials</h2><p><strong>1st Workshop on Target Re-Identification and Multi-Target Multi-Camera Tracking</strong><br><a href="https://reid-mct.github.io/">https://reid-mct.github.io/</a></p>
<p><strong>Target Re-Identification and Multi-Target Multi-Camera Tracking</strong><br><a href="http://openaccess.thecvf.com/CVPR2017_workshops/CVPR2017_W17.py">http://openaccess.thecvf.com/CVPR2017_workshops/CVPR2017_W17.py</a></p>
<p><strong>Person Re-Identification: Theory and Best Practice</strong><br><a href="http://www.micc.unifi.it/reid-tutorial/">http://www.micc.unifi.it/reid-tutorial/</a></p>
<h2 id="Experts"><a href="#Experts" class="headerlink" title="Experts"></a>Experts</h2><blockquote>
<p>Listed in No Particular Order</p>
</blockquote>
<ul>
<li><strong>Shaogang Gong</strong> - [<a href="http://www.eecs.qmul.ac.uk/~sgg/]">http://www.eecs.qmul.ac.uk/~sgg/]</a></li>
<li><strong>Xiaogang Wang</strong> - [<a href="http://www.ee.cuhk.edu.hk/~xgwang/]">http://www.ee.cuhk.edu.hk/~xgwang/]</a></li>
<li><strong>Weishi Zheng</strong> - [<a href="http://isee.sysu.edu.cn/~zhwshi/]">http://isee.sysu.edu.cn/~zhwshi/]</a></li>
<li><strong>Liang Zheng</strong> - [<a href="http://www.liangzheng.com.cn/]">http://www.liangzheng.com.cn/]</a></li>
<li><strong>Li Zhang</strong> - [<a href="http://www.robots.ox.ac.uk/~lz/]">http://www.robots.ox.ac.uk/~lz/]</a></li>
<li><strong>Xiatian Zhu</strong> - [<a href="http://www.eecs.qmul.ac.uk/~xiatian/index.html]">http://www.eecs.qmul.ac.uk/~xiatian/index.html]</a></li>
<li><strong>Chen Change Loy</strong> - [<a href="https://staff.ie.cuhk.edu.hk/~ccloy/]">https://staff.ie.cuhk.edu.hk/~ccloy/]</a></li>
<li><strong>Qi Tian</strong> - [<a href="http://www.cs.utsa.edu/~qitian/tian-publication-year.html]">http://www.cs.utsa.edu/~qitian/tian-publication-year.html]</a></li>
<li><strong>Shengcai Liao</strong> - [<a href="http://www.cbsr.ia.ac.cn/users/scliao/]">http://www.cbsr.ia.ac.cn/users/scliao/]</a></li>
<li><strong>Rui Zhao</strong> - [<a href="http://www.ee.cuhk.edu.hk/~rzhao/]">http://www.ee.cuhk.edu.hk/~rzhao/]</a></li>
<li><strong>Yang Yang</strong> - [<a href="http://www.cbsr.ia.ac.cn/users/yyang/main.htm]">http://www.cbsr.ia.ac.cn/users/yyang/main.htm]</a></li>
<li><strong>Ling Shao</strong> - [<a href="http://lshao.staff.shef.ac.uk]">http://lshao.staff.shef.ac.uk]</a></li>
<li><strong>Ziyan Wu</strong> - [<a href="http://wuziyan.com/]">http://wuziyan.com/]</a></li>
<li><strong>DaPeng Chen</strong> - [<a href="http://gr.xjtu.edu.cn/web/dapengchen/home]">http://gr.xjtu.edu.cn/web/dapengchen/home]</a></li>
<li><strong>Horst Bischof</strong> - [<a href="https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/prid450s]">https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/prid450s]</a></li>
<li><strong>Niki Martinel</strong> - [<a href="http://users.dimi.uniud.it/~niki.martinel/]">http://users.dimi.uniud.it/~niki.martinel/]</a></li>
<li><strong>Liang Lin</strong> - [<a href="http://hcp.sysu.edu.cn/home/]">http://hcp.sysu.edu.cn/home/]</a></li>
<li><strong>Le An</strong> - [<a href="http://auto.hust.edu.cn/index.php?a=shows&amp;catid=28&amp;id=134]">http://auto.hust.edu.cn/index.php?a=shows&amp;catid=28&amp;id=134]</a></li>
<li><strong>Xiang Bai</strong> - [<a href="http://mc.eistar.net/~xbai/index.html]">http://mc.eistar.net/~xbai/index.html]</a></li>
<li><strong>Xiaoyuan Jing</strong> - [<a href="http://mla.whu.edu.cn/plus/list.php?tid=2]">http://mla.whu.edu.cn/plus/list.php?tid=2]</a></li>
<li><strong>Fei Xiong</strong> - [<a href="http://robustsystems.coe.neu.edu/?q=content/research]">http://robustsystems.coe.neu.edu/?q=content/research]</a></li>
<li><strong>DaPeng Chen</strong> - [<a href="http://gr.xjtu.edu.cn/web/dapengchen/home]">http://gr.xjtu.edu.cn/web/dapengchen/home]</a></li>
<li><strong>Zhedong Zheng</strong> - [<a href="http://zdzheng.xyz/]">http://zdzheng.xyz/]</a></li>
<li><strong>Zhun Zhong</strong> - [<a href="http://zhunzhong.site/]">http://zhunzhong.site/]</a></li>
</ul>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><p><strong>Re-id Resources</strong><br><a href="https://wangzwhu.github.io/home/re_id_resources.html">https://wangzwhu.github.io/home/re_id_resources.html</a></p>
<p><strong>Zhuanzhi</strong><br><a href="http://www.zhuanzhi.ai/topic/2001183057160970">http://www.zhuanzhi.ai/topic/2001183057160970</a></p>
<p><strong>Zhihu</strong><br>行人重识别: <a href="https://zhuanlan.zhihu.com/personReid">https://zhuanlan.zhihu.com/personReid</a><br>Person Re-id: <a href="https://zhuanlan.zhihu.com/re-id">https://zhuanlan.zhihu.com/re-id</a><br>Topci: <a href="https://www.zhihu.com/topic/20087378/hot">https://www.zhihu.com/topic/20087378/hot</a></p>
<p><strong>Blogs</strong><br>行人重识别简介: <a href="https://www.jianshu.com/p/98cc04cca0ae">https://www.jianshu.com/p/98cc04cca0ae</a><br>基于深度学习的Person Re-ID（综述）: <a href="https://blog.csdn.net/linolzhang/article/details/71075756">https://blog.csdn.net/linolzhang/article/details/71075756</a><br>行人再识别（行人重识别）【包含与行人检测的对比】: <a href="https://blog.csdn.net/liuqinglong110/article/details/41699861">https://blog.csdn.net/liuqinglong110/article/details/41699861</a><br>行人重识别综述（Person Re-identification: Past, Present and Future）: <a href="https://blog.csdn.net/auto1993/article/details/74091803">https://blog.csdn.net/auto1993/article/details/74091803</a><br>行人重识别: <a href="http://cweihang.cn/ml/reid/">http://cweihang.cn/ml/reid/</a></p>
]]></content>
      <categories>
        <category>行人重识别</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>Person Re-ID</tag>
      </tags>
  </entry>
  <entry>
    <title>Person Re-identification数据集描述——Market-1501</title>
    <url>/reid-market-1501.html</url>
    <content><![CDATA[<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-12/87140649.jpg" alt="dataset"></p>
<span id="more"></span>
<h2 id="数据集简介"><a href="#数据集简介" class="headerlink" title="数据集简介"></a>数据集简介</h2><p>　　Market-1501 数据集在清华大学校园中采集，夏天拍摄，在 2015 年构建并公开。它包括由6个摄像头（其中5个高清摄像头和1个低清摄像头）拍摄到的 1501 个行人、32668 个检测到的行人矩形框。每个行人至少由2个摄像头捕获到，并且在一个摄像头中可能具有多张图像。训练集有 751 人，包含 12,936 张图像，平均每个人有 17.2 张训练数据；测试集有 750 人，包含 19,732 张图像，平均每个人有 26.3 张测试数据。3368 张查询图像的行人检测矩形框是人工绘制的，而 gallery 中的行人检测矩形框则是使用DPM检测器检测得到的。该数据集提供的固定数量的训练集和测试集均可以在single-shot或multi-shot测试设置下使用。</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>Market-1501<br>　　├── bounding_box_test<br>　　　　　　　├── 0000_c1s1_000151_01.jpg<br>　　　　　　　├── 0000_c1s1_000376_03.jpg<br>　　　　　　　├── 0000_c1s1_001051_02.jpg<br>　　├── bounding_box_train<br>　　　　　　　├── 0002_c1s1_000451_03.jpg<br>　　　　　　　├── 0002_c1s1_000551_01.jpg<br>　　　　　　　├── 0002_c1s1_000801_01.jpg<br>　　├── gt_bbox<br>　　　　　　　├── 0001_c1s1_001051_00.jpg<br>　　　　　　　├── 0001_c1s1_009376_00.jpg<br>　　　　　　　├── 0001_c2s1_001976_00.jpg<br>　　├── gt_query<br>　　　　　　　├── 0001_c1s1_001051_00_good.mat<br>　　　　　　　├── 0001_c1s1_001051_00_junk.mat<br>　　├── query<br>　　　　　　　├── 0001_c1s1_001051_00.jpg<br>　　　　　　　├── 0001_c2s1_000301_00.jpg<br>　　　　　　　├── 0001_c3s1_000551_00.jpg<br>　　└── readme.txt</p>
<h3 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h3><p>1） “bounding_box_test”——用于测试集的 750 人，包含 19,732 张图像，前缀为 0000 表示在提取这 750 人的过程中DPM检测错的图（可能与query是同一个人），-1 表示检测出来其他人的图（不在这 750 人中）<br>2） “bounding_box_train”——用于训练集的 751 人，包含 12,936 张图像<br>3） “query”——为 750 人在每个摄像头中随机选择一张图像作为query，因此一个人的query最多有 6 个，共有 3,368 张图像<br>4） “gt_query”——matlab格式，用于判断一个query的哪些图片是好的匹配（同一个人不同摄像头的图像）和不好的匹配（同一个人同一个摄像头的图像或非同一个人的图像）<br>5） “gt_bbox”——手工标注的bounding box，用于判断DPM检测的bounding box是不是一个好的box</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><p>以 0001_c1s1_000151_01.jpg 为例<br>1） 0001 表示每个人的标签编号，从0001到1501；<br>2） c1 表示第一个摄像头(camera1)，共有6个摄像头；<br>3） s1 表示第一个录像片段(sequece1)，每个摄像机都有数个录像段；<br>4） 000151 表示 c1s1 的第000151帧图片，视频帧率25fps；<br>5） 01 表示 c1s1_001051 这一帧上的第1个检测框，由于采用DPM检测器，对于每一帧上的行人可能会框出好几个bbox。00 表示手工标注框</p>
<h2 id="测试协议"><a href="#测试协议" class="headerlink" title="测试协议"></a>测试协议</h2><p>Cumulative Matching Characteristics (CMC) curves 是目前行人重识别领域最流行的性能评估方法。考虑一个简单的 single-gallery-shot 情形，每个数据集中的ID(gallery ID)只有一个实例. 对于每一次的识别(query), 算法将根据要查询的图像(query) 到所有gallery samples的距离从小到大排序，CMC top-k accuracy 计算如下：</p>
<pre><code>Acc_k = 1, if top-k ranked gallery samples contain query identity
Acc_k = 0, otherwise
</code></pre><p>这是一个 shifted step function, 最终的CMC 曲线(curve) 通过对所有queries的shifted step functions取平均得到。尽管在 single-gallery-shot 情形下，CMC 有很明确的定义，但是在 multi-gallery-shot 情形下，它的定义并不明确，因为每个gallery identity 可能存在多个instances.</p>
<p>Market-1501中 Query 和 gallery 集可能来自相同的摄像头视角，但是对于每个query identity, 他/她的来自同一个摄像头的 gallery samples 会被排除掉。对于每个 gallery identity，他们不会只随机采样一个instance. 这意味着在计算CMC时， query 将总是匹配 gallery 中“最简单”的正样本，而不关注其他更难识别的正样本。bounding_box_test 文件夹是 gallery 样本，bounding_box_train 文件夹是 train 样本，query 文件夹是 query 样本</p>
<p>由上面可以看出，在 multi-gallery-shot 情形下，CMC评估具有缺陷。因此，也使用 mAP（mean average precsion）作为评估指标。mAP可认为是PR曲线下的面积，即平均的查准率。</p>
<ul>
<li><a href="https://github.com/HejaBVB09/Market1501Evaluation">Market-1501 Evaluation Code</a></li>
</ul>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><ol>
<li><a href="https://drive.google.com/file/d/0B8-rUzbwVRk0c054eEozWG9COHM/view?usp=sharing">Google Drive</a></li>
<li><a href="https://pan.baidu.com/s/1ntIi2Op">Baidu Disk</a></li>
</ol>
<h2 id="State-of-the-art"><a href="#State-of-the-art" class="headerlink" title="State of the art"></a>State of the art</h2><ul>
<li><a href="http://www.liangzheng.org/Project/state_of_the_art_market1501.html">State of the art on the Market-1501 dataset</a></li>
</ul>
<h2 id="Citation"><a href="#Citation" class="headerlink" title="Citation"></a>Citation</h2><p>If you use this dataset, please kindly cite this paper:<br><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">@inproceedings&#123;zheng2015scalable,</span><br><span class="line">  title=&#123;<span class="keyword">Scalable </span>Person Re-identification: A <span class="keyword">Benchmark&#125;,</span></span><br><span class="line"><span class="keyword"></span>  author=&#123;Zheng, Liang <span class="keyword">and </span><span class="keyword">Shen, </span>Liyue <span class="keyword">and </span>Tian, Lu <span class="keyword">and </span>Wang, <span class="keyword">Shengjin </span><span class="keyword">and </span>Wang, <span class="keyword">Jingdong </span><span class="keyword">and </span>Tian, Qi&#125;,</span><br><span class="line">  <span class="keyword">booktitle=&#123;Computer </span>Vision, IEEE International Conference on&#125;,</span><br><span class="line">  year=&#123;<span class="number">2015</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li>Zheng, Liang, et al. “Scalable Person Re-identification: A Benchmark.” IEEE International Conference on Computer Vision IEEE Computer Society, 2015:1116-1124.</li>
<li><a href="http://www.liangzheng.org/Project/project_reid.html">Liang Zheng</a></li>
<li><a href="http://bigbrothersue.com/index.php/2017/12/20/person-re-id/">Person re-ID</a></li>
</ul>
]]></content>
      <categories>
        <category>行人重识别</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>Person Re-ID</tag>
      </tags>
  </entry>
  <entry>
    <title>Person Re-identification数据集描述——DukeMTMC-reID</title>
    <url>/reid-duke.html</url>
    <content><![CDATA[<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/2293983.jpg" alt="dataset"></p>
<span id="more"></span>
<h2 id="数据集简介"><a href="#数据集简介" class="headerlink" title="数据集简介"></a>数据集简介</h2><p>　　DukeMTMC 数据集是一个大规模标记的多目标多摄像机行人跟踪数据集。它提供了一个由 8 个同步摄像机记录的新型大型高清视频数据集，具有 7,000 多个单摄像机轨迹和超过 2,700 多个独立人物，DukeMTMC-reID 是 DukeMTMC 数据集的行人重识别子集，并且提供了人工标注的bounding box。</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>DukeMTMC-reID<br>  　　├── bounding_box_test<br>  　　　　　　　├── 0002_c1_f0044158.jpg<br>  　　　　　　　├── 3761_c6_f0183709.jpg<br>  　　　　　　　├── 7139_c2_f0160815.jpg<br>  　　├── bounding_box_train<br>  　　　　　　　├── 0001_c2_f0046182.jpg<br>  　　　　　　　├── 0008_c3_f0026318.jpg<br>  　　　　　　　├── 7140_c4_f0175988.jpg<br>  　　├── query<br>  　　　　　　　├── 0005_c2_f0046985.jpg<br>  　　　　　　　├── 0023_c4_f0031504.jpg<br>  　　　　　　　├── 7139_c2_f0160575.jpg<br>  　　└── CITATION_DukeMTMC.txt<br>  　　└── CITATION_DukeMTMC-reID.txt<br>  　　└── LICENSE_DukeMTMC.txt<br>  　　└── LICENSE_DukeMTMC-reID.txt<br>  　　└── README.md</p>
<h3 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h3><p>从视频中每 120 帧采样一张图像，得到了 36,411 张图像。一共有 1,404 个人出现在大于两个摄像头下，有 408 个人 (distractor ID) 只出现在一个摄像头下。<br>1） “bounding_box_test”——用于测试集的 702 人，包含 17,661  张图像（随机采样，702 ID + 408 distractor ID）<br>2） “bounding_box_train”——用于训练集的 702 人，包含 16,522 张图像（随机采样）<br>3） “query”——为测试集中的 702 人在每个摄像头中随机选择一张图像作为 query，共有 2,228 张图像</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><p>以 0001_c2_f0046182.jpg 为例<br>1） 0001 表示每个人的标签编号；<br>2） c2 表示来自第二个摄像头(camera2)，共有 8 个摄像头；<br>3） f0046182 表示来自第二个摄像头的第 46182 帧。</p>
<h2 id="Dataset-Insights"><a href="#Dataset-Insights" class="headerlink" title="Dataset Insights"></a>Dataset Insights</h2><h3 id="数据分布"><a href="#数据分布" class="headerlink" title="数据分布"></a>数据分布</h3><p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/37515800.jpg" alt=""></p>
<p>Figure. The image distribution of DukeMTMC-reID training set. We note that the median of images per ID is 20. But some ID may contain lots of images, which may compromise some algorithms. (For example, ID 5388 contains 426 images.)</p>
<p>Thank <a href="https://github.com/Xun-Yang">Xun</a> for suggestions.</p>
<h3 id="地理位置"><a href="#地理位置" class="headerlink" title="地理位置"></a>地理位置</h3><p><img src="http://vision.cs.duke.edu/DukeMTMC/img/campus.png" alt=""></p>
<p>This picture is from <a href="http://vision.cs.duke.edu/DukeMTMC/">DukeMTMC Homepage</a>.</p>
<h2 id="测试协议"><a href="#测试协议" class="headerlink" title="测试协议"></a>测试协议</h2><p>(Matlab)To evaluate, you need to calculate your gallery and query feature (i.e., 17661x2048 and 2228x2048 matrix) and save them in advance. Then download the codes in this repository. You just need to change the image path and the feature path in the evaluation_res_duke_fast.m and run it to evaluate.</p>
<p>(Python)We also provide an evaluation code in python. You may refer to <a href="https://github.com/layumi/Person_reID_baseline_pytorch#evaluation">here</a>.</p>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><ol>
<li><a href="https://drive.google.com/open?id=1jjE85dRCMOgRtvJ5RQV9-Afs-2_5dY3O">Google Drive</a></li>
<li><a href="https://pan.baidu.com/s/1jS0XM7Var5nQGcbf9xUztw">Baidu Disk</a> 密码：bhbh</li>
<li><a href="http://vision.cs.duke.edu/DukeMTMC/data/misc/DukeMTMC-reID.zip">DukeMTMC Project</a></li>
</ol>
<h2 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h2><p>We release our baseline training code and pretrained model in <a href="https://github.com/layumi/DukeMTMC-reID_baseline">[Matconvnet Version]</a> and <a href="https://github.com/layumi/Person_reID_baseline_pytorch">[Pytorch Version]</a>. You can choose one of the two tools to conduct the experiment. Furthermore, you may try our new <a href="https://github.com/layumi/Pedestrian_Alignment">Pedestrain Alignment Code</a> which combines person alignment with re-ID.</p>
<p>Or you can directly download the finetuned ResNet-50 baseline feature. You can download it from <a href="https://drive.google.com/open?id=0B0VOCNYh8HeRVFR6bldBX0lTRVE">GoogleDriver</a> or <a href="https://pan.baidu.com/s/1c2CIsTy">BaiduYun</a>, which includes the feature of training set, query set and gallery set. The DukeMTMC-reID LICENSE is also included.</p>
<h2 id="State-of-the-art"><a href="#State-of-the-art" class="headerlink" title="State-of-the-art"></a>State-of-the-art</h2><ul>
<li><a href="https://github.com/layumi/DukeMTMC-reID_evaluation/blob/master/State-of-the-art/README.md">State of the art on the DukeMTMC-reID dataset</a></li>
</ul>
<h2 id="Citation"><a href="#Citation" class="headerlink" title="Citation"></a>Citation</h2><p>If you use this dataset, please kindly cite the following two papers:<br><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">@inproceedings&#123;zheng2017unlabeled,</span><br><span class="line">  title=&#123;Unlabeled Samples Generated <span class="keyword">by </span>GAN Improve the Person Re-identification <span class="keyword">Baseline </span>in vitro&#125;,</span><br><span class="line">  author=&#123;Zheng, Zhedong <span class="keyword">and </span>Zheng, Liang <span class="keyword">and </span>Yang, Yi&#125;,</span><br><span class="line">  <span class="keyword">booktitle=&#123;Proceedings </span>of the IEEE International Conference on Computer Vision&#125;,</span><br><span class="line">  year=&#123;<span class="number">2017</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">@inproceedings&#123;ristani2016MTMC,</span><br><span class="line">  title = &#123;Performance Measures <span class="keyword">and </span>a Data Set for <span class="keyword">Multi-Target, </span><span class="keyword">Multi-Camera </span>Tracking&#125;,</span><br><span class="line">  author = &#123;Ristani, Ergys <span class="keyword">and </span>Solera, Francesco <span class="keyword">and </span>Zou, Roger <span class="keyword">and </span>Cucchiara, Rita <span class="keyword">and </span>Tomasi, Carlo&#125;,</span><br><span class="line">  <span class="keyword">booktitle </span>= &#123;European Conference on Computer Vision workshop on <span class="keyword">Benchmarking </span><span class="keyword">Multi-Target </span>Tracking&#125;,</span><br><span class="line">  year = &#123;<span class="number">2016</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li>Unlabeled Samples Generated by GAN Improve the Person Re-identification Baseline in vitro. Zheng et al., ICCV 2017</li>
<li>Performance Measures and a Data Set for Multi-Target, Multi-Camera Tracking. Ristani et al., ECCVWS 2016</li>
<li><a href="https://github.com/layumi/DukeMTMC-reID_evaluation">DukeMTMC-reID Description</a></li>
<li><a href="https://blog.csdn.net/Layumi1993/article/details/72716551">https://blog.csdn.net/Layumi1993/article/details/72716551</a></li>
</ul>
]]></content>
      <categories>
        <category>行人重识别</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>Person Re-ID</tag>
      </tags>
  </entry>
  <entry>
    <title>Person Re-identification数据集描述——CUHK03</title>
    <url>/reid-cuhk03.html</url>
    <content><![CDATA[<p>CUHK03是第一个足以进行深度学习的大规模行人重识别数据集，该数据集的图像采集于香港中文大学（CUHK）校园。数据以”cuhk-03.mat”的 MAT 文件格式存储，含有 1467 个不同的人物，由 5 对摄像头采集。</p>
<span id="more"></span>
<h2 id="数据集简介"><a href="#数据集简介" class="headerlink" title="数据集简介"></a>数据集简介</h2><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>CUHK-03<br>　　├── “detected”── 5 x 1 cell<br>　　　　　　　├── 843x10 cell<br>　　　　　　　├── 440x10 cell<br>　　　　　　　├── 77x10 cell<br>　　　　　　　├── 58x10 cell<br>　　　　　　　├── 49x10 cell<br>　　├── “labeled”── 5 x 1 cell<br>　　　　　　　├── 843x10 cell<br>　　　　　　　├── 440x10 cell<br>　　　　　　　├── 77x10 cell<br>　　　　　　　├── 58x10 cell<br>　　　　　　　├── 49x10 cell<br>　　├── “testsets”── 20 x 1 cell<br>　　　　　　　├── 100 x 2 double matrix</p>
<h3 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h3><p>（1）”detected”—— 5 x 1 cells，由机器标注，每个 cell 中包含一对摄像头组采集的照片，如下所示：<br>　　每个摄像头组由 M x 10 cells 组成，M 为行人索引，前 5 列和后 5 列分别来自同一组的不同摄像头。<br>　　cell 内每个元素为一幅 H x W x 3 的行人框图像(uint8 数据类型)，个别图像可能空缺，为空集。</p>
<ul>
<li>843x10 cell ——&gt; 摄像头组pair 1。</li>
<li>440x10 cell ——&gt; 摄像头组pair 2。</li>
<li>77x10 cell ——&gt; 摄像头组pair 3。</li>
<li>58x10 cell ——&gt; 摄像头组pair 4。</li>
<li>49x10 cell ——&gt; 摄像头组pair 5。</li>
</ul>
<p>（2）”labeled”—— 5 x 1 cells，行人框由人工标注，格式和内容和”detected”相同。</p>
<p>（3）”testsets”—— 20 x 1 cells，测试协议，由 20 个 100 x 2 double 类型矩阵组成 (重复二十次)。<br>　　100 x 2 double，100 行代表 100 个测试样本，第 1 列为摄像头 pair 索引，第 2 列为行人索引。</p>
<h2 id="测试协议"><a href="#测试协议" class="headerlink" title="测试协议"></a>测试协议</h2><p>CUHK-03的测试协议有两种。</p>
<p>　　第一种为旧的版本(参考文献 [1], 即数据集的出处)，参见数据集中的’testsets’测试协议。具体地说，即随机选出100个行人作为测试集，1160 个行人作为训练集，100 个行人作为验证集（这里总共 1360 个行人而不是 1467 个，这是因为实验中没有用到摄像头组pair 4 和 5 的数据），重复二十次。这种测试协议是 single-shot setting.</p>
<p>　　第二种测试协议(参考文献 [2])类似于 Market-1501 ，它将数据集分为包含 767 个行人的训练集和包含 700 个行人的测试集。在测试阶段，我们随机选择一张图像作为 query，剩下的作为 gallery，这样的话，对于每个行人，有多个 ground truth 在 gallery 中。（新测试协议可以参考<a href="https://github.com/zhunzhong07/person-re-ranking">这里</a>）</p>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><ol>
<li><a href="https://drive.google.com/file/d/0BxJeH3p7Ln48djNVVVJtUXh6bXc/edit?usp=sharing">Google Drive</a></li>
<li><a href="http://pan.baidu.com/s/1mgklxSc">Baidu Disk</a> 密码：rhjq</li>
</ol>
<h2 id="State-of-the-art"><a href="#State-of-the-art" class="headerlink" title="State-of-the-art"></a>State-of-the-art</h2><ul>
<li><a href="https://github.com/zhunzhong07/person-re-ranking/tree/master/CUHK03-NP">State of the art on the CUHK03</a></li>
</ul>
<h2 id="Citation"><a href="#Citation" class="headerlink" title="Citation"></a>Citation</h2><p>If you use this dataset, please kindly cite the following paper:<br><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">@inproceedings</span><span class="template-variable">&#123;li2014deepreid,</span></span><br><span class="line"><span class="template-variable">  title=&#123;DeepReID: Deep Filter Pairing Neural Network for Person Re-identification&#125;</span><span class="language-xml">,</span></span><br><span class="line"><span class="language-xml">  author=</span><span class="template-variable">&#123;Li, Wei and Zhao, Rui and Xiao, Tong and Wang, Xiaogang&#125;</span><span class="language-xml">,</span></span><br><span class="line"><span class="language-xml">  booktitle=</span><span class="template-variable">&#123;CVPR&#125;</span><span class="language-xml">,</span></span><br><span class="line"><span class="language-xml">  year=</span><span class="template-variable">&#123;2014&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li>Li, W., Zhao, R., Xiao, T., &amp; Wang, X. (2014). Deepreid: Deep filter pairing neural network for person re-identification. In Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition (pp. 152-159).</li>
<li>Zhong Z, Zheng L, Cao D, et al. Re-ranking person re-identification with k-reciprocal encoding[C]//Computer Vision and Pattern Recognition (CVPR), 2017 IEEE Conference on. IEEE, 2017: 3652-3661.</li>
<li><a href="https://github.com/zhunzhong07/person-re-ranking">zhunzhong07/person-re-ranking</a></li>
<li><a href="https://blog.csdn.net/hyk_1996/article/details/79387053">https://blog.csdn.net/hyk_1996/article/details/79387053</a></li>
<li><a href="http://www.ee.cuhk.edu.hk/~xgwang/CUHK_identification.html">http://www.ee.cuhk.edu.hk/~xgwang/CUHK_identification.html</a></li>
</ul>
]]></content>
      <categories>
        <category>行人重识别</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>Person Re-ID</tag>
      </tags>
  </entry>
  <entry>
    <title>深度残差网络ResNet初探</title>
    <url>/resnet.html</url>
    <content><![CDATA[<p>微软亚洲研究院 Kaiming He 博士在 2015 年凭借深度残差网络 Deep Residual Network (DRN) 在 Imagenet 比赛的识别、检测和定位三个任务、以及 COCO 比赛的检测和分割任务上都获得了冠军。论文《<a href="https://arxiv.org/abs/1512.03385">Deep Residual Learning for Image Recognition</a>》获得 2016 CVPR best paper，ResNet因此声名大噪，很大程度上引发了 deep network 的革命。</p>
<span id="more"></span>
<h2 id="问题提出"><a href="#问题提出" class="headerlink" title="问题提出"></a>问题提出</h2><p>　　现有的深度学习思想可能认为深层的网络一般会比浅层的网络效果好，如果要进一步地提升模型的准确率，最直接的方法就是把网络设计得越深越好，这样模型的准确率也就会越来越准确。例如在图像处理任务中，CNN 能够提取 low / mid / high-level 的特征，网络的层数越多，意味着能够提取到不同 level 的特征越丰富。越深的网络提取的特征越抽象，越具有语义信息。<br>　　Kaiming 博士在论文中做了这样一组实验：在 CIFAR-10 数据集上分别训练了一个 20 层和 56 层的 plain network (卷积、池化、全连接构成的传统 CNN )，发现 56 层网络的训练误差和测试误差都大于 20 层网络的训练误差，即网络层数加深时，模型效果却越来越差，在训练集上的准确率甚至下降了，因此这个显然不是由于 overfitting 导致的，因为 overfitting 应该表现为在训练集上效果更好才对。<br><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/43257140.jpg" alt="1"></p>
<h2 id="分析思考"><a href="#分析思考" class="headerlink" title="分析思考"></a>分析思考</h2><p>1.为什么不能直接简单地增加层数？<br>　　神经网络的深度加深，一个众所周知的问题就是梯度的消失和爆炸 (gradients vanishing / gradients exploding)，它会导致深层的网络参数得不到有效的校正信号或使得训练难以收敛，通过正则化初始化或者中间的正则化层 (Batch Normalization) 方法可以得到有效的缓解，但并不能解决这里提出的问题。</p>
<p>2.为什么网络层数加深时，网络的性能反而下降？<br>　　我们假设现在有一个浅层 (假设层数为 n) 的神经网络plain network A ，具有比较理想的输出结果，现在在这个神经网络的后边再加 m 层得到一个新的神经网络 B，我们发现输出结果的准确度反而下降了。这是不合理的，因为如果后边加上的那 m 层是对前 n 层的输出结果做恒等映射 (identity mapping)，至少 B 也能和 A 的性能持平才对。但是实验的结果表明现在的求解方法并不能得到理想的结果，这说明 B 网络在学习恒等映射的时候出了问题，也就是传统网络 (plain networks) 很难去学习恒等映射，这就是所谓的退化 (degradation) 现象。</p>
<h2 id="核心思想"><a href="#核心思想" class="headerlink" title="核心思想"></a>核心思想</h2><p>　　如果深层网络的后面那些层是恒等映射，那么模型就退化为一个浅层网络，现在要解决的就是如何学习恒等映射函数。但是直接让一些层去拟合一个潜在的恒等映射函数 H(x) = x 是很困难的，但是如果使用残差函数 H(x) = F(x) + x，F(x) = H(x) - x，如果能使 F(x) = 0，H(x) 就是恒等映射。</p>
<p>　　网络输入是 x，网络的输出是 F(x)，网络要拟合的目标是 H(x)，传统网络的训练目标是 F(x) = H(x)。</p>
<p>　　残差网络，则是把传统网络的输出 F(x) 处理一下，加上输入 x，变成 F(x) + x 作为最终的输出，训练目标是 F(x) = H(x) - x。</p>
<p>　　现在我们要训练一个深层的网络，它可能过深，假设存在一个性能最强的完美网络 N，与它相比我们的网络中必定有一些层是多余的，那么这些多余的层的训练目标是恒等变换，只有达到这个目标我们的网络性能才能跟 N 一样。对于这些需要实现恒等变换的多余的层，要拟合的目标就成了 H(x) = x，在传统网络中，网络的输出目标是 F(x) = x，这比较困难，而在残差网络中，拟合的目标成了 x - x = 0，网络的输出目标为 F(x) = 0，这比前者要容易得多。</p>
<p>　　<font color="#f00">这里的 F(x) + x 为什么是 x 而不是其他值？</font>因为多余的层的目标是恒等变换，即 F(x) + x = x，那 F(x) 的训练目标就是 0，比较容易。如果是其他，比如 x/2 ，那 F(x) 的训练目标就是 x/2，是一个非 0 的值，比 0 难实现。Kaiming 博士的另一篇文章[2]中探讨了这个问题，对6种结构的残差结构进行实验比较证明 F(x) 加上输入值 x 的效果最好。</p>
<h3 id="Residual-Block"><a href="#Residual-Block" class="headerlink" title="Residual Block"></a>Residual Block</h3><div align="center"><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/19251915.jpg" alt="resnet" title="残差网络结构图"></div>

<p>在上图的残差网络结构图中，通过“shortcut connections (捷径连接)”的方式，直接把输入x传到输出作为初始结果，输出结果为 H(x) = F(x) + x，当 F(x) = 0 时，那么 H(x) = x，也就是上面所提到的恒等映射。于是，ResNet相当于将学习目标改变了，不再是学习一个完整的输出，而是目标值H(X)和x的差值，即所谓的残差F(x) = H(x) - x，因此，后面的训练目标就是要将残差结果逼近于 0，使得随着网络加深，准确率不下降。</p>
<p>它有二层，如下表达式，其中 $\sigma$ 代表非线性函数ReLU：<br>$$\mathcal{F} = W_2\sigma(W_1x)$$</p>
<p>然后通过一个 shortcut connection，和第 2 个 ReLU，获得输出 y：<br>$${y}= \mathcal{F}({x}, {W_{i}}) + {x}.$$</p>
<p>F(x) 与 x 相加就是逐元素相加，但是如果两者维度不同，需要给 x 执行一个线性变换来匹配维度，如下式：</p>
<p>$${y}= \mathcal{F}({x}, {W_{i}}) + W_s{x}.$$</p>
<p>实验证明，这个残差块往往需要两层以上，单单一层的残差块 $y = W_1x + x$ 并不能起到提升作用。</p>
<p>这种残差跳跃式的结构，打破了传统的神经网络 n - 1 层的输出只能给 n 层作为输入的惯例，使某一层的输出可以直接跨过几层作为后面某一层的输入，其意义在于为叠加多层网络而使得整个学习模型的错误率不降反升的难题提供了新的方向 (后来的 DenseNet)。至此，神经网络的层数可以超越之前的约束，达到几十层、上百层甚至千层，为高级语义特征提取和分类提供了可行性。</p>
<h3 id="Model-Structure"><a href="#Model-Structure" class="headerlink" title="Model Structure"></a>Model Structure</h3><p>　　作者由 VGG19 设计出了 plain network 和 Resnet-34，如下图中部和右侧网络。</p>
<div align="center"><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/54395655.jpg" alt=""></div>

<ol>
<li>对于输出 feature map 大小相同的层，有相同数量的 filters，即 channel 数相同；</li>
<li>当 feature map 大小减半时（pooling），filters数量翻倍。</li>
<li>对于残差网络，维度匹配的shortcut连接为实线，反之为虚线。维度不匹配时，同等映射有两种可选方案：<ul>
<li>直接通过 zero padding 来增加维度（channel）。</li>
<li>乘以 W 矩阵投影到新的空间。实现是用 1 x 1 卷积实现的，直接改变 1 x 1 卷积的 filters 数目。这种会增加参数。</li>
</ul>
</li>
</ol>
<p>　　下图是Resnet对应于ImageNet的结构框架。中括号中为残差块的参数，多个残差块进行堆叠。下采样由 stride 为 2 的 conv3_1、conv4_1 和 conv5_1 来实现。</p>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/99454670.jpg" alt=""></p>
<h3 id="Bottle-neck"><a href="#Bottle-neck" class="headerlink" title="Bottle neck"></a>Bottle neck</h3><p><div align="center"><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/18-7-13/91444611.jpg" alt=""></div><br>　　考虑到时间花费和降低参数的数目，将原来的 Residual Block (残差学习结构) 改为 Bottleneck 结构，如上图。首端和末端的 1 x 1 卷积用来削减和恢复维度，相比于原本结构，只有中间 3 x 3 成为瓶颈部分。两种结构分别针对 ResNet-34 （左图）和 ResNet-50/ 101 / 152（右图）。</p>
<p>　　左图是两个 3 x 3 x 256的卷积，参数数目: 3 x 3 x 256 x 256 x 2 = 1179648；右图是第一个 1 x 1 的卷积把 256 维通道降到 64 维，然后在最后通过 1 x 1 卷积恢复，整体上用的参数数目：1 x 1 x 256 x 64 + 3 x 3 x 64 x 64 + 1 x 1 x 64 x 256 = 69632，右图的参数量比左图减少了 16.94 倍。对于常规的ResNet，可以用于34层或者更少的网络中（左图），对于更深的网络（如50 / 101 / 152层），则使用右图，其目的是减少计算和参数量。</p>
<h2 id="TensorFlow实现"><a href="#TensorFlow实现" class="headerlink" title="TensorFlow实现"></a>TensorFlow实现</h2><ol>
<li><a href="https://github.com/KaimingHe/deep-residual-networks">KaimingHe/deep-residual-networks</a></li>
<li><a href="https://github.com/wenxinxu/resnet-in-tensorflow">wenxinxu/resnet-in-tensorflow</a></li>
<li><a href="https://github.com/tensorpack/tensorpack/tree/master/examples/ResNet">tensorpack/examples/ResNet</a></li>
<li><a href="https://github.com/ry/tensorflow-resnet">ry/tensorflow-resnet</a></li>
</ol>
<h2 id="Python示例"><a href="#Python示例" class="headerlink" title="Python示例"></a>Python示例</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">residual_block</span>(<span class="params">x, out_channels, down_sample, projection=<span class="literal">False</span></span>):</span><br><span class="line">    in_channels = x.get_shape().as_list()[<span class="number">3</span>]</span><br><span class="line">    <span class="keyword">if</span> down_sample:</span><br><span class="line">        x = max_pool(x)</span><br><span class="line"></span><br><span class="line">    output = conv2d_with_batch_norm(x, [<span class="number">3</span>, <span class="number">3</span>, in_channels, out_channels], <span class="number">1</span>)</span><br><span class="line">    output = conv2d_with_batch_norm(output, [<span class="number">3</span>, <span class="number">3</span>, out_channels, out_channels], <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> in_channels != out_channels:</span><br><span class="line">        <span class="keyword">if</span> projection:</span><br><span class="line">            <span class="comment"># projection shortcut</span></span><br><span class="line">            input_ = conv2d(x, [<span class="number">1</span>, <span class="number">1</span>, in_channels, out_channels], <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># zero-padding</span></span><br><span class="line">            input_ = tf.pad(x, [[<span class="number">0</span>,<span class="number">0</span>], [<span class="number">0</span>,<span class="number">0</span>], [<span class="number">0</span>,<span class="number">0</span>], [<span class="number">0</span>, out_channels - in_channels]])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line">        input_ = x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> output + input_</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">residual_group</span>(<span class="params">name,x,num_block,out_channels</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assert</span> num_block&gt;=<span class="number">1</span>,<span class="string">&#x27;num_block must greater than 1&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> tf.variable_scope(<span class="string">&#x27;%s_head&#x27;</span>%name):</span><br><span class="line">        output = residual_block(x, out_channels, <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (num_block-<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">with</span> tf.variable_scope(<span class="string">&#x27;%s_%d&#x27;</span> % (name,i+<span class="number">1</span>)):</span><br><span class="line">            output = residual_block(output,out_channels, <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> output</span><br></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li>He, K., Zhang, X., Ren, S., &amp; Sun, J. (2016). Deep Residual Learning for Image Recognition. IEEE Conference on Computer Vision and Pattern Recognition (pp.770-778). IEEE Computer Society.</li>
<li><a href="https://www.jianshu.com/p/e58437f39f65">https://www.jianshu.com/p/e58437f39f65</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/32085715">https://zhuanlan.zhihu.com/p/32085715</a></li>
<li><a href="https://my.oschina.net/u/876354/blog/1622896">https://my.oschina.net/u/876354/blog/1622896</a></li>
<li><a href="https://blog.csdn.net/wspba/article/details/57074389">https://blog.csdn.net/wspba/article/details/57074389</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>ResNet</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 16.04安装NCCL 2</title>
    <url>/ubuntu-nccl2.html</url>
    <content><![CDATA[<p>NCCL是Nvidia Collective multi-GPU Communication Library的简称，它是一个实现多GPU的collective communication通信（all-gather, reduce, broadcast）库，Nvidia做了很多优化，以在PCIe、Nvlink、InfiniBand上实现较高的通信速度。本文介绍如何在Ubuntu 16.04 LTS上安装NCCL 2库。</p>
<span id="more"></span>
<h2 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h2><p>确保您的环境符合以下要求：</p>
<ul>
<li>glibc 2.19或更高</li>
<li>CUDA 8.0或更高版本</li>
<li>NCCL支持所有具有3.0或更高计算能力的CUDA设备。<a href="https://developer.nvidia.com/cuda-gpus">如何查看所有NVIDIA GPU的计算能力</a>?</li>
</ul>
<h2 id="安装NCCL"><a href="#安装NCCL" class="headerlink" title="安装NCCL"></a>安装NCCL</h2><p>为了下载NCCL，请确保您已注册NVIDIA开发者账号。</p>
<ol>
<li>打开<a href="https://developer.nvidia.com/nccl">NVIDIA NCCL主页</a>。</li>
<li>点击下载。</li>
<li>完成简短调查问卷并点击提交。</li>
<li>接受条款和条件。查看NCCL显示的可用下载版本列表。</li>
<li>选择您想要安装的NCCL版本。显示可用版本列表。根据您使用的Linux发行版以选择正确的软件包。</li>
</ol>
<h3 id="Ubuntu-14-04-LTS和Ubuntu-16-04-LTS"><a href="#Ubuntu-14-04-LTS和Ubuntu-16-04-LTS" class="headerlink" title="Ubuntu 14.04 LTS和Ubuntu 16.04 LTS"></a>Ubuntu 14.04 LTS和Ubuntu 16.04 LTS</h3><p>在Ubuntu上安装NCCL需要您首先向包含NCCL软件包的APT系统添加存储库，然后通过APT 安装NCCL软件包，有两个存储库可用——本地存储库和网络存储库。建议选择更新版本以便在发布新版本时轻松升级。</p>
<ol>
<li><p>安装存储库<br>对于本地NCCL存储库：<code>sudo dpkg -i nccl-repo-&lt;version&gt;.deb</code><br>对于网络存储库：<code>sudo dpkg -i nvidia-machine-learning-repo-&lt;version&gt;.deb</code></p>
</li>
<li><p>更新APT数据库：<code>sudo apt update</code></p>
</li>
<li><p>利用APT安装libnccl2。此外，如果您需要使用NCCL编译应用程序，则同时安装 libnccl-dev包。<br>如果您正在使用网络存储库，则使用以下命令。<br>　　<code>sudo apt install libnccl2 libnccl-dev</code><br>如果您希望保留较旧版本的CUDA，请指定特定版本，例如：<br>　　<code>sudo apt-get install libnccl2=2.0.0-1+cuda8.0 libnccl-dev=2.0.0-1+cuda8.0</code><br>请参阅<a href="https://developer.nvidia.com/nccl">下载页面</a>以了解确切的软件包版本。</p>
</li>
</ol>
<h3 id="其他方式"><a href="#其他方式" class="headerlink" title="其他方式"></a>其他方式</h3><ol>
<li>下载tar文件包，将NCCL包解压到您的主目录或<code>/usr/local</code><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/local</span></span><br><span class="line">tar xvf nccl-&lt;<span class="keyword">version</span>&gt;<span class="string">.txz</span></span><br></pre></td></tr></table></figure></li>
<li>当编译应用程序时，指定到安装目录路径 NCCL，例如<code>/usr/local/nccl-&lt;版本&gt;/</code>。</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://docs.nvidia.com/deeplearning/sdk/nccl-install-guide/index.html">NCCL Installation Guide :: Deep Learning SDK Documentation</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 16.04安装配置OpenCV 2.4.9</title>
    <url>/ubuntu-opencv.html</url>
    <content><![CDATA[<p>Ubuntu 16.04安装配置OpenCV 2.4.9</p>
<span id="more"></span>
<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><ul>
<li>Ubuntu 16.04</li>
<li>Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz</li>
<li>opencv-2.4.9</li>
</ul>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><figure class="highlight q"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install build-essential</span><br><span class="line">sudo apt-<span class="built_in">get</span> install libgtk2<span class="number">.0</span>-<span class="built_in">dev</span> libavcodec-<span class="built_in">dev</span> libavformat-<span class="built_in">dev</span> libtiff4-<span class="built_in">dev</span> libswscale-<span class="built_in">dev</span> libjasper-<span class="built_in">dev</span>  # 图片视频支持</span><br><span class="line">sudo apt-<span class="built_in">get</span> install cmake       # 安装cmake</span><br><span class="line">sudo apt-<span class="built_in">get</span> install pkg-config  # 提供从源代码中编译软件时查询已安装的库时使用的统一接口</span><br></pre></td></tr></table></figure>
<h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><p>　　下载<a href="https://sourceforge.net/projects/opencvlibrary/files/opencv-unix/2.4.9/opencv-2.4.9.zip/download">opencv2.4.9</a>安装包至你的路径<br><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">unzip opencv-2.4.9.zip</span><br><span class="line">cd opencv-2.4.9</span><br><span class="line">mkdir release</span><br><span class="line">cd release</span><br><span class="line"><span class="comment"># 下面这行cmake参数网上有多种选择，此处选择不包含CUDA和EIGEN，避免后续编译出错。默认安装至/usr/local目录下</span></span><br><span class="line">cmake -D <span class="attribute">CMAKE_BUILD_TYPE</span>=RELEASE -D <span class="attribute">CMAKE_INSTALL_PREFIX</span>=/usr/local -D <span class="attribute">WITH_CUDA</span>=OFF -D <span class="attribute">WITH_OPENMP</span>=ON -D <span class="attribute">WITH_QT</span>=ON -D <span class="attribute">WITH_EIGEN</span>=OFF <span class="built_in">..</span></span><br></pre></td></tr></table></figure></p>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">make</span> -j4</span><br><span class="line">sudo <span class="built_in">make</span> install</span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 默认至目录：/usr/local/lib，可自定义安装目录，加参数--prefix=&quot;/usr/local/openmpi&quot;</span></span><br><span class="line">sudo vi <span class="regexp">/etc/</span>ld.so.conf.d/opencv.conf</span><br><span class="line"><span class="comment"># 添加一行</span></span><br><span class="line"><span class="regexp">/usr/</span>local/lib</span><br><span class="line">sudo ldconfig -v</span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> opencv-2.4.9/samples/c</span><br><span class="line">./build_all.sh</span><br><span class="line">./find_obj</span><br></pre></td></tr></table></figure>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://blog.csdn.net/sinat_17196995/article/details/53466524">Ubuntu16.04 caffe Opencv2.4.13 GPU环境配置</a></li>
<li><a href="https://blog.csdn.net/surgewong/article/details/39078251">Opencv 2.4.9在Ubuntu下的配置与安装</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 10安装Cuda9、Cudnn7配置Tensorflow 1.8环境</title>
    <url>/win10-tf.html</url>
    <content><![CDATA[<p>Windows 10安装Cuda9.0、Cudnn7.0，配置Tensorflow r1.8环境步骤全记录。<br>当前安装时间：2018年5月10日</p>
<span id="more"></span>
<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><ul>
<li>Windows 10</li>
<li>Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz</li>
<li>2 * NVIDIA GTX 1080 Ti</li>
<li>Tensorflow r1.8</li>
<li>CUDA 9.0、Cudnn 7.0</li>
<li>Python 3.6</li>
</ul>
<h2 id="安装CUDA"><a href="#安装CUDA" class="headerlink" title="安装CUDA"></a>安装CUDA</h2><p>　　下载CUDA对应版本：<a href="https://developer.nvidia.com/cuda-toolkit-archive，选择**CUDA">https://developer.nvidia.com/cuda-toolkit-archive，选择**CUDA</a> Toolkit 9.0 (Sept 2017)-&gt;Windows-&gt;x86_64-&gt;10-&gt;exe(local)<br>　　下载完成后，打开直接点击next下一步进行安装，安装路径默认为C盘</p>
<h2 id="配置Cuda环境变量"><a href="#配置Cuda环境变量" class="headerlink" title="配置Cuda环境变量"></a>配置Cuda环境变量</h2><ol>
<li>右击“我的电脑”，选择“属性”，点击“高级系统设置”</li>
<li>选择“环境变量”，在“系统变量”框中找到“path”，点击选中，并点击“编辑”按钮</li>
<li>点击“新建”按钮，添加以下路径<br>　　<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\bin</code><br>　　<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\libnvvp</code><br>　　<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\lib\x64</code><br>　　<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\extras\CUPTI\libx64</code></li>
<li>命令行输入<code>nccv -V</code>检查是否成功</li>
</ol>
<h2 id="安装Cudnn"><a href="#安装Cudnn" class="headerlink" title="安装Cudnn"></a>安装Cudnn</h2><p>　　进入 <a href="https://developer.nvidia.com/rdp/cudnn-archive">https://developer.nvidia.com/rdp/cudnn-archive</a> ，选择对应的7.0版本下载即可。<br>　　解压压缩包，把压缩包中bin,include,lib中的文件分别拷贝到C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0目录的对应目录下。</p>
<h2 id="安装TensorFlow-gpu"><a href="#安装TensorFlow-gpu" class="headerlink" title="安装TensorFlow-gpu"></a>安装TensorFlow-gpu</h2><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> tensorflow-gpu</span><br></pre></td></tr></table></figure>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://blog.csdn.net/zw__chen/article/details/79374467">win10+cuda9.0+cuDNN 7.0+Tensorflow1.5（GPU）安装</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Deep Learning</tag>
        <tag>Cuda</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 16.04安装OpenMPI</title>
    <url>/ubuntu-openmpi.html</url>
    <content><![CDATA[<p>Ubuntu 16.04安装OpenMPI环境</p>
<span id="more"></span>
<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><ul>
<li>Ubuntu 16.04</li>
<li>Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz</li>
<li>openmpi-1.8.0</li>
</ul>
<h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">wget http:<span class="regexp">//</span>www.open-mpi.org<span class="regexp">/software/</span>ompi<span class="regexp">/v1.8/</span>downloads/openmpi-<span class="number">1.8</span>.<span class="number">0</span>.tar.gz</span><br></pre></td></tr></table></figure>
<h2 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">tar</span> zxvf openmpi-<span class="number">1</span>.<span class="number">8</span>.<span class="number">0</span>.tar.gz</span><br><span class="line"><span class="attribute">cd</span> openmpi-<span class="number">1</span>.<span class="number">8</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="配置安装文件"><a href="#配置安装文件" class="headerlink" title="配置安装文件"></a>配置安装文件</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 默认至目录：/usr/local/lib，可自定义安装目录，加参数--prefix=&quot;/usr/local/openmpi&quot;</span></span><br><span class="line">.<span class="regexp">/configure --prefix=&quot;/u</span>sr<span class="regexp">/local/</span>openmpi<span class="string">&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="安装openMPI"><a href="#安装openMPI" class="headerlink" title="安装openMPI"></a>安装openMPI</h2><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">sudo <span class="keyword">make</span></span><br><span class="line">sudo <span class="keyword">make</span> <span class="keyword">all</span> install</span><br></pre></td></tr></table></figure>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br><span class="line"><span class="comment"># 在.bashrc文件的最后加上下面这行</span></span><br><span class="line">export PATH=<span class="regexp">/usr/</span>local<span class="regexp">/openmpi/</span>bin<span class="variable">$&#123;PATH:+:$&#123;PATH&#125;</span>&#125;</span><br><span class="line">export LD_LIBRARY_PATH=<span class="regexp">/usr/</span>local<span class="regexp">/openmpi/</span>lib<span class="variable">$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;</span>&#125;</span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">cd</span> openmpi-<span class="number">1</span>.<span class="number">8</span>.<span class="number">0</span>/examples</span><br><span class="line"><span class="attribute">make</span></span><br><span class="line"><span class="attribute">mpirun</span> -np <span class="number">4</span> hello_c</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Deep Learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows常见问题及解决技巧</title>
    <url>/windows-tips.html</url>
    <content><![CDATA[<blockquote>
<p>收集整理Windows系统使用过程中遇到的一些问题和解决办法，不定期更新。</p>
</blockquote>
<span id="more"></span>
<h2 id="Windows8-8-1-10安装-NET-Framework-3-5"><a href="#Windows8-8-1-10安装-NET-Framework-3-5" class="headerlink" title="Windows8/8.1/10安装.NET Framework 3.5"></a>Windows8/8.1/10安装.NET Framework 3.5</h2><p>　　之前在重装win 10系统后安装Microsoft SQL Server 2012，却提示需要.net framework3.5环境，但是Windows8/8.1/10现在都是默认的4.0，用微软自带的在线安装等了半天进度条根本不动。</p>
<p>方法一：<br>　　先挂载Win8&amp;Win8.1&amp;Win10的镜像（安装系统的那个iso镜像文件，可以使用Daemon虚拟光驱挂载，加载之后注意盘符名称，假设为G）;<br>　　然后以管理员身份运行命令提示符，输入并回车运行以下命令：<br>　　<code>Dism /online /enable-feature /featurename:NetFx3 /All /Source:G:\sources\sxs /LimitAccess</code><br>　　注意将G:替换成你挂载系统所在的盘符，等待部署进度100%即可。</p>
<p>方法二：<br>　　上述方法安装过程中可能会出现错误提示安装失败，可使用cab格式的.NET Framework 3.5离线安装包进行安装。<br>　　cab格式.NET Framework 3.5离线安装包下载地址：<a href="https://pan.baidu.com/s/1geAjsaf">百度网盘</a><br>　　先把下载的名为NetFx3.cab的离线安装包放到Win10系统盘C:\Windows文件夹里；<br>　　然后以管理员身份运行命令提示符，输入并回车运行以下命令：<br>　　<code>Dism /online /Enable-Feature /FeatureName:NetFx3 /Source:&quot;%windir%&quot; /LimitAccess</code><br>　　等待部署进度100%即可。</p>
<h2 id="关闭Win-10自动更新"><a href="#关闭Win-10自动更新" class="headerlink" title="关闭Win 10自动更新"></a>关闭Win 10自动更新</h2><ol>
<li><p>第一种方法适用win10所有版本系统。打开控制面板-&gt;管理工具-&gt;服务-&gt;双击Windows Update，点击停止按钮停止服务，将启动类型改为禁用。打开恢复选项卡，将第一次失败改为无操作<br><img src="https://changingfond.oss-cn-hangzhou.aliyuncs.com/18-5-2/2543953.jpg" alt=""><br><img src="https://changingfond.oss-cn-hangzhou.aliyuncs.com/18-5-2/34164800.jpg" alt=""></p>
</li>
<li><p>第二种方法适用于除了win10家庭版的其他系统。先按 win键+R 运行<code>gpedit.msc</code>，打开计算机配置–&gt;管理模板–&gt;Windows组件–&gt;Windows更新，点击配置自动更新，选择已禁用后保存</p>
</li>
</ol>
<h2 id="Win-10家庭中文版开启远程桌面"><a href="#Win-10家庭中文版开启远程桌面" class="headerlink" title="Win 10家庭中文版开启远程桌面"></a>Win 10家庭中文版开启远程桌面</h2><p>　　Win 10家庭版默认是不支持远程桌面的，下载安装一个自动化工具，解压后以管理员身份运行install.bat即可。<a href="https://github.com/binarymaster/rdpwrap/releases">链接地址</a></p>
<h2 id="按住Shift键右键点击空白处“在此处打开命令提示符”而不是PowerShell窗口"><a href="#按住Shift键右键点击空白处“在此处打开命令提示符”而不是PowerShell窗口" class="headerlink" title="按住Shift键右键点击空白处“在此处打开命令提示符”而不是PowerShell窗口"></a>按住Shift键右键点击空白处“在此处打开命令提示符”而不是PowerShell窗口</h2><ol>
<li>打开注册表编辑器，定位至：<br>　<code>\HKEY_CLASSES_ROOT\Directory\Background\shell\Powershell\command</code></li>
<li>更改注册表项所有者权限，在command项上点击右键，选择权限，点击高级按钮打开“command的高级安全设置”窗口，点击“所有者：TrustedInstaller”右侧的“更改”按钮，打开“选择用户或组”窗口。在“输入要选择的对象名称”框中输入当前用户名，然后点击右侧的“检查名称”按钮。如果输入正确，点击“检查名称”之后就会自动把你输入的对象名称显示为标准的用户名称，并添加下划线（如上图）；反之，如果输入的用户名错误，点击“检查名称”之后就会显示提示。（如果不清楚当前登录系统的用户名，你也可以输入“Everyone”，这个不会有错，但是却会修改所有用户的权限，可能存在安全隐患。）点击“确定”关闭“选择用户或组”窗口，回到“command的高级安全设置”窗口，你会发现“所有者”已经变成了你刚才输入的用户。然后点击“确定”关闭“command的高级安全设置”窗口，回到“command的权限”设置窗口。选中“组或用户名”列表中的“Administrators”，在下面的“Administrators的权限”设置框中勾选“完全控制”。点击“确定”关闭“command的权限”设置窗口，回到注册表编辑器。</li>
<li>在右侧窗口双击默认值打开编辑字符串窗口，把数值数据修改为<br>　<code>cmd.exe /s /k pushd &quot;%V&quot;</code></li>
<li>如果想要取消修改的话，把默认值的数值数据改回如下值即可：<br>　<code>powershell.exe -noexit -command Set-Location -literalPath &#39;%V&#39;</code></li>
</ol>
<h2 id="Win-10家庭中文版打开组策略"><a href="#Win-10家庭中文版打开组策略" class="headerlink" title="Win 10家庭中文版打开组策略"></a>Win 10家庭中文版打开组策略</h2><p>　　在桌面新建记事本文件，粘贴下列代码，并将文件格式改为bat。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pushd</span> <span class="string">&quot;%~dp0&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientExtensions-Package~3*.mum &gt;List.txt</span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientTools-Package~3*.mum &gt;&gt;List.txt</span><br><span class="line"><span class="keyword">for</span> /f %%i <span class="keyword">in</span> (<span class="string">&#x27;findstr /i . List.txt 2^&gt;nul&#x27;</span>) <span class="keyword">do</span> dism /online /norestart /add-package:<span class="string">&quot;C:\Windows\servicing\Packages\%%i&quot;</span></span><br><span class="line">pause</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>奇技淫巧</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>行人重识别(Person Re-identification)顶级会议论文汇总</title>
    <url>/reid-papers.html</url>
    <content><![CDATA[<p>近几年ICCV、CVPR、ECCV等顶级国际会议关于行人重识别(person re-identification)的论文汇总，不定期更新。<br>如有疏漏或不足之处，欢迎指正。</p>
<span id="more"></span>
<p>Last Updated: Apr 26, 2019<br>Updated Content: add AAAI 2019、CVPR 2019</p>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<h1 id="索引目录"><a href="#索引目录" class="headerlink" title="索引目录"></a><strong>索引目录</strong></h1><p><em>generated with <a href="https://github.com/thlorenz/doctoc">DocToc</a></em></p>
<ul>
<li><a href="#ICCV">ICCV</a><ul>
<li><a href="#ICCV-2017">ICCV 2017</a></li>
<li><a href="#ICCV-2015">ICCV 2015</a></li>
<li><a href="#ICCV-2013">ICCV 2013</a></li>
</ul>
</li>
<li><a href="#CVPR">CVPR</a><ul>
<li><a href="#CVPR-2019">CVPR 2019</a></li>
<li><a href="#CVPR-2018">CVPR 2018</a></li>
<li><a href="#CVPR-2017">CVPR 2017</a></li>
<li><a href="#CVPR-2016">CVPR 2016</a></li>
<li><a href="#CVPR-2015">CVPR 2015</a></li>
<li><a href="#CVPR-2014">CVPR 2014</a></li>
<li><a href="#CVPR-2013">CVPR 2013</a></li>
</ul>
</li>
<li><a href="#ECCV">ECCV</a><ul>
<li><a href="#ECCV-2018">ECCV 2018</a></li>
<li><a href="#ECCV-2016">ECCV 2016</a></li>
<li><a href="#ECCV-2014">ECCV 2014</a></li>
</ul>
</li>
<li><a href="#BMVC">BMVC</a><ul>
<li><a href="#BMVC-2018">BMVC 2018</a></li>
<li><a href="#BMVC-2017">BMVC 2017</a></li>
<li><a href="#BMVC-2016">BMVC 2016</a></li>
<li><a href="#BMVC-2015">BMVC 2015</a></li>
<li><a href="#BMVC-2014">BMVC 2014</a></li>
</ul>
</li>
<li><a href="#ICPR">ICPR</a><ul>
<li><a href="#ICPR-2014">ICPR 2014</a></li>
</ul>
</li>
<li><a href="#AAAI">AAAI</a><ul>
<li><a href="#AAAI-2019">AAAI 2019</a></li>
<li><a href="#AAAI-2018">AAAI 2018</a></li>
<li><a href="#AAAI-2017">AAAI 2017</a></li>
<li><a href="#AAAI-2016">AAAI 2016</a></li>
<li><a href="#AAAI-2015">AAAI 2015</a></li>
<li><a href="#NIPS-2016">NIPS 2016</a></li>
<li><a href="#NIPS-2018">NIPS 2018</a></li>
</ul>
</li>
<li><a href="#IJCAI">IJCAI</a><ul>
<li><a href="#IJCAI-2018">IJCAI 2018</a></li>
<li><a href="#IJCAI-2017">IJCAI 2017</a></li>
<li><a href="#IJCAI-2016">IJCAI 2016</a></li>
<li><a href="#IJCAI-2015">IJCAI 2015</a></li>
</ul>
</li>
</ul>
<h1 id="ICCV"><a href="#ICCV" class="headerlink" title="ICCV"></a>ICCV</h1><h2 id="ICCV-2017"><a href="#ICCV-2017" class="headerlink" title="ICCV 2017"></a>ICCV 2017</h2><ul>
<li><p><strong>Unlabeled Samples Generated by GAN Improve the Person Re-Identification Baseline in Vitro.</strong> <em>Zhedong Zheng, Liang Zheng, Yi Yang</em></p>
</li>
<li><p><strong>SVDNet for Pedestrian Retrieval.</strong> <em>Yifan Sun, Liang Zheng, Weijian Deng, Shengjin Wang</em></p>
</li>
<li><p><strong>HydraPlus-Net: Attentive Deep Features for Pedestrian Analysis.</strong> <em>Xihui Liu, Haiyu Zhao, Maoqing Tian, Lu Sheng, Jing Shao, Shuai Yi, Junjie Yan, Xiaogang Wang</em></p>
</li>
<li><p><strong>Neural Person Search Machines.</strong> <em>Hao Liu, Jiashi Feng, Zequn Jie, Karlekar Jayashree, Bo Zhao, Meibin Qi, Jianguo Jiang, Shuicheng Yan</em></p>
</li>
<li><p><strong>SHaPE: A Novel Graph Theoretic Algorithm for Making Consensus-Based Decisions in Person Re-Identification Systems.</strong> <em>Arko Barman, Shishir K. Shah</em></p>
</li>
<li><p><strong>Cross-View Asymmetric Metric Learning for Unsupervised Person Re-Identification.</strong> <em>Hong-Xing Yu, Ancong Wu, Wei-Shi Zheng</em></p>
</li>
<li><p><strong>Spatio-Temporal Person Retrieval via Natural Language Queries.</strong> <em>Masataka Yamaguchi, Kuniaki Saito, Yoshitaka Ushiku, Tatsuya Harada</em></p>
</li>
<li><p><strong>A Two Stream Siamese Convolutional Neural Network for Person Re-Identification.</strong> <em>Dahjung Chung, Khalid Tahboub, Edward J. Delp</em></p>
</li>
<li><p><strong>Learning View-Invariant Features for Person Identification in Temporally Synchronized Videos Taken by Wearable Cameras.</strong> <em>Kang Zheng, Xiaochuan Fan, Yuewei Lin, Hao Guo, Hongkai Yu, Dazhou Guo, Song Wang</em></p>
</li>
<li><p><strong>Efficient Online Local Metric Adaptation via Negative Samples for Person Re-Identification.</strong> <em>Jiahuan Zhou, Pei Yu, Wei Tang, Ying Wu</em></p>
</li>
<li><p><strong>Stepwise Metric Promotion for Unsupervised Video Person Re-Identification.</strong> <em>Zimo Liu, Dong Wang, Huchuan Lu</em></p>
</li>
<li><p><strong>RMPE: Regional Multi-Person Pose Estimation.</strong> <em>Hao-Shu Fang, Shuqin Xie, Yu-Wing Tai, Cewu Lu</em></p>
</li>
<li><p><strong>Deeply-Learned Part-Aligned Representations for Person Re-Identification.</strong> <em>Liming Zhao, Xi Li, Yueting Zhuang, Jingdong Wang</em></p>
</li>
<li><p><strong>Pose-Driven Deep Convolutional Model for Person Re-Identification.</strong> <em>Chi Su, Jianing Li, Shiliang Zhang, Junliang Xing, Wen Gao, Qi Tian</em></p>
</li>
<li><p><strong>Dynamic Label Graph Matching for Unsupervised Video Re-Identification.</strong> <em>Mang Ye, Andy J. Ma, Liang Zheng, Jiawei Li, Pong C. Yuen</em></p>
</li>
<li><p><strong>Jointly Attentive Spatial-Temporal Pooling Networks for Video-Based Person Re-Identification.</strong> <em>Shuangjie Xu, Yu Cheng, Kang Gu, Yang Yang, Shiyu Chang, Pan Zhou</em></p>
</li>
<li><p><strong>RGB-Infrared Cross-Modality Person Re-Identification.</strong> <em>Ancong Wu, Wei-Shi Zheng, Hong-Xing Yu, Shaogang Gong, Jianhuang Lai</em></p>
</li>
<li><p><strong>Multi-Scale Deep Learning Architectures for Person Re-Identification.</strong> <em>Xuelin Qian, Yanwei Fu, Yu-Gang Jiang, Tao Xiang, Xiangyang Xue</em></p>
</li>
</ul>
<h2 id="ICCV-2015"><a href="#ICCV-2015" class="headerlink" title="ICCV 2015"></a>ICCV 2015</h2><ul>
<li><p><strong>Partial Person Re-Identification.</strong> <em>Wei-Shi Zheng, Xiang Li, Tao Xiang, Shengcai Liao, Jianhuang Lai, Shaogang Gong</em></p>
</li>
<li><p><strong>Scalable Person Re-Identification: A Benchmark.</strong> <em>Liang Zheng, Liyue Shen, Lu Tian, Shengjin Wang, Jingdong Wang, Qi Tian</em></p>
</li>
<li><p><strong>Person Re-Identification Ranking Optimisation by Discriminant Context Information Analysis.</strong> <em>Jorge GarcÃ­a, Niki Martinel, Christian Micheloni, Alfredo Gardel</em></p>
</li>
<li><p><strong>Person Re-Identification With Correspondence Structure Learning.</strong> <em>Yang Shen, Weiyao Lin, Junchi Yan, Mingliang Xu, Jianxin Wu, Jingdong Wang</em></p>
</li>
<li><p><strong>Efficient PSD Constrained Asymmetric Metric Learning for Person Re-Identification.</strong> <em>Shengcai Liao, Stan Z. Li</em></p>
</li>
<li><p><strong>Multi-Task Learning With Low Rank Attribute Embedding for Person Re-Identification.</strong> <em>Chi Su, Fan Yang, Shiliang Zhang, Qi Tian, Larry S. Davis, Wen Gao</em></p>
</li>
<li><p><strong>Multi-Scale Learning for Low-Resolution Person Re-Identification.</strong> <em>Xiang Li, Wei-Shi Zheng, Xiaojuan Wang, Tao Xiang, Shaogang Gong</em></p>
</li>
<li><p><strong>Person Re-Identification With Discriminatively Trained Viewpoint Invariant Dictionaries.</strong> <em>Srikrishna Karanam, Yang Li, Richard J. Radke</em></p>
</li>
</ul>
<h2 id="ICCV-2013"><a href="#ICCV-2013" class="headerlink" title="ICCV 2013"></a>ICCV 2013</h2><ul>
<li><p><strong>POP: Person re-identification post-rank optimisation.</strong> <em>S. G. C. Liu, C. C. Loy, G. Wang</em></p>
</li>
<li><p><strong>Person re-identification by salience matching.</strong> <em>R. Zhao, W. Ouyang,  X. Wang</em></p>
</li>
<li><p><strong>Domain Transfer Support Vector Ranking for Person Re-Identification without Target Camera Label Information.</strong> <em>Andy Jinhua Ma, Pong Chi Yuen, Jiawei Li</em></p>
</li>
<li><p><strong>Human Re-identification by Matching Compositional Template with Cluster Sampling.</strong> <em>Yuanlu Xu, Liang Lin, Weishi Zheng, Xiaobai Liu</em></p>
</li>
</ul>
<h1 id="CVPR"><a href="#CVPR" class="headerlink" title="CVPR"></a>CVPR</h1><h2 id="CVPR-2019"><a href="#CVPR-2019" class="headerlink" title="CVPR 2019"></a>CVPR 2019</h2><ul>
<li><p><strong>Perceive Where to Focus: Learning Visibility-aware Part-level Features for Partial Person Re-identification.</strong> <em>Yifan Sun, Qin Xu, Yali Li, Chi Zhang, Yikang Li, Shengjin Wang, Jian Sun</em></p>
</li>
<li><p><strong>CityFlow: A City-Scale Benchmark for Multi-Target Multi-Camera Vehicle Tracking and Re-Identification.</strong> <em>Zheng Tang, Milind Naphade, Ming-Yu Liu, Xiaodong Yang, Stan Birchfield, Shuo Wang, Ratnesh Kumar, David Anastasiu, Jenq-Neng Hwang</em></p>
</li>
<li><p><strong>Dissecting Person Re-identification from the Viewpoint of Viewpoint.</strong> <em>Xiaoxiao Sun, Liang Zheng</em></p>
</li>
<li><p><strong>Weakly Supervised Person Re-Identification.</strong> <em>Jingke Meng, Sheng Wu, Wei-Shi Zheng</em></p>
</li>
<li><p><strong>Unsupervised Person Re-identification by Soft Multilabel Learning.</strong> <em>Hong-Xing Yu, Wei-Shi Zheng, Ancong Wu, Xiaowei Guo, Shaogang Gong, Jian-Huang Lai</em></p>
</li>
<li><p><strong>Learning Context Graph for Person Search.</strong> <em>Yichao Yan, Qiang Zhang, Bingbing Ni, Wendong Zhang, Minghao Xu, Xiaokang Yang</em></p>
</li>
<li><p><strong>Joint Discriminative and Generative Learning for Person Re-identification.</strong> <em>Zhedong Zheng, Xiaodong Yang, Zhiding Yu, Liang Zheng, Yi Yang, Jan Kautz</em></p>
</li>
<li><p><strong>Invariance Matters: Exemplar Memory for Domain Adaptive Person Re-identification.</strong> <em>Zhun Zhong, Liang Zheng, Zhiming Luo, Shaozi Li, Yi Yang</em></p>
</li>
</ul>
<h2 id="CVPR-2018"><a href="#CVPR-2018" class="headerlink" title="CVPR 2018"></a>CVPR 2018</h2><ul>
<li><p><strong>Group Consistent Similarity Learning via Deep CRFs for Person Re-Identification.</strong> <em>Dapeng Chen, Dan Xu, Hongsheng Li, Nicu Sebe, Xiaogang Wang</em></p>
</li>
<li><p><strong>Person Transfer GAN to Bridge Domain Gap for Person Re-Identification.</strong> <em>Longhui Wei, Shiliang Zhang, Wen Gao, Qi Tian</em></p>
</li>
<li><p><strong>Disentangled Person Image Generation.</strong> <em>Liqian Ma, Qianru Sun, Stamatios Georgoulis, Mario Fritz, Bernt Schiele, Luc Van Gool</em></p>
</li>
<li><p><strong>Unsupervised Person Image Synthesis in Arbitrary Poses.</strong> <em>Albert Pumarola, Antonio Agudo, Alberto Sanfeliu, Francesc Moreno-Noguer</em></p>
</li>
<li><p><strong>Good Appearance Features for Multi-Target Multi-Camera Tracking.</strong> <em>Ergys Ristani, Carlo Tomasi</em></p>
</li>
<li><p><strong>Diversity Regularized Spatiotemporal Attention for Video-based Person Re-identification.</strong> <em>Shuang Li, Slawomir Bak, Peter Carr</em></p>
</li>
<li><p><strong>A Pose-Sensitive Embedding for Person Re-Identification with Expanded Cross Neighborhood Re-Ranking.</strong> <em>M. Saquib Sarfraz, Arne Schumann, Andreas Eberle, Rainer Stiefelhagen</em></p>
</li>
<li><p><strong>Image-Image Domain Adaptation with Preserved Self-Similarity and Domain-Dissimilarity for Person Re-identification.</strong> <em>Weijian Deng, Liang Zheng, Guoliang Kang, Yi Yang, Qixiang Ye, Jianbin Jiao</em></p>
</li>
<li><p><strong>Human Semantic Parsing for Person Re-identification.</strong> <em>Mahdi Kalayeh, Emrah Basaran, Mubarak Shah</em></p>
</li>
<li><p><strong>Video Person Re-identification with Competitive Snippet-similarity Aggregation and Co-attentive Snippet Embedding.</strong> <em>Dapeng Chen, Hongsheng Li, Tong Xiao, Shuai Yi, Xiaogang Wang</em></p>
</li>
<li><p><strong>Mask-guided Contrastive Attention Model for Person Re-Identification.</strong> <em>Chunfeng Song, Yan Huang, Wanli Ouyang, Liang Wang</em></p>
</li>
<li><p><strong>Person Re-identification with Cascaded Pairwise Convolutions.</strong> <em>Yicheng Wang, Zhenzhong Chen, Feng Wu, Gang Wang</em></p>
</li>
<li><p><strong>Multi-Level Factorisation Net for Person Re-Identification.</strong> <em>Xiaobin Chang, Timothy Hospedales, Tao Xiang</em></p>
</li>
<li><p><strong>Attention-aware Compositional Network for Person Re-Identification.</strong> <em>Jing Xu, Rui Zhao, Feng Zhu, Huaming Wang, Wanli Ouyang</em></p>
</li>
<li><p><strong>Deep Group-shuffling Random Walk for Person Re-identification.</strong> <em>Yantao Shen, Hongsheng Li, Tong Xiao, Shuai Yi, Dapeng Chen, Xiaogang Wang</em></p>
</li>
<li><p><strong>Transferable Joint Attribute-Identity Deep Learning for Unsupervised Person Re-Identification.</strong> <em>Jingya Wang, Xiatian Zhu, Shaogang Gong, Wei Li</em></p>
</li>
<li><p><strong>Harmonious Attention Network for Person Re-Identification.</strong> <em>Wei Li, Xiatian Zhu, Shaogang Gong</em></p>
</li>
<li><p><strong>Efficient and Deep Person Re-Identification using Multi-Level Similarity.</strong> <em>Yiluan Guo, Ngai-Man Cheung</em></p>
</li>
<li><p><strong>Pose Transferrable Person Re-Identification.</strong> <em>Jinxian Liu, Yichao Yan, Bingbing Ni, Peng Zhou, Shuo Cheng, jianguo Hu</em></p>
</li>
<li><p><strong>Adversarially Occluded Samples for Person Re-identification.</strong> <em>Houjing Huang, Dangwei Li, Zhang Zhang, Xiaotang Chen, Kaiqi Huang</em></p>
</li>
<li><p><strong>Camera Style Adaptation for Person Re-identification.</strong> <em>Zhun Zhong, Liang Zheng, Zhedong Zheng, Shaozi Li, Yi Yang</em></p>
</li>
<li><p><strong>Exploit the Unknown Gradually: One-Shot Video-Based Person Re-Identification by Stepwise Learning.</strong> <em>Yu Wu, Yutian Lin, Xuanyi Dong, Yan Yan, Wanli Ouyang, Yi Yang</em></p>
</li>
<li><p><strong>Dual Attention Matching Network for Context-Aware Feature Sequence based Person Re-Identification.</strong> <em>Jianlou Si, Honggang Zhang, Chun-Guang Li, Jason Kuen, Xiangfei Kong, Alex Kot, Gang Wang</em></p>
</li>
<li><p><strong>Easy Identification from Better Constraints: Multi-Shot Person Re-Identification from Reference Constraints.</strong> <em>Jiahuan Zhou, Bing Su, Ying Wu</em></p>
</li>
<li><p><strong>Eliminating Background-bias for Robust Person Re-identification.</strong> <em>Maoqing Tian, Shuai Yi, Hongsheng Li, Shihua Li, Xuesen Zhang, Jianping Shi, Junjie Yan, Xiaogang Wang</em></p>
</li>
<li><p><strong>End-to-End Deep Kronecker-Product Matching for Person Re-identification.</strong> <em>Yantao Shen, Tong Xiao, Hongsheng Li, Shuai Yi, Xiaogang Wang</em></p>
</li>
<li><p><strong>Exploiting Transitivity for Learning Person Re-identification Models on a Budget.</strong> <em>Sourya Roy, Sujoy Paul, Neal Young, Amit Roy-Chowdhury</em></p>
</li>
<li><p><strong>Deep Spatial Feature Reconstruction for Partial Person Re-identification.</strong> <em>Lingxiao He, Jian Liang, Haiqing Li, Zhenan Sun</em></p>
</li>
<li><p><strong>Unsupervised Cross-dataset Person Re-identification by Transfer Learning of Spatio-temporal Patterns.</strong> <em>Jianming Lv, Weihang Chen, Qing Li, Can Yang</em></p>
</li>
<li><p><strong>Resource Aware Person Re-identification across Multiple Resolutions.</strong> <em>Yan Wang, Lequn Wang, Yurong You, xu Zou, Vincent Chen, Serena Li, Bharath Hariharan, Gao Huang, Kilian Weinberger</em></p>
</li>
<li><p><strong>Multi-shot Pedestrian Re-identification via Sequential Decision Making.</strong> <em>Jianfu Zhang, Naiyan Wang, Liqing Zhang</em></p>
</li>
<li><p><strong>Deep Mutual Learning.</strong> <em>Ying Zhang, Tao Xiang, Timothy Hospedales, Huchuan Lu</em></p>
</li>
</ul>
<h2 id="CVPR-2017"><a href="#CVPR-2017" class="headerlink" title="CVPR 2017"></a>CVPR 2017</h2><ul>
<li><p><strong>Spindle Net: Person Re-Identification With Human Body Region Guided Feature Decomposition and Fusion.</strong> <em>Haiyu Zhao, Maoqing Tian, Shuyang Sun, Jing Shao, Junjie Yan, Shuai Yi, Xiaogang Wang, Xiaoou Tang</em></p>
</li>
<li><p><strong>Beyond Triplet Loss: A Deep Quadruplet Network for Person Re-Identification.</strong> <em>Weihua Chen, Xiaotang Chen, Jianguo Zhang, Kaiqi Huang</em></p>
</li>
<li><p><strong>Person Re-identification in the Wild.</strong> <em>Liang Zheng, Hengheng Zhang, Shaoyan Sun, Manmohan Chandraker, Yi Yang, Qi Tian</em></p>
</li>
<li><p><strong>Scalable Person Re-identification on Supervised Smoothed Manifold.</strong> <em>Song Bai, Xiang Bai, Qi Tian</em></p>
</li>
<li><p><strong>Joint Detection and Identification Feature Learning for Person Search.</strong> <em>Tong Xiao, Shuang Li, Bochao Wang, Liang Lin, Xiaogang Wang</em></p>
</li>
<li><p><strong>Consistent-Aware Deep Learning for Person Re-identification in a Camera Network.</strong> <em>Ji Lin, Liangliang Ren, Jiwen Lu, Jianjiang Feng, Jie Zhou</em></p>
</li>
<li><p><strong>Multiple People Tracking by Lifted Multicut and Person Re-identification.</strong> <em>Siyu Tang, Mykhaylo Andriluka, Bjoern Andres, Bernt Schiele</em></p>
</li>
<li><p><strong>Point to Set Similarity Based Deep Feature Learning for Person Re-Identification.</strong> <em>Sanping Zhou, Jinjun Wang, Jiayun Wang, Yihong Gong, Nanning Zheng</em></p>
</li>
<li><p><strong>Person Search with Natural Language Description.</strong> <em>Shuang Li, Tong Xiao, Hongsheng Li, Bolei Zhou, Dayu Yue, Xiaogang Wang</em></p>
</li>
<li><p><strong>Fast Person Re-identification via Cross-Camera Semantic Binary Transformation.</strong> <em>Jiaxin Chen, Yunhong Wang, Jie Qin, Li Liu, Ling Shao</em></p>
</li>
<li><p><strong>See the Forest for the Trees: Joint Spatial and Temporal Recurrent Neural Networks for Video-Based Person Re-identification.</strong> <em>Zhen Zhou, Yan Huang, Wei Wang, Liang Wang, Tieniu Tan</em></p>
</li>
<li><p><strong>Learning Deep Context-Aware Features over Body and Latent Parts for Person Re-identification.</strong> <em>Dangwei Li, Xiaotang Chen, Zhang Zhang, Kaiqi Huang</em></p>
</li>
</ul>
<h2 id="CVPR-2016"><a href="#CVPR-2016" class="headerlink" title="CVPR 2016"></a>CVPR 2016</h2><ul>
<li><p><strong>Recurrent Attention Models for Depth-Based Person Identification.</strong> <em>Albert Haque, Alexandre Alahi, Li Fei-Fei</em></p>
</li>
<li><p><strong>Learning a Discriminative Null Space for Person Re-identification.</strong> <em>Li Zhang, Tao Xiang, Shaogang Gong</em></p>
</li>
<li><p><strong>Learning Deep Feature Representations with Domain Guided Dropout for Person Re-identification.</strong> <em>Tong Xiao, Hongsheng Li, Wanli Ouyang, Xiaogang Wang</em></p>
</li>
<li><p><strong>Similarity Learning with Spatial Constraints for Person Re-identification.</strong> <em>Dapeng Chen, Zejian Yuan, Badong Chen, Nanning Zheng</em></p>
</li>
<li><p><strong>Sample-Specific SVM Learning for Person Re-identification.</strong> <em>Ying Zhang, Baohua Li, Huchuan Lu, Atshushi Irie, Xiang Ruan</em></p>
</li>
<li><p><strong>Joint Learning of Single-Image and Cross-Image Representations for Person Re-identification.</strong> <em>Faqiang Wang, Wangmeng Zuo, Liang Lin, David Zhang, Lei Zhang</em></p>
</li>
<li><p><strong>Unsupervised Cross-Dataset Transfer Learning for Person Re-identification.</strong> <em>Peixi Peng, Tao Xiang, Yaowei Wang, Massimiliano Pontil, Shaogang Gong, Tiejun Huang, Yonghong Tian</em></p>
</li>
<li><p><strong>Recurrent Convolutional Network for Video-Based Person Re-identification.</strong> <em>Niall McLaughlin, Jesús Martínez del Rincón, Paul C. Miller</em></p>
</li>
<li><p><strong>Person Re-identification by Multi-Channel Parts-Based CNN with Improved Triplet Loss Function.</strong> <em>De Cheng, Yihong Gong, Sanping Zhou, Jinjun Wang, Nanning Zheng</em></p>
</li>
<li><p><strong>Top-Push Video-Based Person Re-identification.</strong> <em>Jinjie You, Ancong Wu, Xiang Li, Wei-Shi Zheng</em></p>
</li>
<li><p><strong>Improving Person Re-identification via Pose-Aware Multi-shot Matching.</strong> <em>Yeong-Jun Cho, Kuk-Jin Yoon</em></p>
<p>   <strong>Hierarchical Gaussian Descriptor for Person Re-identification.</strong>    <em>Tetsu Matsukawa, Takahiro Okabe, Einoshin Suzuki, Yoichi Sato</em></p>
</li>
</ul>
<h2 id="CVPR-2015"><a href="#CVPR-2015" class="headerlink" title="CVPR 2015"></a>CVPR 2015</h2><ul>
<li><p><strong>Super-Resolution Person Re-Identification With Semi-Coupled Low-Rank Discriminant Dictionary Learning.</strong> <em>Xiao-Yuan Jing, Xiaoke Zhu, Fei Wu, Xinge You, Qinglong Liu, Dong Yue, Ruimin Hu, Baowen Xu</em></p>
</li>
<li><p><strong>Similarity Learning on an Explicit Polynomial Kernel Feature Map for Person Re-Identification.</strong> <em>Dapeng Chen, Zejian Yuan, Gang Hua, Nanning Zheng, Jingdong Wang</em></p>
</li>
<li><p><strong>Query-Adaptive Late Fusion for Image Search and Person Re-Identification.</strong> <em>Liang Zheng, Shengjin Wang, Lu Tian, Fei He, Ziqiong Liu, Qi Tian</em></p>
</li>
<li><p><strong>Learning to Rank in Person Re-Identification With Metric Ensembles.</strong> <em>Sakrapee Paisitkriangkrai, Chunhua Shen, Anton van den Hengel</em></p>
</li>
<li><p><strong>Person Re-Identification by Local Maximal Occurrence Representation and Metric Learning.</strong> <em>Shengcai Liao, Yang Hu, Xiangyu Zhu, Stan Z. Li</em></p>
</li>
<li><p><strong>An Improved Deep Learning Architecture for Person Re-Identification.</strong> <em>Ejaz Ahmed, Michael Jones, Tim K. Marks.</em>【<a href="https://www.cv-foundation.org/openaccess/content_cvpr_2015/app/2B_062.pdf">PDF</a>】</p>
</li>
<li><p><strong>Transferring a Semantic Representation for Person Re-Identification and Search.</strong> <em>Zhiyuan Shi, Timothy M. Hospedales, Tao Xiang</em></p>
</li>
</ul>
<h2 id="CVPR-2014"><a href="#CVPR-2014" class="headerlink" title="CVPR 2014"></a>CVPR 2014</h2><ul>
<li><p><strong>Learning Mid-level Filters for Person Re-identification.</strong> <em>Rui Zhao, Wanli Ouyang, Xiaogang Wang.</em>【<a href="https://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Zhao_Learning_Mid-level_Filters_2014_CVPR_paper.pdf">PDF</a>】</p>
</li>
<li><p><strong>Semi-Supervised Coupled Dictionary Learning for Person Re-identification.</strong> <em>Xiao Liu, Mingli Song, Dacheng Tao, Xingchen Zhou , Chun Chen, Jiajun Bu</em></p>
</li>
<li><p><strong>DeepReID: Deep Filter Pairing Neural Network for Person Re-identification.</strong> <em>Wei Li, Rui Zhao, Tong Xiao, Xiaogang Wang.</em>【<a href="http://zhaorui.xyz/project/fpnn_cvpr14/liZXWcvpr14.pdf">PDF</a>】</p>
</li>
</ul>
<h2 id="CVPR-2013"><a href="#CVPR-2013" class="headerlink" title="CVPR 2013"></a>CVPR 2013</h2><ul>
<li><p><strong>Unsupervised Salience Learning for Person Re-identification.</strong> <em>Rui Zhao, Wanli Ouyang, Xiaogang Wang</em></p>
</li>
<li><p><strong>Locally Aligned Feature Transforms across Views.</strong> <em>Wei Li, Xiaogang Wang</em></p>
</li>
<li><p><strong>Learning Locally-Adaptive Decision Functions for Person Verification.</strong> <em>Zhen Li, Shiyu Chang, Feng Liang, Thomas S. Huang, Liangliang Cao, John R. Smith.</em></p>
</li>
</ul>
<h1 id="ECCV"><a href="#ECCV" class="headerlink" title="ECCV"></a>ECCV</h1><h2 id="ECCV-2018"><a href="#ECCV-2018" class="headerlink" title="ECCV 2018"></a>ECCV 2018</h2><ul>
<li><p><strong>Part-Aligned Bilinear Representations for Person Re-identification.</strong> **</p>
</li>
<li><p><strong>Mancs: A Multi-task Attentional Network with Curriculum Sampling for Person Re-identification.</strong> **</p>
</li>
<li><p><strong>Improving Deep Visual Representation for Person Re-identification by Global and Local Image-language Association.</strong> **</p>
</li>
<li><p><strong>Person Search via A Mask-guided Two-stream CNN Model.</strong> **</p>
</li>
<li><p><strong>Person Search by Multi-Scale Matching.</strong> **</p>
</li>
<li><p><strong>Reinforced Temporal Attention and Split-Rate Transfer for Depth-Based Person Re-Identification.</strong> **</p>
</li>
<li><p><strong>Unsupervised Person Re-identification by Deep Learning Tracklet Association</strong> **</p>
</li>
</ul>
<h2 id="ECCV-2016"><a href="#ECCV-2016" class="headerlink" title="ECCV 2016"></a>ECCV 2016</h2><ul>
<li><p><strong>Embedding Deep Metric for Person Re-identification: A Study Against Large Variations.</strong> <em>Hailin Shi, Yang Yang, Xiangyu Zhu, Shengcai Liao, Zhen Lei, Wei-Shi Zheng, Stan Li</em></p>
</li>
<li><p><strong>Human Re-identification in Crowd Videos Using Personal, Social and Environmental Constraints.</strong> <em>Shayan Modiri Assari, Haroon Idrees, Mubarak Shah</em></p>
</li>
<li><p><strong>Person Re-identification by Unsupervised L1 Graph Learning.</strong> <em>Elyor Kodirov, Tao Xiang, Zhenyong Fu, Shaogang Gong</em></p>
</li>
<li><p><strong>Gated Siamese Convolutional Neural Network Architecture for Human Re-Identification.</strong> <em>Rahul Rama Varior, Mrinal Haloi, Gang Wang</em></p>
</li>
<li><p><strong>Deep Attributes Driven Person Re-identification.</strong> <em>Chi Su, Shiliang Zhang, Junliang Xing, Wen Gao, Qi Tian</em></p>
</li>
<li><p><strong>Human-In-The-Loop Person Re-Identification.</strong> <em>Hanxiao Wang, Shaogang Gong, Xiatian Zhu, Tao Xiang</em></p>
</li>
<li><p><strong>Temporal Model Adaptation for Person Re-Identification.</strong> <em>Niki Martinel, Abir Das, Christian Micheloni, Amit Roy-Chowdhury</em></p>
</li>
<li><p><strong>Gated Siamese Convolutional Neural Network Architecture for Human Re-Identification.</strong>　<em>Rahul Rama Varior, Mrinal Haloi, Gang Wang</em></p>
</li>
<li><p><strong>Person Re-Identification via Recurrent Feature Aggregation.</strong> <em>Yichao Yan, Bingbing Ni, Zhichao Song, chao Ma, Yan Yan, xiaokang Yang</em></p>
</li>
<li><p><strong>MARS: A Video Benchmark for Large-Scale Person Re-identification.</strong> <em>Liang Zheng, Zhi Bie, Yifan Sun, Jingdong Wang, Chi Su, Shengjin Wang, Qi Tian</em></p>
</li>
<li><p><strong>A Siamese Long Short-Term Memory Architecture for Human Re-Identification.</strong> <em>Rahul Rama Varior, Bing Shuai, Jiwen Lu, Dong Xu, Gang Wang</em></p>
</li>
</ul>
<h2 id="ECCV-2014"><a href="#ECCV-2014" class="headerlink" title="ECCV 2014"></a>ECCV 2014</h2><ul>
<li><p><strong>Salient Color Names for Person Re-Identification.</strong> <em>Yang Yang, Jimei Yang, Junjie Yan, Shengcai Liao, Dong Yi, Stan Li</em></p>
</li>
<li><p><strong>Person Re-Identification by Video Ranking.</strong> <em>Taiqing Wang, Shaogang Gong, Xiatian Zhu, Shengjin Wang</em></p>
</li>
<li><p><strong>Person Re-Identification using Kernel-based Metric Learning Methods.</strong>  <em>Fei Xiong, Mengran Gou, Octavia Camps, Mario Sznaier</em></p>
</li>
</ul>
<h2 id="ECCV-2014-Workshop-on-Visual-Surveillance-and-Re-identification"><a href="#ECCV-2014-Workshop-on-Visual-Surveillance-and-Re-identification" class="headerlink" title="ECCV 2014 Workshop on Visual Surveillance and Re-identification"></a>ECCV 2014 Workshop on Visual Surveillance and Re-identification</h2><ul>
<li><p><strong>A Novel Visual Word Co-occurrence Model for Person Re-identification.</strong> <em>Ziming Zhang, Yuting Chen, Venkatesh Saligrama.</em></p>
</li>
<li><p><strong>Saliency Weighted Features for Person Re-identification.</strong> <em>Niki Martinel, Christian Micheloni, Gian Luca Foresti.</em></p>
</li>
<li><p><strong>Joint Learning for Attribute-Consistent Person Re-Identification.</strong> <em>Sameh Khamis, Cheng-Hao Kuo, Vivek K.Singh, Vinay D.Shet, Larry S.Davis.</em></p>
</li>
</ul>
<h1 id="BMVC"><a href="#BMVC" class="headerlink" title="BMVC"></a>BMVC</h1><h2 id="BMVC-2018"><a href="#BMVC-2018" class="headerlink" title="BMVC 2018"></a>BMVC 2018</h2><ul>
<li><p><strong>Multi-task Mid-level Feature Alignment Network for Unsupervised Cross-Dataset Person Re-Identification.</strong> **</p>
</li>
<li><p><strong>Deep Association Learning for Unsupervised Video Person Re-identification.</strong> **</p>
</li>
</ul>
<h2 id="BMVC-2017"><a href="#BMVC-2017" class="headerlink" title="BMVC 2017"></a>BMVC 2017</h2><ul>
<li><p><strong>Person Re-Identification by Localizing Discriminative Regions.</strong> <em>Tanzila Rahman, Mrigank Rochan, Yang Wang</em></p>
</li>
<li><p><strong>Deep Reinforcement Learning Attention Selection For Person Re-Identification.</strong> <em>Xu Lan, HangXiao Wang, Shaogang Gong, Xiatian Zhu</em></p>
</li>
<li><p><strong>Key Person Aided Re-identification in Partially Ordered Pedestrian Set.</strong> <em>Chen Chen, Min Cao, Silong Peng</em></p>
</li>
<li><p><strong>Divide and Fuse: A Re-ranking Approach for Person Re-identification.</strong> <em>Rui Yu, Zhichao Zhou, Song Bai, Xiang Bai</em></p>
</li>
<li><p><strong>Cross-View GAN Based Vehicle Generation for Re-identification.</strong> <em>Yi Zhou, Ling Shao</em></p>
</li>
<li><p><strong>Efficient Video Summarization Using Principal Person Appearance for Video-Based Person Re-Identification.</strong> <em>Seongro Yoon, Furqan Khan, Francois Bremond</em></p>
</li>
</ul>
<h2 id="BMVC-2016"><a href="#BMVC-2016" class="headerlink" title="BMVC 2016"></a>BMVC 2016</h2><ul>
<li><p><strong>Person Re-identification in Appearance Impaired Scenarios</strong>. <em>Mengran Gou, Xikang Zhang, Angels Rates-Borras, Sadjad Asghari-Esfeden, Octavia I. Camps, Mario Sznaier</em></p>
</li>
<li><p><strong>Highly Efficient Regression for Scalable Person Re-Identification.</strong> <em>Hanxiao Wang, Shaogang Gong, Tao Xiang</em></p>
</li>
</ul>
<h2 id="BMVC-2015"><a href="#BMVC-2015" class="headerlink" title="BMVC 2015"></a>BMVC 2015</h2><ul>
<li><p><strong>Kernelized View Adaptive Subspace Learning for Person Re-identification.</strong> <em>Qin Zhou, Shibao Zheng, Hang Su, Hua Yang, Yu Wang, Shuang Wu</em></p>
</li>
<li><p><strong>Dictionary Learning with Iterative Laplacian Regularisation for Unsupervised Person Re-identification.</strong> <em>Elyor Kodirov, Tao Xiang, Shaogang Gong</em></p>
</li>
<li><p><strong>Multi-Shot Human Re-Identification Using Adaptive Fisher Discriminant Analysis.</strong> <em>Yang Li, Ziyan Wu, Srikrishna Karanam, Richard J. Radke</em></p>
</li>
</ul>
<h2 id="BMVC-2014"><a href="#BMVC-2014" class="headerlink" title="BMVC 2014"></a>BMVC 2014</h2><ul>
<li><p><strong>Re-id: Hunting Attributes in the Wild.</strong> <em>Ryan Layne, Timothy M. Hospedales, Shaogang Gong</em></p>
</li>
<li><p><strong>Unsupervised Learning of Generative Topic Saliency for Person Re-identification.</strong> <em>Hanxiao Wang, Shaogang Gong, Tao Xiang</em></p>
</li>
<li><p><strong>Open-world Person Re-Identification by Multi-Label Assignment Inference.</strong> <em>Brais Cancela, Timothy M. Hospedales, Shaogang Gong</em></p>
</li>
</ul>
<h1 id="ICPR"><a href="#ICPR" class="headerlink" title="ICPR"></a>ICPR</h1><h2 id="ICPR-2014"><a href="#ICPR-2014" class="headerlink" title="ICPR 2014"></a>ICPR 2014</h2><ul>
<li><strong>Deep Metric Learning for Person Re-Identification</strong>. <em>Dong Yi, Zhen Lei, Shengcai Liao, Stan Z. Li.</em>【<a href="http://www.cbsr.ia.ac.cn/users/zlei/papers/ICPR2014/Yi-ICPR-14.pdf">PDF</a>】</li>
</ul>
<h1 id="AAAI"><a href="#AAAI" class="headerlink" title="AAAI"></a>AAAI</h1><h2 id="AAAI-2019"><a href="#AAAI-2019" class="headerlink" title="AAAI 2019"></a>AAAI 2019</h2><ul>
<li><p><strong>Horizontal Pyramid Matching for Person Re-identification.</strong> <em>Yang Fu, Yunchao Wei, Yuqian Zhou, Honghui Shi, Gao Huang, Xinchao Wang, Zhiqiang Yao, Thomas Huang</em></p>
</li>
<li><p><strong>Spatial-Temporal Person Re-identification.</strong> <em>Guangcong Wang, Jianhuang Lai, Peigen Huang, Xiaohua Xie</em></p>
</li>
<li><p><strong>Learning Resolution-Invariant Deep Representations for Person Re-Identification.</strong> <em>Yun-Chun Chen, Yu-Jhe Li, Xiaofei Du, Yu-Chiang Frank Wang</em></p>
</li>
<li><p><strong>Learning Incremental Triplet Margin for Person Re-identification.</strong> <em>Yingying Zhang, Qiaoyong Zhong, Liang Ma, Di Xie, Shiliang Pu</em></p>
</li>
<li><p><strong>Backbone Can Not be Trained at Once: Rolling Back to Pre-trained Network for Person Re-Identification.</strong> <em>Youngmin Ro, Jongwon Choi, Dae Ung Jo, Byeongho Heo, Jongin Lim, Jin Young Choi</em></p>
</li>
<li><p><strong>A Bottom-Up Clustering Approach to Unsupervised Person Re-identification.</strong> <em>Yutian Lin, Xuanyi Dong, Liang Zheng, Yan Yan, Yi Yang</em></p>
</li>
<li><p><strong>HSME: Hypersphere Manifold Embedding for Visible Thermal Person Re-identification.</strong> <em>Yi Hao, Nannan Wan, Li Jie, Xinbo Gao</em></p>
</li>
<li><p><strong>STA: Spatial-Temporal Attention for Large-Scale Video-based Person Re-Identification.</strong> <em>Yang Fu, Xiaoyang Wang, Yunchao Wei, Thomas Huang</em></p>
</li>
<li><p><strong>Multi-scale 3D Convolution Network for Video Based Person Re-Identification.</strong> <em>Jianing Li, Shiliang Zhang, Tiejun Huang</em></p>
</li>
<li><p><strong>Spatial and Temporal Mutual Promotion for Video-based Person Re-identification.</strong> <em>Yiheng Liu, Zhenxun Yuan, Wengang Zhou, Houqiang Li</em></p>
</li>
</ul>
<h2 id="AAAI-2018"><a href="#AAAI-2018" class="headerlink" title="AAAI 2018"></a>AAAI 2018</h2><ul>
<li><p><strong>Cross-View Person Identification by Matching Human Poses Estimated with Confidence on Each Body Joint.</strong> <em>Guoqiang Liang, Xuguang Lan, Kang Zheng, Song Wang, Nanning Zheng</em></p>
</li>
<li><p><strong>Deep Low-Resolution Person Re-Identification.</strong> <em>Jiening Jiao, Wei-Shi Zheng, Ancong Wu, Xiatian Zhu, Shaogang Gong</em></p>
</li>
<li><p><strong>Discriminative Semi-coupled Projective Dictionary Learning for Low-Resolution Person Re-Identification.</strong> <em>Kai Li, Zhengming Ding, Sheng Li, Yun Fu</em></p>
</li>
<li><p><strong>Graph Correspondence Transfer for Person Re-identification.</strong> <em>Qin Zhou, Heng Fan, Shibao Zheng, Hang Su, Xinzhe Li, Shuang Wu, Haibin Ling</em></p>
</li>
<li><p><strong>Hierarchical Attention Transfer Network for Cross-domain Sentiment Classification.</strong> <em>Zheng Li, Ying Wei, Yu Zhang, Qiang Yang</em></p>
</li>
<li><p><strong>Multi-Channel Pyramid Person Matching Network for Person Re-Identification.</strong> <em>Chaojie Mao, Yingming Li, zhongfei Zhang, yaqing Zhang, Xi Li</em></p>
</li>
<li><p><strong>Multi-rate Gated Recurrent Convolutional Networks for Video-Based Pedestrian Re-Identification.</strong> <em>Zhihui Li, Lina Yao, Feiping Nie, Dingwen Zhang, Min Xu</em></p>
</li>
<li><p><strong>Region-based Quality Estimation Network for Large-scale Person Re-identification.</strong> <em>Guanglu Song, Biao Leng, Yu Liu, Congrui Hetang, Shaofan Cai</em></p>
</li>
<li><p><strong>Semi-supervised Bayesian Attribute Learning for Person Re-identification.</strong> <em>Wenhe Liu, Ling Chen, Xiaojun Chang, Yi Yang</em></p>
</li>
<li><p><strong>Temporal-Enhanced Convolutional Network for Person Re-identification.</strong> <em>Yang Wu, Jie Qiu, Jun Takamatsu, Tsukasa Ogasawara</em></p>
</li>
<li><p><strong>Video-based Person Re-identification via Self Paced Weighting.</strong> <em>Wenjun Huang, Chao Liang, Yi Yu, Zheng Wang, Weijian Ruan, Ruimin Hu</em></p>
</li>
</ul>
<h2 id="AAAI-2017"><a href="#AAAI-2017" class="headerlink" title="AAAI 2017"></a>AAAI 2017</h2><ul>
<li><p><strong>A Multi-Task Deep Network for Person Re-Identification.</strong> <em>Weihua Chen, Xiaotang Chen, Jianguo Zhang, Kaiqi Huang</em></p>
</li>
<li><p><strong>Unsupervised Learning of Multi-Level Descriptors for Person Re-Identification.</strong> <em>Yang Yang, Longyin Wen, Siwei Lyu, Stan Z. Li</em></p>
</li>
<li><p><strong>Learning Heterogeneous Dictionary Pair with Feature Projection Matrix for Pedestrian Video Retrieval via Single Query Image.</strong> <em>Xiaoke Zhu, Xiao-Yuan Jing, Fei Wu, Yunhong Wang, Wangmeng Zuo, Wei-Shi Zheng</em></p>
</li>
</ul>
<h2 id="AAAI-2016"><a href="#AAAI-2016" class="headerlink" title="AAAI 2016"></a>AAAI 2016</h2><ul>
<li><p><strong>Large Scale Similarity Learning Using Similar Pairs for Person Verification.</strong> <em>Yang Yang, Shengcai Liao, Zhen Lei, Stan Z. Li</em></p>
</li>
<li><p><strong>Metric Embedded Discriminative Vocabulary Learning for High-Level Person Representation.</strong> <em>Yang Yang, Zhen Lei, Shifeng Zhang, Hailin Shi, Stan Z. Li</em></p>
</li>
<li><p><strong>DARI: Distance metric And Representation Integration for Person Verification.</strong> <em>Guangrun Wang, Liang Lin, Shengyong Ding, Ya Li, Qing Wang</em></p>
</li>
</ul>
<h2 id="AAAI-2015"><a href="#AAAI-2015" class="headerlink" title="AAAI 2015"></a>AAAI 2015</h2><ul>
<li><strong>Swiss-System Based Cascade Ranking for Gait-Based Person Re-Identification.</strong> <em>Lan Wei, Yonghong Tian, Yaowei Wang, Tiejun Huang</em></li>
</ul>
<h2 id="NIPS-2016"><a href="#NIPS-2016" class="headerlink" title="NIPS 2016"></a>NIPS 2016</h2><ul>
<li><strong>Deep Neural Networks with Inexact Matching for Person Re-Identification.</strong> <em>Arulkumar Subramaniam, Moitreya Chatterjee, Anurag Mittal.</em></li>
</ul>
<h2 id="NIPS-2018"><a href="#NIPS-2018" class="headerlink" title="NIPS 2018"></a>NIPS 2018</h2><ul>
<li><strong>FD-GAN: Pose-guided Feature Distilling GAN for Robust Person Re-identification.</strong> **</li>
</ul>
<h1 id="IJCAI"><a href="#IJCAI" class="headerlink" title="IJCAI"></a>IJCAI</h1><h2 id="IJCAI-2018"><a href="#IJCAI-2018" class="headerlink" title="IJCAI 2018"></a>IJCAI 2018</h2><ul>
<li><p><strong>Cascaded SR-GAN for Scale-Adaptive Low Resolution Person Re-identification.</strong> <em>heng Wang, Mang Ye, Fan Yang, Xiang Bai, Shin’ichi Satoh</em></p>
</li>
<li><p><strong>Adversarial Attribute-Image Person Re-identification.</strong> <em>Zhou Yin, Wei-Shi Zheng, Ancong Wu, Hong-Xing Yu, Hai Wan, Xiaowei Guo, Feiyue Huang, Jianhuang Lai</em></p>
</li>
<li><p><strong>Learning with Sparse and Biased Feedback for Personal Search.</strong> <em>Michael Bendersky, Xuanhui Wang, Marc Najork, Donald Metzler</em></p>
</li>
<li><p><strong>Deep View-Aware Metric Learning for Person Re-Identification.</strong> <em>Pu Chen, Xinyi Xu, Cheng Deng</em></p>
</li>
<li><p><strong>Cross-Modality Person Re-Identification with Generative Adversarial Training.</strong> <em>Pingyang Dai, Rongrong Ji, Haibin Wang, Qiong Wu, Yuyu Huang</em></p>
</li>
<li><p><strong>SafeNet: Scale-normalization and Anchor-based Feature Extraction Network for Person Re-identification.</strong> <em>Kun Yuan, Qian Zhang, Chang Huang, Shiming Xiang, Chunhong Pan</em></p>
</li>
<li><p><strong>Visible Thermal Person Re-Identification via Dual-Constrained Top-Ranking.</strong> <em>Mang Ye, Zheng Wang, Xiangyuan Lan, Pong C. Yuen</em></p>
</li>
</ul>
<h2 id="IJCAI-2017"><a href="#IJCAI-2017" class="headerlink" title="IJCAI 2017"></a>IJCAI 2017</h2><ul>
<li><p><strong>Discriminative Dictionary Learning With Ranking Metric Embedded for Person Re-Identification.</strong> <em>De Cheng, Xiaojun Chang, Li Liu, Alexander Hauptmann, Yihong Gong, Nanning Zheng</em></p>
</li>
<li><p><strong>Person Re-Identification by Deep Joint Learning of Multi-Loss Classification.</strong> <em>Wei Li, Xiatian Zhu, Shaogang Gong</em></p>
</li>
</ul>
<h2 id="IJCAI-2016"><a href="#IJCAI-2016" class="headerlink" title="IJCAI 2016"></a>IJCAI 2016</h2><ul>
<li><p><strong>Learning Cross-View Binary Identities for Fast Person Re-Identification.</strong> <em>Feng Zheng, Ling Shao</em></p>
</li>
<li><p><strong>Scale-Adaptive Low-Resolution Person Re-Identification via Learning a Discriminating Surface.</strong> <em>Zheng Wang, Ruimin Hu, Yi Yu, Junjun Jiang, Chao Liang, Jinqiao Wang</em></p>
</li>
<li><p><strong>Semantics-Aware Deep Correspondence Structure Learning for Robust Person Re-Identification.</strong> <em>Yaqing Zhang, Xi Li, Liming Zhao, Zhongfei Zhang</em></p>
</li>
<li><p><strong>Video-Based Person Re-Identification by Simultaneously Learning Intra-Video and Inter-Video Distance Metrics.</strong> <em>Xiaoke Zhu, Xiao-Yuan Jing, Fei Wu, Hui Feng</em></p>
</li>
</ul>
<h2 id="IJCAI-2015"><a href="#IJCAI-2015" class="headerlink" title="IJCAI 2015"></a>IJCAI 2015</h2><ul>
<li><p><strong>Cross-View Projective Dictionary Learning for Person Re-Identification.</strong> <em>Sheng Li, Ming Shao, Yun Fu</em></p>
</li>
<li><p><strong>Mirror Representation for Modeling View-Specific Transform in Person Re-Identification.</strong> <em>Ying-Cong Chen, Wei-Shi Zheng, Jianhuang Lai</em></p>
</li>
</ul>
]]></content>
      <categories>
        <category>行人重识别</category>
      </categories>
      <tags>
        <tag>Person Re-ID</tag>
        <tag>论文</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 16.04安装Cuda、Cudnn配置Caffe环境</title>
    <url>/ubuntu-cuda.html</url>
    <content><![CDATA[<p>Ubuntu16.04安装Cuda8.0、Cudnn6.0，配置Caffe环境步骤全记录</p>
<span id="more"></span>
<h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h2><ul>
<li>Ubuntu 16.04</li>
<li>Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz</li>
<li>2 * NVIDIA GTX 1080 Ti</li>
</ul>
<h2 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h2><figure class="highlight q"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install libprotobuf-<span class="built_in">dev</span> libleveldb-<span class="built_in">dev</span> libsnappy-<span class="built_in">dev</span> libopencv-<span class="built_in">dev</span> libhdf5-serial-<span class="built_in">dev</span> protobuf-compiler</span><br><span class="line">sudo apt-<span class="built_in">get</span> install --no-install-recommends libboost-<span class="built_in">all</span>-<span class="built_in">dev</span></span><br><span class="line">sudo apt-<span class="built_in">get</span> install libopenblas-<span class="built_in">dev</span> liblapack-<span class="built_in">dev</span> libatlas-base-<span class="built_in">dev</span></span><br><span class="line">sudo apt-<span class="built_in">get</span> install libgflags-<span class="built_in">dev</span> libgoogle-glog-<span class="built_in">dev</span> liblmdb-<span class="built_in">dev</span></span><br><span class="line">sudo apt-<span class="built_in">get</span> install git cmake build-essential</span><br></pre></td></tr></table></figure>
<p>有一定几率安装失败而导致后续步骤出现问题，要确保以上依赖包都已安装成功，验证方法就是重新运行安装命令<br>如验证<code>git cmake build-essential</code>是否安装成功则再次运行以下命令：<code>sudo apt-get install git cmake build-essential</code><br>界面提示如下则说明已成功安装依赖包，否则继续安装直到安装成功。<br><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">test<span class="variable">@GTX1080Ti</span><span class="symbol">:~</span><span class="variable">$ </span>sudo apt-get install git cmake build-essential</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line">正在分析软件包的依赖关系树       </span><br><span class="line">正在读取状态信息... 完成       </span><br><span class="line">build-essential 已经是最新版 (<span class="number">12.1</span>ubuntu2)。</span><br><span class="line">cmake 已经是最新版 (<span class="number">3.5</span>.<span class="number">1</span><span class="number">-1</span>ubuntu3)。</span><br><span class="line">git 已经是最新版 (<span class="number">1</span><span class="symbol">:</span><span class="number">2.7</span>.<span class="number">4</span><span class="number">-0</span>ubuntu1.<span class="number">1</span>)。</span><br><span class="line">下列软件包是自动安装的并且现在不需要了：</span><br><span class="line">  lib32gcc1 libc6-i386</span><br><span class="line">使用<span class="string">&#x27;sudo apt autoremove&#x27;</span>来卸载它(它们)。</span><br><span class="line">升级了 <span class="number">0</span> 个软件包，新安装了 <span class="number">0</span> 个软件包，要卸载 <span class="number">0</span> 个软件包，有 <span class="number">94</span> 个软件包未被升级。</span><br></pre></td></tr></table></figure></p>
<h2 id="安装Cuda-8-0"><a href="#安装Cuda-8-0" class="headerlink" title="安装Cuda 8.0"></a>安装Cuda 8.0</h2><p>　　进入 <a href="https://developer.nvidia.com/cuda-downloads">https://developer.nvidia.com/cuda-downloads</a> ，依次选择 CUDA 类型然后下载即可。<br>　　下载的CUDA安装中包含有 nvidia 显卡驱动，故此步骤 CUDA 的安装包括了 nvidia 显卡驱动的安装，此时注意你是否已经安装过 nvidia 显卡驱动，若无法保证已安装的 nvidia 显卡驱动一定正确，那就卸载掉之前安装的 nvidia 显卡驱动，然后开始安装 CUDA 8.0；若可以保证已安装正确的 nvidia 显卡驱动，则直接开始安装 CUDA 8.0，在安装过程中选择不再安装 nvidia 显卡驱动。<br>　　为了方便开始安装过程的路径查找，把下载的 CUDA 安装文件移动到 HOME 路径下，然后通过 Ctrl + Alt + F1 进入文本模式，输入帐号密码登录，通过 Ctrl + Alt + F7 可返回图形化模式，然后运行 CUDA 安装文件进行安装，之前我们已经把 CUDA 安装文件移动至 HOME，直接通过 sh 命令运行安装文件即可：<br>　　<code>sudo sh cuda_8.0.61_375.26_linux.run --no-opengl-libs</code><br>　　其中 cuda_8.0.61_375.26_linux.run 是我的 CUDA 安装文件名，而你需替换为自己的 CUDA 安装文件名。<br>　　执行此命令约1分钟后会出现 0%信息，此时长按回车键让此百分比增长，直到100%，然后按照提示操作即可，先输入 accept ，然后让选择是否安装 nvidia 驱动，这里的选择对应第5步开头，若未安装则输入 “y”，若确保已安装正确驱动则输入“n”。<br>　　剩下的选择则都输入“y”确认安装或确认默认路径安装，开始安装，此时若出现安装失败提示则可能为未关闭桌面服务或在已安装 nvidia 驱动的情况下重复再次安装 nvidia 驱动，安装完成后输入<code>reboot</code>命令重启：</p>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><p>重启后登录进入系统，配置 CUDA 环境变量<br>终端输入：<code>sudo gedit ~/.bashrc</code><br>在该文件最后加入以下两行并保存：<br>　　<code>export PATH=/usr/local/cuda-8.0/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;</code><br>　　<code>export LD_LIBRARY_PATH=/usr/local/cuda-8.0/lib64$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125;</code><br>使该配置生效：<code>source ~/.bashrc</code></p>
<p>终端输入：<code>sudo gedit /etc/profile</code><br>文件末尾加入：<code>export PATH=&quot;/usr/local/cuda/bin:$PATH&quot;</code><br>运行：<code>source /etc/profile</code>，查看是否有误</p>
<h2 id="设置动态链接库"><a href="#设置动态链接库" class="headerlink" title="设置动态链接库"></a>设置动态链接库</h2><p>终端输入：<code>sudo gedit /etc/ld.so.conf.d/cuda.conf</code><br>添加：<code>/usr/local/cuda/lib64</code><br>执行生效：<code>sudo ldconfig</code></p>
<h2 id="测试Cuda-samples"><a href="#测试Cuda-samples" class="headerlink" title="测试Cuda samples"></a>测试Cuda samples</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd <span class="regexp">/usr/</span>local<span class="regexp">/cuda/</span>samples<span class="regexp">/1_Utilities/</span>deviceQuery</span><br><span class="line">make</span><br><span class="line">sudo ./deviceQuery</span><br></pre></td></tr></table></figure>
<h2 id="安装Cudnn-6-0"><a href="#安装Cudnn-6-0" class="headerlink" title="安装Cudnn 6.0"></a>安装Cudnn 6.0</h2><ol>
<li>确定已经安装的Cuda版本，以Cuda8.0为例，到官网 <a href="https://developer.nvidia.com/rdp/cudnn-download">https://developer.nvidia.com/rdp/cudnn-download</a> 下载相应的库文件</li>
<li>下载后进行解压</li>
<li>进入include文件夹，执行<code>sudo cp cudnn.h /usr/local/cuda/include/   # 复制头文件</code></li>
<li>进入lib64文件夹，执行<code>sudo cp lib* /usr/local/cuda/lib64/          # 复制动态链接库</code></li>
<li>执行<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/cuda/lib64/</span><br><span class="line">sudo <span class="keyword">rm</span> -rf libcudnn.<span class="keyword">so</span> libcudnn.<span class="keyword">so</span>.6           # 删除原有动态文件</span><br><span class="line">sudo ln -s libcudnn.<span class="keyword">so</span>.6.0.21 libcudnn.<span class="keyword">so</span>.6     # 生成软链接</span><br><span class="line">sudo ln -s libcudnn.<span class="keyword">so</span>.6 libcudnn.<span class="keyword">so</span>            # 生成软链接</span><br><span class="line"></span><br><span class="line">locate libcudnn.<span class="keyword">so</span>                              # 查看安装位置</span><br></pre></td></tr></table></figure>
安装完成后可用 <code>nvcc -V</code> 命令验证是否安装成功</li>
</ol>
<h2 id="安装caffe"><a href="#安装caffe" class="headerlink" title="安装caffe"></a>安装caffe</h2><p>从git中clone出源码:<br>　　<code>git clone https://github.com/BVLC/caffe.git</code><br>修改Makefile.config：<br>　　<code>cp Makefile.config.example Makefile.config</code><br>　　<code>vi Makefile.config</code><br>找到<code>#USE_CUDNN := 1</code>,取消注释（设置为GPU模式）</p>
<p>找到<br>　　<code>INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include</code><br>　　<code>LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib</code><br>修改为<br>　　<code>INCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include /usr/include/hdf5/serial</code><br>　　<code>LIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib /usr/lib/x86_64-linux-gnu/hdf5/serial</code></p>
<p>在 caffe 目录下执行 ：<br>　　<code>make all -j8</code><br>编译成功后可运行测试：<br>　　<code>make runtest -j8</code></p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul>
<li><a href="https://blog.csdn.net/yhaolpz/article/details/71375762">Ubuntu16.04 Caffe 安装步骤记录（超详尽）</a></li>
<li><a href="https://www.cnblogs.com/XTech/p/7226114.html">【深度学习】一、Ubuntu16.04 安装配置Caffe</a></li>
<li><a href="https://www.cnblogs.com/wmxfd/p/installation_of_nvidia_graphics_driver_and_cuda8_and_cudnn6.html">Ubuntu16.04安装Nvidia显卡驱动+Cuda8.0+Cudnn6.0</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Cuda</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS 7安装MongoDB数据库</title>
    <url>/centos7-mongodb.html</url>
    <content><![CDATA[<p>在CentOS 7服务器上安装MongoDB数据库，并设置开机启动。</p>
<span id="more"></span>
<h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><ol>
<li>打开MongoDB官网<a href="https://www.mongodb.com/download-center#community">下载地址</a></li>
<li>选择对应的版本和系统环境，获取下载链接，如CentOS 7的下载链接为<code>https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.4.9.tgz</code></li>
<li>运行<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">wget</span> https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-<span class="number">3</span>.<span class="number">4</span>.<span class="number">9</span>.tgz</span><br><span class="line"><span class="attribute">tar</span> zxvf mongodb-linux-x86_64-rhel70-<span class="number">3</span>.<span class="number">4</span>.<span class="number">9</span>.tgz   # 解压</span><br><span class="line"><span class="attribute">mv</span> mongodb-linux-x86_64-rhel70-<span class="number">3</span>.<span class="number">4</span>.<span class="number">9</span> /usr/src/mongodb  # 移动</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="创建数据文件路径"><a href="#创建数据文件路径" class="headerlink" title="创建数据文件路径"></a>创建数据文件路径</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/src/mongodb</span><br><span class="line"><span class="built_in">mkdir</span> db</span><br><span class="line"><span class="built_in">mkdir</span> logs</span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line"><span class="built_in">chmod</span> -R 755 db</span><br><span class="line"><span class="built_in">chmod</span> -R 755 logs</span><br><span class="line"><span class="built_in">chmod</span> -R 755 bin</span><br></pre></td></tr></table></figure>
<h2 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd bin</span><br><span class="line">vi mongodb.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加以下内容</span></span><br><span class="line">dbpath=<span class="regexp">/usr/</span>src<span class="regexp">/mongodb/</span>db  <span class="comment"># 数据文件路径</span></span><br><span class="line">logpath=<span class="regexp">/usr/</span>src<span class="regexp">/mongodb/</span>logs/mongodb.log <span class="comment"># 日志文件路径</span></span><br><span class="line">port=<span class="number">27017</span>  <span class="comment"># 端口(默认)</span></span><br><span class="line">fork=true   <span class="comment"># 开启守护进程</span></span><br><span class="line">logappend=true  <span class="comment"># 追加日志</span></span><br><span class="line">nohttpinterface=true  <span class="comment"># 关闭http接口</span></span><br></pre></td></tr></table></figure>
<h2 id="启动测试"><a href="#启动测试" class="headerlink" title="启动测试"></a>启动测试</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 启动数据库</span></span><br><span class="line">cd <span class="regexp">/usr/</span>src<span class="regexp">/mongodb/</span>bin</span><br><span class="line">.<span class="regexp">/mongod -f ./m</span>ongodb.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">./mongo <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动成功</span></span><br><span class="line">MongoDB shell version: <span class="number">2.4</span>.<span class="number">9</span></span><br><span class="line">connecting to: <span class="number">127.0</span>.<span class="number">0.1</span>/test  </span><br></pre></td></tr></table></figure>
<p>注意： 使用外部工具连接mongodb数据库前，应先开启vps的防火墙27017端口<br><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 开启端口  </span></span><br><span class="line">firewall-cmd <span class="params">--zone=public</span> <span class="params">--add-port=27017/tcp</span> <span class="params">--permanent</span>  </span><br><span class="line"><span class="comment"># 查看端口  </span></span><br><span class="line">firewall-cmd <span class="params">--permanent</span> <span class="params">--query-port=27017/tcp</span>  </span><br><span class="line"><span class="comment"># 重启防火墙  </span></span><br><span class="line">firewall-cmd <span class="params">--reload</span></span><br></pre></td></tr></table></figure></p>
<h2 id="设置开机自动启动"><a href="#设置开机自动启动" class="headerlink" title="设置开机自动启动"></a>设置开机自动启动</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 注册自定义服务</span></span><br><span class="line">cd <span class="regexp">/lib/</span>systemd/system  </span><br><span class="line">vi mongodb.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加以下内容</span></span><br><span class="line">***********************************</span><br><span class="line">[Unit]</span><br><span class="line"></span><br><span class="line">Description=mongodb</span><br><span class="line">After=network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=<span class="regexp">/usr/</span>src<span class="regexp">/mongodb/</span>bin<span class="regexp">/mongod -f /u</span>sr<span class="regexp">/src/m</span>ongodb<span class="regexp">/bin/m</span>ongodb.conf</span><br><span class="line">ExecReload=<span class="regexp">/bin/</span>kill -s HUP <span class="variable">$MAINPID</span></span><br><span class="line">ExecStop=<span class="regexp">/usr/</span>src<span class="regexp">/mongodb/</span>bin<span class="regexp">/mongod --shutdown -f  /u</span>sr<span class="regexp">/src/m</span>ongodb<span class="regexp">/bin/m</span>ongodb.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]  </span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">***********************************</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line">chmod <span class="number">754</span> mongodb.service  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务命令</span></span><br><span class="line">systemctl start mongodb.service   <span class="comment"># 启动服务  </span></span><br><span class="line">systemctl stop mongodb.service    <span class="comment"># 关闭服务</span></span><br><span class="line">systemctl enable mongodb.service  <span class="comment"># 开机启动  </span></span><br></pre></td></tr></table></figure>
<h2 id="添加管理员与用户认证"><a href="#添加管理员与用户认证" class="headerlink" title="添加管理员与用户认证"></a>添加管理员与用户认证</h2><p>MongoDB数据库的用户权限分为以下四种：</p>
<ul>
<li>userAdminAnyDatabase 拥有分配角色和用户的权限，但没有读写的权限</li>
<li>root 这是超级管理员</li>
<li>readWrite 有读写权限</li>
<li>read 有读权限</li>
</ul>
<p>1.开启MongoDB数据库，运行<code>/usr/src/mongodb/bin/mongo</code>，<code>use admin</code>进入admin数据库，创建管理员账户<br><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">db.<span class="title function_ invoke__">createUser</span>(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">    <span class="attr">pwd</span>: <span class="string">&quot;pwd&quot;</span>,</span><br><span class="line">    <span class="attr">roles</span>: [ &#123; <span class="attr">role</span>: <span class="string">&quot;root&quot;</span>, <span class="attr">db</span>: <span class="string">&quot;admin&quot;</span> &#125; ]</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">db.system.users.<span class="title function_ invoke__">find</span>() <span class="comment"># 查看所有用户</span></span><br></pre></td></tr></table></figure><br>2.修改配置文件mongodb.conf，在最下面加入一行<code>auth = on</code>，重启mongodb，进入<code>admin</code>数据库再运行<code>show dbs</code>发现已经没有权限<br>3.此时需要对数据库进行权限认证，运行<code>db.auth(&#39;root&#39;, &#39;pwd&#39;)</code>，返回1表示成功<br>4.对于具体的数据库，创建用户与上述步骤相同，角色不同。</p>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT主题个性化配置</title>
    <url>/next-config.html</url>
    <content><![CDATA[<blockquote>
<p>Hexo博客的NexT主题个性化配置记录</p>
</blockquote>
<p>本文中提及的<strong>站点配置文件</strong>代指位于博客站点根目录下的<code>_config.yml</code>文件，包含对Hexo博客本身的配置，而<strong>主题配置文件</strong>代指位于主题目录下的<code>_config.yml</code>文件，配置与主题相关的选项。</p>
<span id="more"></span>
<h2 id="1-设置网站图标Favicon-ico"><a href="#1-设置网站图标Favicon-ico" class="headerlink" title="1.设置网站图标Favicon.ico"></a>1.设置网站图标Favicon.ico</h2><p>从网上下载或制作一张(最好是32*32)你喜欢的图标，并将文件名改为<code>favicon.ico</code>，放在<code>/hexo-site/source/</code>文件夹下，修改主题配置文件：<br><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">favicon:</span> /favicon.ico</span><br></pre></td></tr></table></figure></p>
<h2 id="2-fork-me-on-github-ribbon"><a href="#2-fork-me-on-github-ribbon" class="headerlink" title="2.fork me on github ribbon"></a>2.fork me on github ribbon</h2><p>打开<a href="https://github.com/blog/273-github-ribbons">网页1</a>或<a href="http://tholman.com/github-corners">网页2</a>选择一个样式，复制样式对应的代码，粘贴到<code>themes/next/layout/_layout.swig</code>文件的<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>这一行代码下面，并将a标签的href属性改成你的github地址。</p>
<h2 id="3-修改网站字体大小与行高"><a href="#3-修改网站字体大小与行高" class="headerlink" title="3.修改网站字体大小与行高"></a>3.修改网站字体大小与行高</h2><p>打开<code>\themes\next\source\css\ _variables\base.styl</code>文件<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="variable">$font</span>-size-base = <span class="number">14</span>px     <span class="regexp">//</span> 修改字体大小</span><br><span class="line"><span class="variable">$line</span>-height-base = <span class="number">2</span>      <span class="regexp">//</span> 修改行高</span><br></pre></td></tr></table></figure></p>
<h2 id="4-主页和正文的文章添加阴影效果"><a href="#4-主页和正文的文章添加阴影效果" class="headerlink" title="4.主页和正文的文章添加阴影效果"></a>4.主页和正文的文章添加阴影效果</h2><p>打开<code>\themes\next\source\css\_custom\custom.styl</code>文件，加入以下代码<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line"><span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">-webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, .<span class="number">5</span>);</span><br><span class="line">-moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, .<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="5-主页文章阅读全文按钮调整"><a href="#5-主页文章阅读全文按钮调整" class="headerlink" title="5.主页文章阅读全文按钮调整"></a>5.主页文章阅读全文按钮调整</h2><p>打开<code>\themes\next\source\css\_custom\custom.styl</code>文件，加入以下代码<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-button</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="6-网站访问量统计"><a href="#6-网站访问量统计" class="headerlink" title="6.网站访问量统计"></a>6.网站访问量统计</h2><p>打开主题配置文件，找到如下代码，并修改<br><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_uv_header:</span> <span class="string">&lt;i</span> <span class="string">class=&quot;fa</span> <span class="string">fa-user&quot;&gt;</span> <span class="string">访客数&lt;/i&gt;</span></span><br><span class="line">  <span class="attr">site_uv_footer:</span></span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv_header:</span> <span class="string">&lt;i</span> <span class="string">class=&quot;fa</span> <span class="string">fa-eye&quot;&gt;</span> <span class="string">总访问量&lt;/i&gt;</span></span><br><span class="line">  <span class="attr">site_pv_footer:</span></span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv_header:</span> <span class="string">&lt;i</span> <span class="string">class=&quot;fa</span> <span class="string">fa-eye&quot;&gt;</span> <span class="string">热度&lt;/i&gt;</span></span><br><span class="line">  <span class="attr">page_pv_footer:</span> <span class="string">℃</span></span><br></pre></td></tr></table></figure></p>
<h2 id="7-打赏字体不闪动"><a href="#7-打赏字体不闪动" class="headerlink" title="7.打赏字体不闪动"></a>7.打赏字体不闪动</h2><p>修改文件<code>\themes\next\source\css\_common\components\post\post-reward.styl</code>，注释以下代码：<br><figure class="highlight nestedtext"><table><tr><td class="code"><pre><span class="line">/*</span><br><span class="line">  <span class="comment">#wechat:hover p&#123;</span></span><br><span class="line">    <span class="attribute">animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">    <span class="attribute">-webkit-animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">    <span class="attribute">-moz-animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">#alipay:hover p&#123;</span></span><br><span class="line">   <span class="attribute">animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">    <span class="attribute">-webkit-animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">    <span class="attribute">-moz-animation</span><span class="punctuation">:</span> <span class="string">roll 0.1s infinite linear;</span></span><br><span class="line">  &#125;</span><br><span class="line">  */</span><br></pre></td></tr></table></figure></p>
<h2 id="8-自定义鼠标样式"><a href="#8-自定义鼠标样式" class="headerlink" title="8.自定义鼠标样式"></a>8.自定义鼠标样式</h2><p>打开<code>themes\next\source\css\_custom\custom.styl</code>文件，添加如下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&quot;图片地址&quot;</span>),auto<span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&quot;图片地址&quot;</span>),auto<span class="meta">!important</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>注：url中的图片必须为ico文件</p>
<h2 id="9-修改两侧留白的大小"><a href="#9-修改两侧留白的大小" class="headerlink" title="9.修改两侧留白的大小"></a>9.修改两侧留白的大小</h2><p>打开<code>\themes\next\source\css\_variables\base.styl</code>文件，找到如下代码修改：<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="variable">$main</span>-desktop                   = <span class="number">1160</span>px   <span class="regexp">//</span></span><br><span class="line"><span class="variable">$main</span>-desktop-large             = <span class="number">1200</span>px</span><br><span class="line"></span><br><span class="line"><span class="variable">$content</span>-desktop                = <span class="number">900</span>px    <span class="regexp">//</span>低于<span class="number">1600</span>px的宽度</span><br><span class="line"><span class="variable">$content</span>-desktop-large          = <span class="number">900</span>px    <span class="regexp">//</span>大于<span class="number">1600</span>px的宽度</span><br></pre></td></tr></table></figure></p>
<h2 id="10-修改顶部加载条样式"><a href="#10-修改顶部加载条样式" class="headerlink" title="10.修改顶部加载条样式"></a>10.修改顶部加载条样式</h2><p>打开<code>themes\next\source\css\_custom\custom.styl</code>文件，添加如下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#0d0c0c</span>;  <span class="comment">/*进度条颜色*/</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress-inner</span> &#123;</span><br><span class="line">     <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#0d0c0c</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>     <span class="number">#0d0c0c</span>;  <span class="comment">/*阴影颜色*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-activity</span> &#123;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#0d0c0c</span>;    <span class="comment">/*上边框颜色*/</span></span><br><span class="line">    <span class="attribute">border-left-color</span>: <span class="number">#0d0c0c</span>;    <span class="comment">/*左边框颜色*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="11-h2标题底部横线"><a href="#11-h2标题底部横线" class="headerlink" title="11.h2标题底部横线"></a>11.h2标题底部横线</h2><p>打开<code>themes\next\source\css\_custom\custom.styl</code>文件，添加如下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-body</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="12-自定义代码块样式"><a href="#12-自定义代码块样式" class="headerlink" title="12.自定义代码块样式"></a>12.自定义代码块样式</h2><p>打开<code>themes\next\source\css\_custom\custom.styl</code>文件，添加如下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff7600</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*大代码块的自定义样式*/</span></span><br><span class="line"><span class="selector-class">.highlight</span>, pre &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, pre &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="13-网站侧边栏作者头像旋转"><a href="#13-网站侧边栏作者头像旋转" class="headerlink" title="13.网站侧边栏作者头像旋转"></a>13.网站侧边栏作者头像旋转</h2><p>打开<code>\themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code>，添加以下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: $site-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: $site-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: $site-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 头像圆形 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  -webkit-<span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  -moz-<span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> #<span class="number">333s</span>f;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束(1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ] */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  -webkit-<span class="attribute">transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 鼠标经过停止头像旋转</span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Z 轴旋转动画 */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> play &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="14-修改文章中链接文本样式"><a href="#14-修改文章中链接文本样式" class="headerlink" title="14.修改文章中链接文本样式"></a>14.修改文章中链接文本样式</h2><p>修改文件<code>themes\next\source\css\_common\components\post\post.styl</code>，在末尾添加如下代码：<br><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript学习笔记</title>
    <url>/javascript-note.html</url>
    <content><![CDATA[<p>JavaScript学习过程中的一些笔记，不定期更新。</p>
<span id="more"></span>
<h2 id="JavaScript与Html"><a href="#JavaScript与Html" class="headerlink" title="JavaScript与Html"></a>JavaScript与Html</h2><ul>
<li>JavaScript = ECMAScript + DOM(文档对象模型) + BOM(浏览器对象模型)  </li>
<li>HTML页面中<code>&lt;script&gt;</code>标签type属性默认为text/javascript。</li>
<li>在使用<code>&lt;script&gt;</code>标签嵌入html页面时，只需指定type属性即可。嵌入的js代码中不要包含<code>&lt;/script&gt;</code>字符串，浏览器会认为其是结束标签。</li>
<li>html包含外部js文件时，必需指定src属性，必需有闭合标签<code>&lt;/script&gt;</code>，两个标签之中不能含有js代码（不会被执行）。</li>
<li>现代Web应用程序一般把js引用全部放在body元素中内容的后面，使附录中的步骤2,3滞后。</li>
<li>defer属性会使js<strong>外部脚本</strong>延迟到整个html页面加载完毕后再执行。</li>
<li>async属性会使js<strong>外部脚本</strong>会在页面load事件之前执行，但可能会在DOMContentLoaded事件之前或之后执行。</li>
<li>所有<code>&lt;script&gt;</code>元素都会按照在页面中出现的顺序依次解析（不包含defer、async属性）。</li>
</ul>
<p>附: DOM文档加载的步骤：参考<a href="http://www.cnblogs.com/caizhenbo/p/6679478.html">事件DOMContentLoaded和load的区别</a></p>
<ol>
<li>解析HTML结构。</li>
<li>加载外部脚本和样式表文件。</li>
<li>解析并执行脚本代码。</li>
<li>DOM树构建完成。//DOMContentLoaded</li>
<li>加载图片等外部文件。</li>
<li>页面加载完毕。//load</li>
</ol>
<ul>
<li>文档开始处没有文档类型声明，则浏览器默认开启混杂模式（包含非标准类型）。HTML5页面的标准模式文档类型声明为<code>&lt;!DOCTYPE html&gt;</code>。</li>
<li><code>&lt;noscript&gt;</code>元素中的内容在浏览器不支持脚本或者脚本被禁用时显示。</li>
<li>js启用严格模式<code>&quot;use strict&quot;</code>(脚本文件的顶部或函数体内容的开头声明)，严格模式的不同如下：<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>八进制<span class="built_in">Number</span>变量无效</span><br><span class="line"><span class="number">2.</span>不允许使用严格模式</span><br><span class="line"><span class="number">3.</span>初始化未经声明的变量会导致错误</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><ul>
<li>标识符第一个字符可以为<code>$</code>，采用驼峰大小写格式，第一个字母小写，剩下的每个有意义的单词的首字母大写。</li>
<li>建议使用分号结尾，建议使用<code>&#123;&#125;</code>组织代码块（即使代码块只有一行）。</li>
<li>js变量为松散类型（可以用来保存任何类型-弱类型语言），不建议修改变量所保存值的类型，但是修改有效。</li>
<li>使用var定义的变量成为定义该变量的作用域中的局部变量，不使用var定义则为全局变量（不推荐）。</li>
<li>一条语句定义多个变量<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;hi&quot;</span>,</span><br><span class="line">    found = <span class="literal">false</span>,</span><br><span class="line">    age = <span class="number">29</span>;</span><br></pre></td></tr></table></figure></li>
<li>js包括五种基本数据类型:<code>Undefined</code>, <code>Null</code>, <code>Boolean</code>, <code>Number</code>, <code>String</code>和一种复杂类型<code>Object</code>（本质是一组无序的键值对组成)。</li>
<li><code>typeof</code>操作符结果有：<code>undefined</code>, <code>boolean</code>, <code>string</code>, <code>number</code>, <code>object</code>, <code>function</code>，<code>typeof</code>后可不接圆括号，<code>typeof null = object</code>(空的对象引用)。</li>
<li><code>Undefined</code>类型只有唯一值<code>undefined</code>，如用<code>var</code>进行变量声明但未初始化时该变量的值即为<code>undefined</code>，对未初始化和未声明的变量执行<code>typeof</code>操作都返回<code>undefined</code>。</li>
<li><code>Null</code>类型只有唯一值<code>null</code>,如果定义的变量用来保存对象，最好将其初始化为<code>null</code>,可与<code>undefined</code>区分开。</li>
<li><code>undefined == null // true</code></li>
<li><code>Boolean</code>类型有两个字面值<code>true</code>和<code>false</code>(与<code>True</code>,<code>False</code>两个<strong>标识符</strong>区分)。对任何数据类型调用Boolean()函数都可返回Boolean值，取决于该数据类型及其对应转化规则</li>
</ul>
<table>
<thead>
<tr>
<th>数据类型</th>
<th style="text-align:center">转换为true</th>
<th style="text-align:center">转换为false</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td style="text-align:center">true</td>
<td style="text-align:center">false</td>
</tr>
<tr>
<td>String</td>
<td style="text-align:center">非空字符串</td>
<td style="text-align:center">“”空字符串</td>
</tr>
<tr>
<td>Number</td>
<td style="text-align:center">非零数值（无穷大）</td>
<td style="text-align:center">0和NaN</td>
</tr>
<tr>
<td>Object</td>
<td style="text-align:center">任何对象</td>
<td style="text-align:center">null</td>
</tr>
<tr>
<td>Undefined</td>
<td style="text-align:center">无</td>
<td style="text-align:center">undefined</td>
</tr>
<tr>
<td>Null</td>
<td style="text-align:center">无</td>
<td style="text-align:center">null</td>
</tr>
</tbody>
</table>
<ul>
<li>浮点数值必须包含一个小数点，小数点前可以没数字（不推荐），但小数点后至少有一个数字。</li>
<li>保存浮点数的内存空间是保存整值的两倍（为节省空间，1.0会自动解析为1）。</li>
<li>浮点数值最高精度是17位小数，0.1 + 0.2 = 0.30000000000000004.</li>
<li><code>Number.MIN_VALUE = 5e-324</code> <code>Number.MAX_VALUE = 1.7976931348623157e+308</code>，计算结果超出此范围则转换为(+/-)Infinity,Infinity值无法参与计算，<code>ifFinite()</code>可判断某个数值是否在此范围内。</li>
<li>NaN(Not a Number)表示本来要返回数值的操作数未返回数值的情况。</li>
<li>isNaN判断一个值能否被转换为数值，是为false，否为true</li>
<li>Number() parseInt() parseFloat()的用法。</li>
<li>双字节字符：单字节指只占一个字，英文字符。双字是占两个字节的，中文字符占两个字节。</li>
<li>ECMAScript中字符串不可变，拼接字符串会先创建两字符串拼接后长度的字符串，然后填充，最后销毁拼接的两个字符串。</li>
<li>null和undefined无toString()方法，toString()可带一个指定输出数值的基数作为参数，如num.toString(2)=1000(num=8)，String()函数可以对null和undefined输出。</li>
<li>Object的每个实例都有如下属性和方法：<ol>
<li>Constructor：构建函数，<code>var o = Object()</code>的构建函数就是<code>Object()</code></li>
<li>hasOwnProperty(propertyName)：用于检查给定属性是否存在于当前对象实例中，参数必须为字符串。</li>
<li>isPrototypeOf(object)：检查传入的对象是否是另一个对象的原型。</li>
<li>propertyIsEnumerable(propertyName)：检查给定属性是否能用<code>for-in</code>语句进行枚举。</li>
<li>toLocaleString()：返回对象的字符串表示，该字符串与执行环境的地区对应。</li>
<li>toString()：返回对象的字符串表示。</li>
<li>valueOf()：返回对象的字符串、数值或布尔值表示。</li>
</ol>
</li>
<li>有符号整数存储：第31位保存符(0正1负)，正数为二进制，负数为取反加一。</li>
<li>按位非<code>~</code>:操作数的负值减一；按位与<code>&amp;</code>,按位或<code>|</code>,按位异或<code>^</code></li>
<li>左移：左移n位，原数值的右侧多出n个空位，会以0填充这些空位，但左移不影响符号位。</li>
<li>有符号右移(<code>&gt;&gt;</code>)：右移n位(除符号位)，原数值的左侧、符号位的右侧多出n个空位，会以符号位的值填充这些空位。</li>
<li>无符号右移(<code>&gt;&gt;&gt;</code>)：将所有位(包括)右移n位，右侧用0填充这些空位。</li>
<li>逻辑与与逻辑或都为<strong>短路操作符</strong>，即第一个操作数结果决定，就不会对后面操作数求值。</li>
<li>相等(==)——先转换后比较，全等(===)——仅比较不转换。转换原则如下：<ol>
<li>有一个操作数为布尔值，将其转换为数值——false转0，true转1</li>
<li>字符串与数值相比较，字符串先转成数值</li>
<li>有一个操作数为对象，另一个不是，则调用对象的valueOf()方法</li>
<li>如果两个操作数都是对象，则比较是不是同一个对象。</li>
<li><code>null == undefined(√)</code>  <code>null === undefined(×)</code>  <code>NaN == NaN(×)</code></li>
</ol>
</li>
<li>switch语句在比较值时使用的是全等操作符，因此不会发生类型转换。</li>
<li>函数return语句可不带返回值，此时函数在停止执行后会返回undefined值。</li>
<li>定义两个名字相同的函数，则该名字只属于后定义的函数(无重载)。通过检查传入函数中参数(arguments对象)的类型和数量并作出不同的反应，可模仿函数的重载。</li>
<li>基本类型变量复制，会在变量对象上创建一个新值，然后把该值复制到为新变量分配的位置上，复制后这两个变量参与的操作互不影响。</li>
<li>引用类型变量复制，将存储在变量对象中的值复制一份放到为新变量分配的空间，此值为一个指针，指向存储在堆中的一个对象，复制后两个变量实际上引用同一个对象。</li>
<li>ECMAScript中所有函数的参数都是按值传递的，可以把函数的参数看作局部变量。</li>
<li>确定一个值是哪种基本类型使用<code>typeof</code>操作符，是哪种引用类型使用<code>instanceof</code>操作符。所有引用类型的值都是Object的实例。</li>
<li>内部环境可以通过作用域链访问所有的外部环境，但外部环境不能访问内部环境中的任何变量和函数。如果内部环境中存在着同名标识符，就不会使用位于外部环境的标识符。</li>
<li>不存在块级作用域，如由for循环创建的变量i即使在for循环执行结束后，也会存在于循环外部的执行环境中。</li>
<li>‘标记清除’是目前主流的垃圾收集算法，给当前不使用的值加上标记，然后回收其内存。</li>
</ul>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><ul>
<li><p>函数的Rest参数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...m</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> total = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">of</span> m) &#123;</span><br><span class="line">    total += i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>扩展</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...[<span class="number">4</span>, <span class="number">8</span>]); <span class="comment">// 4 8</span></span><br><span class="line">[...arr1, ...arr2]      <span class="comment">// 拼接数组arr1和arr2</span></span><br><span class="line"><span class="keyword">var</span> [x, ...y] = [<span class="number">4</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">30</span>]   <span class="comment">// y = [8, 10, 30]</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = <span class="string">&#x27;ES6&#x27;</span>  <span class="comment">// a=&#x27;E&#x27; b=&#x27;S&#x27; c=&#x27;6&#x27;</span></span><br><span class="line"><span class="keyword">let</span> d = [...<span class="string">&#x27;ES6&#x27;</span>]     <span class="comment">// d = [&#x27;E&#x27;, &#x27;S&#x27;, &#x27;6&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Promise</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> checkLogin = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">/* 固定写法 */</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(&#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">result</span>: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getUserInfo</span> = (<span class="params"></span>)=&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> userInfo = &#123;</span><br><span class="line">      <span class="attr">userId</span>: <span class="string">&#x27;101&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">resolve</span>(userInfo);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">checkLogin</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(res.<span class="property">status</span> == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;login success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">getUserInfo</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`errors:<span class="subst">$&#123; err &#125;</span>`</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res2</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`userId:<span class="subst">$&#123; res2.userId &#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/* 同时调用多个接口 */</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">checkLogin</span>(), getUserInfo)()]).<span class="title function_">then</span>(<span class="function">(<span class="params">[res1, res2]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`res1:<span class="subst">$&#123; res1.result&#125;</span>, res2:<span class="subst">$&#123; res2.userId &#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="import与export"><a href="#import与export" class="headerlink" title="import与export"></a>import与export</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* util.js */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">x, y</span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span>    <span class="comment">// sum()直接调用</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span>  <span class="comment">// util.sum()调用</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Frontend</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>VPS配置Git Hooks实现hexo博客更新</title>
    <url>/hexo-git-vps.html</url>
    <content><![CDATA[<p>客户端使用Hexo生成静态文件，通过Git推送到VPS的Git仓库。VPS配置Git Hooks,将静态文件同步到站点目录，实现hexo博客更新。</p>
<span id="more"></span>
<h2 id="本机准备工作"><a href="#本机准备工作" class="headerlink" title="本机准备工作"></a>本机准备工作</h2><ul>
<li>安装Hexo环境</li>
<li>安装Git</li>
<li>生成ssh秘钥</li>
</ul>
<h2 id="VPS配置工作"><a href="#VPS配置工作" class="headerlink" title="VPS配置工作"></a>VPS配置工作</h2><p>VPS以CentOS 7为例，使用Xshell5连接到VPS，登录root账户。</p>
<h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git --version    <span class="comment"># 查看系统是否安装git</span></span><br><span class="line">yum install git  <span class="comment"># 安装git</span></span><br><span class="line">yum remove git   <span class="comment"># 卸载git</span></span><br></pre></td></tr></table></figure>
<h3 id="新建用户"><a href="#新建用户" class="headerlink" title="新建用户"></a>新建用户</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adduser git</span><br><span class="line"><span class="built_in">chmod</span> 740 /etc/sudoers</span><br><span class="line">vi /etc/sudoers</span><br></pre></td></tr></table></figure>
<p>在vi编辑器中找到如下行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## Allow root to run any commands anywhere</span></span><br><span class="line">root    ALL=(ALL)     ALL</span><br></pre></td></tr></table></figure>
<p>在下面新增一行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git   ALL=(ALL)     ALL</span><br></pre></td></tr></table></figure>
<p>保存后退出(linux命令 :wq)，执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 440 /etc/sudoers</span><br></pre></td></tr></table></figure>
<h3 id="新建git仓库"><a href="#新建git仓库" class="headerlink" title="新建git仓库"></a>新建git仓库</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> .ssh &amp;&amp; <span class="built_in">cd</span> .ssh</span><br><span class="line"><span class="built_in">touch</span> authorized_keys</span><br><span class="line">vi authorized_keys   <span class="comment"># 粘贴进本地机器的ssh公钥（一般在C:\Users\用户名\.ssh\id_rsa.pub文件中）</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> hexo.git &amp;&amp; <span class="built_in">cd</span> hexo.git</span><br><span class="line">git init --bare      <span class="comment"># 初始化git仓库</span></span><br></pre></td></tr></table></figure>
<h3 id="ssh连接测试"><a href="#ssh连接测试" class="headerlink" title="ssh连接测试"></a>ssh连接测试</h3><p>在<code>git bash</code>命令行中输入<code>ssh git@VPS的IP地址</code>，如果能登录远程主机，则表示Git配置成功</p>
<blockquote>
<p>ssh可同时支持publickey和password两种授权方式，publickey默认不开启，开启配置为yes。<br>如果客户端不存在.ssh/id_rsa，则使用password授权。<br>存在则使用publickey授权；如果publickey授权失败，依然会继续使用password授权。</p>
</blockquote>
<h3 id="赋予git用户对网站目录的权限"><a href="#赋予git用户对网站目录的权限" class="headerlink" title="赋予git用户对网站目录的权限"></a>赋予git用户对网站目录的权限</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/html                        <span class="comment"># apache服务器的网站根目录</span></span><br><span class="line"><span class="built_in">mkdir</span> blog                              <span class="comment"># 新建blog文件夹用以放置hexo博客文件</span></span><br><span class="line"><span class="built_in">chown</span> git:git -R /var/www/html/blog     <span class="comment"># 将目录所有者改为git用户</span></span><br></pre></td></tr></table></figure>
<h3 id="配置Git-Hooks"><a href="#配置Git-Hooks" class="headerlink" title="配置Git Hooks"></a>配置Git Hooks</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su git</span><br><span class="line"><span class="built_in">cd</span> /home/git/hexo.git/hooks</span><br><span class="line"><span class="built_in">touch</span> post-receive      <span class="comment">#  新建脚本文件</span></span><br><span class="line">vi post-receive</span><br></pre></td></tr></table></figure>
<p>在vi编辑中输入以下代码后保存退出</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">  GIT_REPO=/home/git/hexo.git    <span class="comment"># git仓库</span></span><br><span class="line">  TMP_GIT_CLONE=/tmp/hexo</span><br><span class="line">  PUBLIC_WWW=/var/www/html/blog  <span class="comment"># 网站目录</span></span><br><span class="line">  <span class="built_in">rm</span> -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span></span><br><span class="line">  git <span class="built_in">clone</span> <span class="variable">$GIT_REPO</span> <span class="variable">$TMP_GIT_CLONE</span></span><br><span class="line">  <span class="built_in">rm</span> -rf <span class="variable">$&#123;PUBLIC_WWW&#125;</span>/*</span><br><span class="line">  <span class="built_in">cp</span> -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span>/* <span class="variable">$&#123;PUBLIC_WWW&#125;</span></span><br><span class="line">  <span class="built_in">chmod</span> +x post-receive          <span class="comment"># 赋予脚本的执行权限</span></span><br></pre></td></tr></table></figure>
<h2 id="本机配置工作"><a href="#本机配置工作" class="headerlink" title="本机配置工作"></a>本机配置工作</h2><p>进入本地hexo博客文件夹，打开站点配置文件<code>_config.yml</code>,修改deploy选项</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo:</span><br><span class="line">    github: git@github.com:ChangingFond/ChangingFond.github.io.git  <span class="comment">#同步到GitHub</span></span><br><span class="line">    vps: git@vps的ip:hexo.git仓库地址,master  <span class="comment">#同步到自己的VPS</span></span><br><span class="line">  branch: master</span><br><span class="line">  message: Hexo Blog updated - &#123;&#123; now(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>) &#125;&#125;)</span><br></pre></td></tr></table></figure>
<p>按住shift右击，选择在此处打开命令窗口，运行<code>hexo g -d</code>,如果一切正常，静态文件已经被成功的push到了blog的仓库里。<br>至此，我们完成了通过git将hexo博客部署到VPS上的功能。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>感谢以下作者的文章对笔者的帮助</p>
<ul>
<li><a href="http://tiktoking.github.io/2016/01/26/hexo/">在VPS上搭建hexo博客，利用git更新</a></li>
<li><a href="https://www.hansoncoder.com/2016/03/02/VPS-building-Hexo/">VPS(CentOS)搭建Hexo博客与Git Hooks更新</a></li>
<li><a href="http://sobaigu.com/Hexo-git-to-vps.html">开始新的折腾，Hexo博客Git-VPS部署完整记录</a></li>
</ul>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ul>
<li><h4 id="ssh使用公钥授权免密登录不通过Permission-denied-publickey-gssapi-keyex-gssapi-with-mic"><a href="#ssh使用公钥授权免密登录不通过Permission-denied-publickey-gssapi-keyex-gssapi-with-mic" class="headerlink" title="ssh使用公钥授权免密登录不通过Permission denied(publickey,gssapi-keyex,gssapi-with-mic)"></a>ssh使用公钥授权免密登录不通过Permission denied(publickey,gssapi-keyex,gssapi-with-mic)</h4><p>  尝试以下步骤：<br>  1.运行<code>vi /etc/ssh/sshd_config</code>，找到以下代码，按如下格式修改</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">RSAAuthentication <span class="built_in">yes</span></span><br><span class="line">PubkeyAuthentication <span class="built_in">yes</span></span><br><span class="line">StrictModes no</span><br><span class="line">AuthorizedKeysFile  .ssh/authorized_keys  </span><br></pre></td></tr></table></figure>
<p>  保存后退出，重启sshd服务</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sshd服务相关命令</span></span><br><span class="line">systemctl restart sshd.service</span><br><span class="line">systemctl status sshd.service   <span class="comment"># 查看ssh服务的状态</span></span><br><span class="line">systemctl start sshd.service    <span class="comment"># 开启ssh服务</span></span><br><span class="line">sytemctl <span class="built_in">enable</span> sshd.service    <span class="comment"># ssh服务随开机启动，反之disabled</span></span><br><span class="line">systemctl stop sshd.ervice      <span class="comment"># 停止ssh服务</span></span><br></pre></td></tr></table></figure>
<p>  2.修改文件夹以及文件权限</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 700 /home/git/.ssh</span><br><span class="line"><span class="built_in">chmod</span> 644 /home/git/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>
<p>  3.关闭SELinux</p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">setenforce 0            <span class="comment"># 暂时关闭，重启后恢复</span></span><br><span class="line"></span><br><span class="line">vi /etc/selinux/config  <span class="comment"># 永久关闭</span></span><br><span class="line">SELINUX=disabled  </span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vps</tag>
        <tag>hexo</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS 7安装锐速高速上网</title>
    <url>/server-speeder.html</url>
    <content><![CDATA[<p>锐速serverspeeder是一款TCP网络加速软件，能在Linux系统和Windows系统的服务器中安装，安装后能启到提高网络连接稳定性、带宽利用率、低访问失败率等作用，从而提高服务器网络访问速度。锐速并非实际增大服务器带宽，只是提高网络的稳定性和利用率而已。</p>
<span id="more"></span>
<h2 id="安装之前"><a href="#安装之前" class="headerlink" title="安装之前"></a>安装之前</h2><p>锐速破解版linux一键自动安装包是由@<a href="https://github.com/91yun/serverspeeder">91yun</a>发布的，无限带宽版。锐速只支持在XEN和KVM虚拟技术价格的VPS中安装，不支持在OpenVZ虚拟技术架构的VPS安装，推荐在KVM VPS中安装。目前此一键安装包已支持在CentOS，ubuntu和debian系统中安装，而且能自动匹配服务器内核是否支持安装，如果支持就会全自动下载安装，无需任何操作；如果内核不支持，则必须更换合适的VPS内核才能完成安装。</p>
<h2 id="内核支持"><a href="#内核支持" class="headerlink" title="内核支持"></a>内核支持</h2><ul>
<li>CentOS-6.8：2.6.32-642.el7.x86_64</li>
<li>CentOS-7.2：3.10.0-327.el7.x86_64</li>
<li>CentOS：4.4.0-x86_64-linode63</li>
<li>Ubuntu_14.04：4.2.0-35-generic</li>
<li>Debian_8：3.16.0-4-amd64</li>
</ul>
<h2 id="安装脚本"><a href="#安装脚本" class="headerlink" title="安装脚本"></a>安装脚本</h2><p>root账户登录，执行<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">wget -N --no-check-certificate https:<span class="regexp">//gi</span>thub.com<span class="regexp">/91yun/</span>serverspeeder<span class="regexp">/raw/m</span>aster/serverspeeder.sh</span><br><span class="line">bash serverspeeder.sh</span><br></pre></td></tr></table></figure></p>
<h2 id="卸载脚本"><a href="#卸载脚本" class="headerlink" title="卸载脚本"></a>卸载脚本</h2><p>root账户登录，执行<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">chattr -i <span class="regexp">/serverspeeder/</span>etc<span class="regexp">/apx* &amp;&amp; /</span>serverspeeder<span class="regexp">/bin/</span>serverSpeeder.sh uninstall -f</span><br></pre></td></tr></table></figure></p>
<h2 id="CentOS-7更换内核"><a href="#CentOS-7更换内核" class="headerlink" title="CentOS 7更换内核"></a>CentOS 7更换内核</h2><p>CentOS 7支持安装锐速的内核：3.10.0-327.el7.x86_64<br>root账户登录，执行以下命令</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">rpm</span> -ivh http://soft.<span class="number">91</span>yun.org/ISO/Linux/CentOS/kernel/kernel-<span class="number">3</span>.<span class="number">10</span>.<span class="number">0</span>-<span class="number">229</span>.<span class="number">1</span>.<span class="number">2</span>.el7.x86_64.rpm --force</span><br><span class="line"><span class="attribute">rpm</span> -qa | grep kernel  # 查看内核是否安装成功</span><br></pre></td></tr></table></figure>
<h2 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h2><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">service serverSpeeder <span class="literal">start</span>     <span class="comment"># 启动</span></span><br><span class="line">service serverSpeeder <span class="literal">stop</span>      <span class="comment"># 停止</span></span><br><span class="line">service serverSpeeder reload    <span class="comment"># 重新加载配置</span></span><br><span class="line">service serverSpeeder restart   <span class="comment"># 重启</span></span><br><span class="line">service serverSpeeder status    <span class="comment"># 状态</span></span><br><span class="line">service serverSpeeder stats     <span class="comment"># 统计</span></span><br><span class="line">service serverSpeeder renewLic  <span class="comment"># 更新许可文件</span></span><br><span class="line">service serverSpeeder update    <span class="comment"># 更新</span></span><br></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://www.wn789.com/4689.html">如何修改CentOS6、CentOS7内核支持安装锐速的内核</a></li>
<li><a href="https://www.wn789.com/4678.html">锐速ServerSpeeder无限带宽破解版一键安装包</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vps</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS 7安装Shadowsocks实现科学上网</title>
    <url>/centos-ss.html</url>
    <content><![CDATA[<blockquote>
<p>手动搭梯子，跨越GFW。</p>
</blockquote>
<span id="more"></span>
<h2 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h2><ul>
<li>CentOS 7</li>
<li>Python环境</li>
<li>Python包管理工具pip</li>
</ul>
<h2 id="安装脚本"><a href="#安装脚本" class="headerlink" title="安装脚本"></a>安装脚本</h2><p>使用Xshell5连接到VPS，登录root账户，执行以下命令<br><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate https:<span class="regexp">//</span>raw.githubusercontent.com<span class="regexp">/teddysun/</span>shadowsocks_install<span class="regexp">/master/</span>shadowsocks.sh</span><br><span class="line">chmod +x shadowsocks.sh</span><br><span class="line">./shadowsocks.sh <span class="number">2</span>&gt;&amp;<span class="number">1</span> | tee shadowsocks.log</span><br></pre></td></tr></table></figure></p>
<p>安装完成后，提示如下（安装脚本已设置开启自动启动）<br><figure class="highlight oxygene"><table><tr><td class="code"><pre><span class="line">Congratulations, shadowsocks install completed!</span><br><span class="line">Your Server IP:your_server_ip</span><br><span class="line">Your Server Port:<span class="number">8989</span></span><br><span class="line">Your Password:your_password</span><br><span class="line">Your Local IP:<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">Your Local Port:<span class="number">1080</span></span><br><span class="line">Your Encryption <span class="keyword">Method</span>:aes-<span class="number">256</span>-cfb</span><br><span class="line"></span><br><span class="line">Welcome <span class="keyword">to</span> visit:http:<span class="comment">//teddysun.com/342.html</span></span><br><span class="line">Enjoy it!</span><br></pre></td></tr></table></figure></p>
<h2 id="卸载脚本"><a href="#卸载脚本" class="headerlink" title="卸载脚本"></a>卸载脚本</h2><p>root账户登录，执行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./shadowsocks.sh uninstall</span><br></pre></td></tr></table></figure></p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>配置文件路径<code>/etc/shadowsocks.json</code></p>
<ul>
<li>单用户配置<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span><span class="string">&quot;your_server_ip&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;server_port&quot;</span><span class="punctuation">:</span><span class="number">8989</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;local_address&quot;</span><span class="punctuation">:</span><span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;local_port&quot;</span><span class="punctuation">:</span><span class="number">1080</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span><span class="string">&quot;yourpassword&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;aes-256-cfb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;fast_open&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>多用户配置<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span><span class="string">&quot;your_server_ip&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;local_address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;local_port&quot;</span><span class="punctuation">:</span><span class="number">1080</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;port_password&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">       <span class="attr">&quot;8989&quot;</span><span class="punctuation">:</span><span class="string">&quot;password0&quot;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;9001&quot;</span><span class="punctuation">:</span><span class="string">&quot;password1&quot;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;9002&quot;</span><span class="punctuation">:</span><span class="string">&quot;password2&quot;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;9003&quot;</span><span class="punctuation">:</span><span class="string">&quot;password3&quot;</span><span class="punctuation">,</span></span><br><span class="line">       <span class="attr">&quot;9004&quot;</span><span class="punctuation">:</span><span class="string">&quot;password4&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeout&quot;</span><span class="punctuation">:</span><span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;method&quot;</span><span class="punctuation">:</span><span class="string">&quot;aes-256-cfb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;fast_open&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d/shadowsocks start    <span class="comment"># 启动</span></span><br><span class="line"><span class="regexp">/etc/i</span>nit.d/shadowsocks stop     <span class="comment"># 停止</span></span><br><span class="line"><span class="regexp">/etc/i</span>nit.d/shadowsocks restart  <span class="comment"># 重启</span></span><br><span class="line"><span class="regexp">/etc/i</span>nit.d/shadowsocks status   <span class="comment"># 状态</span></span><br></pre></td></tr></table></figure>
<h2 id="客户端连接"><a href="#客户端连接" class="headerlink" title="客户端连接"></a>客户端连接</h2><ul>
<li><h3 id="windows客户端"><a href="#windows客户端" class="headerlink" title="windows客户端"></a>windows客户端</h3><p>  <a href="http://pan.baidu.com/s/1o8aBvL4">Shadowsocks-Win</a>  密码：m7bh<br>  下载后解压，运行，填入配置信息，可查看配置文件<code>/etc/shadowsocks.json</code></p>
</li>
<li><h3 id="谷歌-360-浏览器-Proxy-SwitchyOmega"><a href="#谷歌-360-浏览器-Proxy-SwitchyOmega" class="headerlink" title="谷歌(360)浏览器 + Proxy SwitchyOmega"></a>谷歌(360)浏览器 + Proxy SwitchyOmega</h3><p>1.安装好SwitchyOmega后，在选项-左侧情景模式点击新建情景模式<br>2.选择代理服务器，填写名称（例如Vultr），按下图填写配置后保存<br><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/17-9-11/51747606.jpg" alt=""><br>3.再新建情景模式，选择自动切换模式，填写情景模式名称，导入在线列表规则-添加规则列表；<br>4.规则列表规则选择第二步配置好的SS，规则列表格式选择AutoProxy；<br>5.规则列表网址，填<a href="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</a><br><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/17-9-11/6771281.jpg" alt=""></p>
</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="https://teddysun.com/342.html">Shadowsocks Python版一键安装脚本</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>vps</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo多机同步方案</title>
    <url>/hexo-multi-snyc.html</url>
    <content><![CDATA[<p>Hexo博客的本质是将Markdown格式的文章转化成html页面发布到托管容器中，如何将博客的源代码同步到不同机器，实现多机同布博客显得尤为重要。</p>
<span id="more"></span>
<h2 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h2><ol>
<li>在github上创建远程Git仓库，命名为ChangingFond.github.io；</li>
<li>为此仓库创建两个分支，master与hexo；</li>
<li>hexo分支用以存放博客源代码，master用以存放生成的静态博客文件（反之亦可）；</li>
<li>克隆ChangingFond.github.io仓库的hexo分支，并将博客源代码文件push；</li>
<li>修改站点配置文件<code>_config.yml</code>中的deploy参数<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">    type:</span> git</span><br><span class="line"><span class="symbol">    repo:</span></span><br><span class="line">        <span class="meta"># 将生成的博客静态文件同步到master分支</span></span><br><span class="line"><span class="symbol">        github:</span> git@github.com:ChangingFond/ChangingFond.github.io.git,master  </span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ul>
<li><p>在本地修改博客的源代码（如样式）或发布新博文后<br>  1.依次执行<code>git add .</code> <code>git commit -m “…”</code> <code>git push origin hexo</code>指令将改动推送到GitHub的hexo分支；<br>  2.执行<code>hexo g -d</code>命令将网站发布到github的master分支或VPS上；</p>
</li>
<li><p>当更换机器或者重装电脑（无博客源代码）<br>  1.使用<code>git clone -b hexo git@github.com:ChangingFond/ChangingFond.github.io.git</code>拷贝仓库<br>  2.在本地新拷贝的<code>ChangingFond.github.io.git</code>文件夹下通过<code>git bash</code>执行<code>npm install</code>指令（无需执行hexo init）</p>
<blockquote>
<p>若使用hexo init，则站点的配置文件_config.yml里面内容会被清空使用默认值</p>
</blockquote>
<p>  3.在多台电脑上同时写作，只需要在写作之前进行<code>git pull</code>，写作之后进行<code>git push</code> <code>hexo g -d</code></p>
</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://eimsteim.github.io/2016/07/03/Hexo%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C-%E5%A4%9A%E6%9C%BA%E5%90%8C%E6%AD%A5%E5%8F%91%E5%B8%83%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">Hexo使用体验-多机同步发布解决方案</a></li>
<li><a href="http://crazymilk.github.io/2015/12/28/GitHub-Pages-Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">GitHub Pages + Hexo搭建博客</a></li>
</ul>
]]></content>
      <categories>
        <category>技术人生</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>获取指定路径下的文件类型及数量</title>
    <url>/file-extension-scan.html</url>
    <content><![CDATA[<p>C#实现指定路径，扫描该路径下所有文件，统计文件类型及其对应数量</p>
<span id="more"></span>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.IO;</span><br><span class="line"></span><br><span class="line">namespace FileExtensionScan</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> Program</span><br><span class="line">    &#123;</span><br><span class="line">        Dictionary&lt;String, <span class="built_in">int</span>&gt; pList = <span class="keyword">new</span> Dictionary&lt;String, <span class="built_in">int</span>&gt;<span class="literal">()</span>; <span class="comment">//字典形式&#123;后缀：数量&#125;</span></span><br><span class="line">        <span class="built_in">int</span> fileNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        public void <span class="constructor">GetFileNum(<span class="params">string</span> <span class="params">srcPath</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 得到源目录的文件列表，该里面是包含文件以及目录路径的一个数组</span></span><br><span class="line">                <span class="built_in">string</span><span class="literal">[]</span> fileList = System.IO.Directory.<span class="constructor">GetFileSystemEntries(<span class="params">srcPath</span>)</span>;</span><br><span class="line">                <span class="comment">// 遍历所有的文件和目录</span></span><br><span class="line">                foreach (<span class="built_in">string</span> file <span class="keyword">in</span> fileList)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// 先当作目录处理如果存在这个目录就重新调用GetFileNum(string srcPath)</span></span><br><span class="line">                    <span class="keyword">if</span> (Directory.<span class="constructor">Exists(<span class="params">file</span>)</span>)</span><br><span class="line">                        <span class="constructor">GetFileNum(<span class="params">file</span>)</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        fileNum++;</span><br><span class="line">                        <span class="built_in">string</span> ext = Path.<span class="constructor">GetExtension(<span class="params">file</span>)</span>.<span class="constructor">ToLower()</span>;</span><br><span class="line">                        <span class="keyword">if</span> (pList.<span class="constructor">ContainsKey(<span class="params">ext</span>)</span><span class="operator"> == </span><span class="literal">false</span>)</span><br><span class="line">                            pList.<span class="constructor">Add(<span class="params">ext</span>, 1)</span>;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            pList<span class="literal">[<span class="identifier">ext</span>]</span>++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.<span class="constructor">WriteLine(<span class="params">e</span>.ToString()</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        static void <span class="constructor">Main(<span class="params">string</span>[] <span class="params">args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Program p = <span class="keyword">new</span> <span class="constructor">Program()</span>;</span><br><span class="line">            p.<span class="constructor">GetFileNum(<span class="params">args</span>[0])</span>; <span class="comment">//获取目录路径，第一个命令行参数</span></span><br><span class="line">            Console.<span class="constructor">WriteLine(<span class="string">&quot;扫描文件数目&quot;</span> + <span class="params">p</span>.<span class="params">fileNum</span>)</span>; <span class="comment">//扫描文件总数</span></span><br><span class="line"></span><br><span class="line">            foreach (var dic <span class="keyword">in</span> p.pList)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.<span class="constructor">WriteLine(<span class="string">&quot;&#123;0&#125;  &#123;1&#125;&quot;</span>, <span class="params">dic</span>.Key, <span class="params">dic</span>.Value)</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS解决表格单元格内容过多的问题</title>
    <url>/css-html5-table.html</url>
    <content><![CDATA[<p>最近在实验室开发前端页面，从PHP后端传递数据渲染视图中的一个表格时，发现表格中某些单元格数据内容过多影响了页面美观，想让多余的内容用省略号代替。</p>
<span id="more"></span>
<h2 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">　　<span class="attribute">table-layout</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">td</span> &#123;</span><br><span class="line">　　<span class="attribute">white-space</span>: nowrap;</span><br><span class="line">　　<span class="attribute">overflow</span>: hidden;</span><br><span class="line">　　<span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="代码解释"><a href="#代码解释" class="headerlink" title="代码解释"></a>代码解释</h2><p><code>table-layout: fixed</code>  由于table-layout的默认值是auto，即table的宽高将取决于其内容的多寡，如果内容的体积无法估测，那么最终表格的呈现形式也无法保证了，fixed一下就好了。（注意：此样式为关键）</p>
<p><code>white-space: nowrap</code>  为了保证无论单元格（TD）中文本内容有多少，都不会自动换行，此时多余的内容会在水平方向撑破单元格。</p>
<p><code>overflow: hidden</code>  隐藏超出单元格的部分。</p>
<p><code>text-overflow: ellipsis</code> 将被隐藏的那部分用省略号代替。</p>
<hr>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Frontend</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP5.3+配置连接SQL Sever</title>
    <url>/php-connect-sqlserver.html</url>
    <content><![CDATA[<ul>
<li>php5.2.x自带php_mssql.dll的扩展连接SQL Server，但这个扩展只能支持SQL Server 2000以下版本。</li>
<li>php连接方式<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">mssql_connect(&#x27;localhost&#x27;, &#x27;用户名&#x27;, &#x27;密码&#x27;);</span><br></pre></td></tr></table></figure></li>
<li>php5.3.x不再支持php_mssql.dll扩展库</li>
</ul>
<span id="more"></span>
<h2 id="PHP5-3-配置SQL-Sever"><a href="#PHP5-3-配置SQL-Sever" class="headerlink" title="PHP5.3+配置SQL Sever"></a>PHP5.3+配置SQL Sever</h2><p>详细配置方式可见 <a href="https://github.com/Microsoft/msphpsql">https://github.com/Microsoft/msphpsql</a></p>
<h2 id="下载Microsoft-Drivers-for-PHP-for-SQL-Server"><a href="#下载Microsoft-Drivers-for-PHP-for-SQL-Server" class="headerlink" title="下载Microsoft Drivers for PHP for SQL Server"></a>下载Microsoft Drivers for PHP for SQL Server</h2><p>进入<a href="https://www.microsoft.com/en-us/download/details.aspx?id=20098">https://www.microsoft.com/en-us/download/details.aspx?id=20098</a><br>点击download,本人安装的是php环境是5.6.21，选择SQLSRV32.EXE下载</p>
<ul>
<li>Version 4.0 supports PHP 7.0+</li>
<li>Version 3.2 supports PHP 5.6, 5.5, and 5.4</li>
<li>Version 3.1 supports PHP 5.5 and 5.4</li>
<li>Version 3.0 supports PHP 5.4.</li>
</ul>
<h2 id="配置Microsoft-Drivers-for-PHP-for-SQL-Server"><a href="#配置Microsoft-Drivers-for-PHP-for-SQL-Server" class="headerlink" title="配置Microsoft Drivers for PHP for SQL Server"></a>配置Microsoft Drivers for PHP for SQL Server</h2><p>下载的文件是一个自解压的 EXE文件，将其解压，解压后会新增以下文件<br><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-11-19/42358957.png" alt="Markdown"></p>
<ol>
<li>其中54、55、56表示php的5.4.x、5.5.x 和5.6.x版本；</li>
<li>vc6或vc9的选择要看你使用的web服务器软件，如果使用的是IIS那就选择vc9，如果是Apache 则选择vc6；</li>
<li>ts和nts的选择要看你安装的php版本是线程安全版的还是非线程安全版，ts是线程安全，nts是非线程安全。</li>
</ol>
<p>选择你对应的扩展拷贝到拷到php/ext目录下，在php.ini文件，添加以下代码：<br><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">extension</span><span class="operator">=</span>php_pdo_sqlsrv_56_ts.dll（用于pdo）</span><br><span class="line"><span class="attribute">extension</span><span class="operator">=</span>php_sqlsrv_56_ts.dll</span><br></pre></td></tr></table></figure></p>
<h2 id="验证连接"><a href="#验证连接" class="headerlink" title="验证连接"></a>验证连接</h2><ol>
<li>重启服务器，打开phpinfo();看到Registered PHP Streams一栏出现sqlsrv就证明添加扩展成功</li>
<li>php连接测试<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="variable">$serverName</span> = <span class="string">&quot;(local)&quot;</span>;</span><br><span class="line">  <span class="variable">$connectionInfo</span> = <span class="keyword">array</span>(<span class="string">&quot;UID&quot;</span>=&gt;<span class="string">&quot;sa&quot;</span>,<span class="string">&quot;PWD&quot;</span>=&gt;<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;Database&quot;</span>=&gt;<span class="string">&quot;test&quot;</span>);</span><br><span class="line">  <span class="variable">$conn</span> = <span class="title function_ invoke__">sqlsrv_connect</span>(<span class="variable">$serverName</span>, <span class="variable">$connectionInfo</span>);</span><br><span class="line">  <span class="keyword">if</span>( <span class="variable">$conn</span> )&#123;</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&quot;Connection established.\n&quot;</span>;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&quot;Connection could not be established.\n&quot;</span>;</span><br><span class="line">     <span class="keyword">die</span>(<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">sqlsrv_errors</span>()));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_ invoke__">sqlsrv_close</span>(<span class="variable">$conn</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>yii2连接方式<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$d</span>b = <span class="keyword">new</span> Connection([  </span><br><span class="line">    <span class="string">&#x27;dsn&#x27;</span> =＞ <span class="string">&#x27;sqlsrv:Server=youripaddress;Database=xxx&#x27;</span>,  </span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =＞ <span class="string">&#x27;yourusername&#x27;</span>,  </span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =＞ <span class="string">&#x27;yourpassword&#x27;</span>,  </span><br><span class="line">    <span class="string">&#x27;charset&#x27;</span> =＞ <span class="string">&#x27;utf8&#x27;</span>,  </span><br><span class="line">]);  </span><br></pre></td></tr></table></figure></li>
<li>常用函数<br>sqlsrv_connect<br>sqlsrv_close<br>sqlsrv_commit<br>sqlsrv_errors<br>sqlsrv_fetch<br>sqlsrv_fetch_array<br>sqlsrv_fetch_metadata<br>sqlsrv_num_rows<br>sqlsrv_query<br>sqlsrv_rollback<br>sqlsrv_rows_affected<br>具体用法可参见<a href="http://php.net/manual/en/ref.sqlsrv.php">php官网</a></li>
</ol>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>需安装<code>ODBC Driver 11 or Microsoft ODBC Driver 13</code></p>
<ul>
<li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=36434">ODBC Driver 11 下载地址</a></li>
<li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=50420">ODBC Driver 13 下载地址</a></li>
</ul>
<p>具体安装版本可参见下载页面说明，安装后重启即可。</p>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>SQL Server</tag>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL Server导入超大SQL文件的方法</title>
    <url>/import-big-sql.html</url>
    <content><![CDATA[<blockquote>
<p>在实验室处理数据时，遇到一张20w记录的表需要恢复，初以为直接在dbms中直接导入sql即可，然而显示内存不够，无法导入。</p>
</blockquote>
<span id="more"></span>
<h2 id="命令行导入"><a href="#命令行导入" class="headerlink" title="命令行导入"></a>命令行导入</h2><p>用微软自带的sqlcmd工具，可以导入执行。以SQL Server 2014版本为例：</p>
<ol>
<li><p>Win+R 键入：cmd 命令，开启命令行工具；</p>
</li>
<li><p>键入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> C:\Program Files\Microsoft SQL Server\100\Tools\Binn （具体目录路径跟你安装的SQL位置有关）</span><br></pre></td></tr></table></figure>
</li>
<li><p>键入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlcmd -S localhost -U username -P 123456 -d dbname -i db.sql</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>参数说明：-S 服务器地址 -U 用户名 -P 密码  -d 数据库名称 -i 脚本文件路径</p>
<blockquote>
<p>建议将数据脚本文件拷到此目录，就只用写文件名，而不用写全路径了。注意参数大小写和空格符号。</p>
</blockquote>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>SQL Server</tag>
      </tags>
  </entry>
  <entry>
    <title>分分钟学会Python3</title>
    <url>/learn-python3-1min.html</url>
    <content><![CDATA[<p>Python was created by Guido Van Rossum in the early 90s. It is now one of the most popular<br>languages in existence. I fell in love with Python for its syntactic clarity. It’s basically<br>executable pseudocode.</p>
<p>Feedback would be highly appreciated! You can reach me at <a href="http://twitter.com/louiedinh">@louiedinh</a> or louiedinh [at] [google’s email service]</p>
<p>Note: This article applies to Python 3 specifically. Check out <a href="http://learnxinyminutes.com/docs/python/">here</a> if you want to learn the old Python 2.7</p>
<span id="more"></span>
<hr>
<p>语言: python3<br>贡献者:  </p>
<pre><code>- [&quot;Louie Dinh&quot;, &quot;http://pythonpracticeprojects.com&quot;]  
- [&quot;Steven Basart&quot;, &quot;http://github.com/xksteven&quot;]  
- [&quot;Andre Polykanine&quot;, &quot;https://github.com/Oire&quot;]  
- [&quot;Zachary Ferguson&quot;, &quot;http://github.com/zfergus2&quot;]  
- [&quot;evuez&quot;, &quot;http://github.com/evuez&quot;]  
</code></pre><p>filename: learnpython3.py<br>译者:  </p>
<pre><code>- [&quot;ChangingFond&quot;, &quot;http://blog.fangchengjin.cn&quot;]
</code></pre><hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Single line comments start with a number symbol.</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; Multiline strings can be written</span></span><br><span class="line"><span class="string">    using three &quot;s, and are often used</span></span><br><span class="line"><span class="string">    as comments</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 1. Primitive Datatypes and Operators</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You have numbers</span></span><br><span class="line"><span class="number">3</span>  <span class="comment"># =&gt; 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Math is what you would expect</span></span><br><span class="line"><span class="number">1</span> + <span class="number">1</span>   <span class="comment"># =&gt; 2</span></span><br><span class="line"><span class="number">8</span> - <span class="number">1</span>   <span class="comment"># =&gt; 7</span></span><br><span class="line"><span class="number">10</span> * <span class="number">2</span>  <span class="comment"># =&gt; 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Except division which returns floats, real numbers, by default</span></span><br><span class="line"><span class="number">35</span> / <span class="number">5</span>  <span class="comment"># =&gt; 7.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Result of integer division truncated down both for positive and negative.</span></span><br><span class="line"><span class="number">5</span> // <span class="number">3</span>       <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="number">5.0</span> // <span class="number">3.0</span>   <span class="comment"># =&gt; 1.0 # works on floats too</span></span><br><span class="line">-<span class="number">5</span> // <span class="number">3</span>      <span class="comment"># =&gt; -2</span></span><br><span class="line">-<span class="number">5.0</span> // <span class="number">3.0</span>  <span class="comment"># =&gt; -2.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When you use a float, results are floats</span></span><br><span class="line"><span class="number">3</span> * <span class="number">2.0</span>  <span class="comment"># =&gt; 6.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Modulo operation</span></span><br><span class="line"><span class="number">7</span> % <span class="number">3</span>  <span class="comment"># =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Exponentiation (x**y, x to the yth power)</span></span><br><span class="line"><span class="number">2</span>**<span class="number">4</span>  <span class="comment"># =&gt; 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enforce precedence with parentheses</span></span><br><span class="line">(<span class="number">1</span> + <span class="number">3</span>) * <span class="number">2</span>  <span class="comment"># =&gt; 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean values are primitives (Note: the capitalization)</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># negate with not</span></span><br><span class="line"><span class="keyword">not</span> <span class="literal">True</span>   <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="keyword">not</span> <span class="literal">False</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean Operators</span></span><br><span class="line"><span class="comment"># Note &quot;and&quot; and &quot;or&quot; are case-sensitive</span></span><br><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="literal">False</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">or</span> <span class="literal">True</span>   <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note using Bool operators with ints</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="number">2</span>     <span class="comment"># =&gt; 0</span></span><br><span class="line">-<span class="number">5</span> <span class="keyword">or</span> <span class="number">0</span>     <span class="comment"># =&gt; -5</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">False</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> == <span class="literal">True</span>   <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">1</span> == <span class="literal">True</span>   <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Equality is ==</span></span><br><span class="line"><span class="number">1</span> == <span class="number">1</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> == <span class="number">1</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Inequality is !=</span></span><br><span class="line"><span class="number">1</span> != <span class="number">1</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">2</span> != <span class="number">1</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># More comparisons</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">10</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">1</span> &gt; <span class="number">10</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">2</span> &lt;= <span class="number">2</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> &gt;= <span class="number">2</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Comparisons can be chained!</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">2</span> &lt; <span class="number">3</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> &lt; <span class="number">3</span> &lt; <span class="number">2</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (is vs. ==) is checks if two variables refer to the same object, but == checks</span></span><br><span class="line"><span class="comment"># if the objects pointed to have the same values.</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]  <span class="comment"># Point a at a new list, [1, 2, 3, 4]</span></span><br><span class="line">b = a             <span class="comment"># Point b at what a is pointing to</span></span><br><span class="line">b <span class="keyword">is</span> a            <span class="comment"># =&gt; True, a and b refer to the same object</span></span><br><span class="line">b == a            <span class="comment"># =&gt; True, a&#x27;s and b&#x27;s objects are equal</span></span><br><span class="line">b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]  <span class="comment"># Point b at a new list, [1, 2, 3, 4]</span></span><br><span class="line">b <span class="keyword">is</span> a            <span class="comment"># =&gt; False, a and b do not refer to the same object</span></span><br><span class="line">b == a            <span class="comment"># =&gt; True, a&#x27;s and b&#x27;s objects are equal</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Strings are created with &quot; or &#x27;</span></span><br><span class="line"><span class="string">&quot;This is a string.&quot;</span></span><br><span class="line"><span class="string">&#x27;This is also a string.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Strings can be added too! But try not to do this.</span></span><br><span class="line"><span class="string">&quot;Hello &quot;</span> + <span class="string">&quot;world!&quot;</span>  <span class="comment"># =&gt; &quot;Hello world!&quot;</span></span><br><span class="line"><span class="comment"># Strings can be added without using &#x27;+&#x27;</span></span><br><span class="line"><span class="string">&quot;Hello &quot;</span> <span class="string">&quot;world!&quot;</span>    <span class="comment"># =&gt; &quot;Hello world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A string can be treated like a list of characters</span></span><br><span class="line"><span class="string">&quot;This is a string&quot;</span>[<span class="number">0</span>]  <span class="comment"># =&gt; &#x27;T&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can find the length of a string</span></span><br><span class="line"><span class="built_in">len</span>(<span class="string">&quot;This is a string&quot;</span>)  <span class="comment"># =&gt; 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .format can be used to format strings, like this:</span></span><br><span class="line"><span class="string">&quot;&#123;&#125; can be &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;Strings&quot;</span>, <span class="string">&quot;interpolated&quot;</span>)  <span class="comment"># =&gt; &quot;Strings can be interpolated&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can repeat the formatting arguments to save some typing.</span></span><br><span class="line"><span class="string">&quot;&#123;0&#125; be nimble, &#123;0&#125; be quick, &#123;0&#125; jump over the &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;candle stick&quot;</span>)</span><br><span class="line"><span class="comment"># =&gt; &quot;Jack be nimble, Jack be quick, Jack jump over the candle stick&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can use keywords if you don&#x27;t want to count.</span></span><br><span class="line"><span class="string">&quot;&#123;name&#125; wants to eat &#123;food&#125;&quot;</span>.<span class="built_in">format</span>(name=<span class="string">&quot;Bob&quot;</span>, food=<span class="string">&quot;lasagna&quot;</span>)  <span class="comment"># =&gt; &quot;Bob wants to eat lasagna&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If your Python 3 code also needs to run on Python 2.5 and below, you can also</span></span><br><span class="line"><span class="comment"># still use the old style of formatting:</span></span><br><span class="line"><span class="string">&quot;%s can be %s the %s way&quot;</span> % (<span class="string">&quot;Strings&quot;</span>, <span class="string">&quot;interpolated&quot;</span>, <span class="string">&quot;old&quot;</span>)  <span class="comment"># =&gt; &quot;Strings can be interpolated the old way&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># None is an object</span></span><br><span class="line"><span class="literal">None</span>  <span class="comment"># =&gt; None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Don&#x27;t use the equality &quot;==&quot; symbol to compare objects to None</span></span><br><span class="line"><span class="comment"># Use &quot;is&quot; instead. This checks for equality of object identity.</span></span><br><span class="line"><span class="string">&quot;etc&quot;</span> <span class="keyword">is</span> <span class="literal">None</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="literal">None</span> <span class="keyword">is</span> <span class="literal">None</span>   <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># None, 0, and empty strings/lists/dicts all evaluate to False.</span></span><br><span class="line"><span class="comment"># All other values are True</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0</span>)   <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>)  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>([])  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(&#123;&#125;)  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 2. Variables and Collections</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python has a print function</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I&#x27;m Python. Nice to meet you!&quot;</span>)  <span class="comment"># =&gt; I&#x27;m Python. Nice to meet you!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default the print function also prints out a newline at the end.</span></span><br><span class="line"><span class="comment"># Use the optional argument end to change the end character.</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello, World&quot;</span>, end=<span class="string">&quot;!&quot;</span>)  <span class="comment"># =&gt; Hello, World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Simple way to get input data from console</span></span><br><span class="line">input_string_var = <span class="built_in">input</span>(<span class="string">&quot;Enter some data: &quot;</span>) <span class="comment"># Returns the data as a string</span></span><br><span class="line"><span class="comment"># Note: In earlier versions of Python, input() method was named as raw_input()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># No need to declare variables before assigning to them.</span></span><br><span class="line"><span class="comment"># Convention is to use lower_case_with_underscores</span></span><br><span class="line">some_var = <span class="number">5</span></span><br><span class="line">some_var  <span class="comment"># =&gt; 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Accessing a previously unassigned variable is an exception.</span></span><br><span class="line"><span class="comment"># See Control Flow to learn more about exception handling.</span></span><br><span class="line">some_unknown_var  <span class="comment"># Raises a NameError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if can be used as an expression</span></span><br><span class="line"><span class="comment"># Equivalent of C&#x27;s &#x27;?:&#x27; ternary operator</span></span><br><span class="line"><span class="string">&quot;yahoo!&quot;</span> <span class="keyword">if</span> <span class="number">3</span> &gt; <span class="number">2</span> <span class="keyword">else</span> <span class="number">2</span>  <span class="comment"># =&gt; &quot;yahoo!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Lists store sequences</span></span><br><span class="line">li = []</span><br><span class="line"><span class="comment"># You can start with a prefilled list</span></span><br><span class="line">other_li = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add stuff to the end of a list with append</span></span><br><span class="line">li.append(<span class="number">1</span>)    <span class="comment"># li is now [1]</span></span><br><span class="line">li.append(<span class="number">2</span>)    <span class="comment"># li is now [1, 2]</span></span><br><span class="line">li.append(<span class="number">4</span>)    <span class="comment"># li is now [1, 2, 4]</span></span><br><span class="line">li.append(<span class="number">3</span>)    <span class="comment"># li is now [1, 2, 4, 3]</span></span><br><span class="line"><span class="comment"># Remove from the end with pop</span></span><br><span class="line">li.pop()        <span class="comment"># =&gt; 3 and li is now [1, 2, 4]</span></span><br><span class="line"><span class="comment"># Let&#x27;s put it back</span></span><br><span class="line">li.append(<span class="number">3</span>)    <span class="comment"># li is now [1, 2, 4, 3] again.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Access a list like you would any array</span></span><br><span class="line">li[<span class="number">0</span>]   <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="comment"># Look at the last element</span></span><br><span class="line">li[-<span class="number">1</span>]  <span class="comment"># =&gt; 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Looking out of bounds is an IndexError</span></span><br><span class="line">li[<span class="number">4</span>]  <span class="comment"># Raises an IndexError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can look at ranges with slice syntax.</span></span><br><span class="line"><span class="comment"># (It&#x27;s a closed/open range for you mathy types.)</span></span><br><span class="line">li[<span class="number">1</span>:<span class="number">3</span>]   <span class="comment"># =&gt; [2, 4]</span></span><br><span class="line"><span class="comment"># Omit the beginning</span></span><br><span class="line">li[<span class="number">2</span>:]    <span class="comment"># =&gt; [4, 3]</span></span><br><span class="line"><span class="comment"># Omit the end</span></span><br><span class="line">li[:<span class="number">3</span>]    <span class="comment"># =&gt; [1, 2, 4]</span></span><br><span class="line"><span class="comment"># Select every second entry</span></span><br><span class="line">li[::<span class="number">2</span>]   <span class="comment"># =&gt;[1, 4]</span></span><br><span class="line"><span class="comment"># Return a reversed copy of the list</span></span><br><span class="line">li[::-<span class="number">1</span>]  <span class="comment"># =&gt; [3, 4, 2, 1]</span></span><br><span class="line"><span class="comment"># Use any combination of these to make advanced slices</span></span><br><span class="line"><span class="comment"># li[start:end:step]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make a one layer deep copy using slices</span></span><br><span class="line">li2 = li[:]  <span class="comment"># =&gt; li2 = [1, 2, 4, 3] but (li2 is li) will result in false.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove arbitrary elements from a list with &quot;del&quot;</span></span><br><span class="line"><span class="keyword">del</span> li[<span class="number">2</span>]  <span class="comment"># li is now [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove first occurrence of a value</span></span><br><span class="line">li.remove(<span class="number">2</span>)  <span class="comment"># li is now [1, 3]</span></span><br><span class="line">li.remove(<span class="number">2</span>)  <span class="comment"># Raises a ValueError as 2 is not in the list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Insert an element at a specific index</span></span><br><span class="line">li.insert(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment"># li is now [1, 2, 3] again</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the index of the first item found matching the argument</span></span><br><span class="line">li.index(<span class="number">2</span>)  <span class="comment"># =&gt; 1</span></span><br><span class="line">li.index(<span class="number">4</span>)  <span class="comment"># Raises a ValueError as 4 is not in the list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can add lists</span></span><br><span class="line"><span class="comment"># Note: values for li and for other_li are not modified.</span></span><br><span class="line">li + other_li  <span class="comment"># =&gt; [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Concatenate lists with &quot;extend()&quot;</span></span><br><span class="line">li.extend(other_li)  <span class="comment"># Now li is [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check for existence in a list with &quot;in&quot;</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> li  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Examine the length with &quot;len()&quot;</span></span><br><span class="line"><span class="built_in">len</span>(li)  <span class="comment"># =&gt; 6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tuples are like lists but are immutable.</span></span><br><span class="line">tup = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">tup[<span class="number">0</span>]      <span class="comment"># =&gt; 1</span></span><br><span class="line">tup[<span class="number">0</span>] = <span class="number">3</span>  <span class="comment"># Raises a TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note that a tuple of length one has to have a comma after the last element but</span></span><br><span class="line"><span class="comment"># tuples of other lengths, even zero, do not.</span></span><br><span class="line"><span class="built_in">type</span>((<span class="number">1</span>))   <span class="comment"># =&gt; &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"><span class="built_in">type</span>((<span class="number">1</span>,))  <span class="comment"># =&gt; &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">type</span>(())    <span class="comment"># =&gt; &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can do most of the list operations on tuples too</span></span><br><span class="line"><span class="built_in">len</span>(tup)         <span class="comment"># =&gt; 3</span></span><br><span class="line">tup + (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)  <span class="comment"># =&gt; (1, 2, 3, 4, 5, 6)</span></span><br><span class="line">tup[:<span class="number">2</span>]          <span class="comment"># =&gt; (1, 2)</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">in</span> tup         <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can unpack tuples (or lists) into variables</span></span><br><span class="line">a, b, c = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment"># a is now 1, b is now 2 and c is now 3</span></span><br><span class="line"><span class="comment"># You can also do extended unpacking</span></span><br><span class="line">a, *b, c = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)  <span class="comment"># a is now 1, b is now [2, 3] and c is now 4</span></span><br><span class="line"><span class="comment"># Tuples are created by default if you leave out the parentheses</span></span><br><span class="line">d, e, f = <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span></span><br><span class="line"><span class="comment"># Now look how easy it is to swap two values</span></span><br><span class="line">e, d = d, e  <span class="comment"># d is now 5 and e is now 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Dictionaries store mappings</span></span><br><span class="line">empty_dict = &#123;&#125;</span><br><span class="line"><span class="comment"># Here is a prefilled dictionary</span></span><br><span class="line">filled_dict = &#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>, <span class="string">&quot;three&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Note keys for dictionaries have to be immutable types. This is to ensure that</span></span><br><span class="line"><span class="comment"># the key can be converted to a constant hash value for quick look-ups.</span></span><br><span class="line"><span class="comment"># Immutable types include ints, floats, strings, tuples.</span></span><br><span class="line">invalid_dict = &#123;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]: <span class="string">&quot;123&quot;</span>&#125;  <span class="comment"># =&gt; Raises a TypeError: unhashable type: &#x27;list&#x27;</span></span><br><span class="line">valid_dict = &#123;(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>):[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;   <span class="comment"># Values can be of any type, however.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Look up values with []</span></span><br><span class="line">filled_dict[<span class="string">&quot;one&quot;</span>]  <span class="comment"># =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get all keys as an iterable with &quot;keys()&quot;. We need to wrap the call in list()</span></span><br><span class="line"><span class="comment"># to turn it into a list. We&#x27;ll talk about those later.  Note - Dictionary key</span></span><br><span class="line"><span class="comment"># ordering is not guaranteed. Your results might not match this exactly.</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.keys())  <span class="comment"># =&gt; [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Get all values as an iterable with &quot;values()&quot;. Once again we need to wrap it</span></span><br><span class="line"><span class="comment"># in list() to get it out of the iterable. Note - Same as above regarding key</span></span><br><span class="line"><span class="comment"># ordering.</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.values())  <span class="comment"># =&gt; [3, 2, 1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check for existence of keys in a dictionary with &quot;in&quot;</span></span><br><span class="line"><span class="string">&quot;one&quot;</span> <span class="keyword">in</span> filled_dict  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> filled_dict      <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Looking up a non-existing key is a KeyError</span></span><br><span class="line">filled_dict[<span class="string">&quot;four&quot;</span>]  <span class="comment"># KeyError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use &quot;get()&quot; method to avoid the KeyError</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;one&quot;</span>)      <span class="comment"># =&gt; 1</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;four&quot;</span>)     <span class="comment"># =&gt; None</span></span><br><span class="line"><span class="comment"># The get method supports a default argument when the value is missing</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;one&quot;</span>, <span class="number">4</span>)   <span class="comment"># =&gt; 1</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;four&quot;</span>, <span class="number">4</span>)  <span class="comment"># =&gt; 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;setdefault()&quot; inserts into a dictionary only if the given key isn&#x27;t present</span></span><br><span class="line">filled_dict.setdefault(<span class="string">&quot;five&quot;</span>, <span class="number">5</span>)  <span class="comment"># filled_dict[&quot;five&quot;] is set to 5</span></span><br><span class="line">filled_dict.setdefault(<span class="string">&quot;five&quot;</span>, <span class="number">6</span>)  <span class="comment"># filled_dict[&quot;five&quot;] is still 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Adding to a dictionary</span></span><br><span class="line">filled_dict.update(&#123;<span class="string">&quot;four&quot;</span>:<span class="number">4</span>&#125;)  <span class="comment"># =&gt; &#123;&quot;one&quot;: 1, &quot;two&quot;: 2, &quot;three&quot;: 3, &quot;four&quot;: 4&#125;</span></span><br><span class="line"><span class="comment">#filled_dict[&quot;four&quot;] = 4        #another way to add to dict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Remove keys from a dictionary with del</span></span><br><span class="line"><span class="keyword">del</span> filled_dict[<span class="string">&quot;one&quot;</span>]  <span class="comment"># Removes the key &quot;one&quot; from filled dict</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># From Python 3.5 you can also use the additional unpacking options</span></span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, **&#123;<span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125;&#125;  <span class="comment"># =&gt; &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2&#125;</span></span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, **&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">2</span>&#125;&#125;  <span class="comment"># =&gt; &#123;&#x27;a&#x27;: 2&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets store ... well sets</span></span><br><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line"><span class="comment"># Initialize a set with a bunch of values. Yeah, it looks a bit like a dict. Sorry.</span></span><br><span class="line">some_set = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;  <span class="comment"># some_set is now &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Similar to keys of a dictionary, elements of a set have to be immutable.</span></span><br><span class="line">invalid_set = &#123;[<span class="number">1</span>], <span class="number">1</span>&#125;  <span class="comment"># =&gt; Raises a TypeError: unhashable type: &#x27;list&#x27;</span></span><br><span class="line">valid_set = &#123;(<span class="number">1</span>,), <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Can set new variables to a set</span></span><br><span class="line">filled_set = some_set</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add one more item to the set</span></span><br><span class="line">filled_set.add(<span class="number">5</span>)  <span class="comment"># filled_set is now &#123;1, 2, 3, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do set intersection with &amp;</span></span><br><span class="line">other_set = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">filled_set &amp; other_set  <span class="comment"># =&gt; &#123;3, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do set union with |</span></span><br><span class="line">filled_set | other_set  <span class="comment"># =&gt; &#123;1, 2, 3, 4, 5, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do set difference with -</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125; - &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;  <span class="comment"># =&gt; &#123;1, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do set symmetric difference with ^</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125; ^ &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;  <span class="comment"># =&gt; &#123;1, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if set on the left is a superset of set on the right</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125; &gt;= &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if set on the left is a subset of set on the right</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125; &lt;= &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check for existence in a set with in</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">in</span> filled_set   <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">10</span> <span class="keyword">in</span> filled_set  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 3. Control Flow and Iterables</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Let&#x27;s just make a variable</span></span><br><span class="line">some_var = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Here is an if statement. Indentation is significant in python!</span></span><br><span class="line"><span class="comment"># prints &quot;some_var is smaller than 10&quot;</span></span><br><span class="line"><span class="keyword">if</span> some_var &gt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is totally bigger than 10.&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> some_var &lt; <span class="number">10</span>:    <span class="comment"># This elif clause is optional.</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is smaller than 10.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:                  <span class="comment"># This is optional too.</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is indeed 10.&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">For loops iterate over lists</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    dog is a mammal</span></span><br><span class="line"><span class="string">    cat is a mammal</span></span><br><span class="line"><span class="string">    mouse is a mammal</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> [<span class="string">&quot;dog&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;mouse&quot;</span>]:</span><br><span class="line">    <span class="comment"># You can use format() to interpolate formatted strings</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; is a mammal&quot;</span>.<span class="built_in">format</span>(animal))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(number)&quot; returns an iterable of numbers</span></span><br><span class="line"><span class="string">from zero to the given number</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(lower, upper)&quot; returns an iterable of numbers</span></span><br><span class="line"><span class="string">from the lower number to the upper number</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>, <span class="number">8</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(lower, upper, step)&quot; returns an iterable of numbers</span></span><br><span class="line"><span class="string">from the lower number to the upper number, while incrementing</span></span><br><span class="line"><span class="string">by step. If step is not indicated, the default value is 1.</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>, <span class="number">8</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">While loops go until a condition is no longer met.</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> x &lt; <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">    x += <span class="number">1</span>  <span class="comment"># Shorthand for x = x + 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Handle exceptions with a try/except block</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># Use &quot;raise&quot; to raise an error</span></span><br><span class="line">    <span class="keyword">raise</span> IndexError(<span class="string">&quot;This is an index error&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">pass</span>                 <span class="comment"># Pass is just a no-op. Usually you would do recovery here.</span></span><br><span class="line"><span class="keyword">except</span> (TypeError, NameError):</span><br><span class="line">    <span class="keyword">pass</span>                 <span class="comment"># Multiple exceptions can be handled together, if required.</span></span><br><span class="line"><span class="keyword">else</span>:                    <span class="comment"># Optional clause to the try/except block. Must follow all except blocks</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;All good!&quot;</span>)   <span class="comment"># Runs only if the code in try raises no exceptions</span></span><br><span class="line"><span class="keyword">finally</span>:                 <span class="comment">#  Execute under all circumstances</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;We can clean up resources here&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Instead of try/finally to cleanup resources you can use a with statement</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Python offers a fundamental abstraction called the Iterable.</span></span><br><span class="line"><span class="comment"># An iterable is an object that can be treated as a sequence.</span></span><br><span class="line"><span class="comment"># The object returned the range function, is an iterable.</span></span><br><span class="line"></span><br><span class="line">filled_dict = &#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>, <span class="string">&quot;three&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">our_iterable = filled_dict.keys()</span><br><span class="line"><span class="built_in">print</span>(our_iterable)  <span class="comment"># =&gt; dict_keys([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]). This is an object that implements our Iterable interface.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We can loop over it.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> our_iterable:</span><br><span class="line">    <span class="built_in">print</span>(i)  <span class="comment"># Prints one, two, three</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># However we cannot address elements by index.</span></span><br><span class="line">our_iterable[<span class="number">1</span>]  <span class="comment"># Raises a TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># An iterable is an object that knows how to create an iterator.</span></span><br><span class="line">our_iterator = <span class="built_in">iter</span>(our_iterable)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Our iterator is an object that can remember the state as we traverse through it.</span></span><br><span class="line"><span class="comment"># We get the next object with &quot;next()&quot;.</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;one&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># It maintains state as we iterate.</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;two&quot;</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;three&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># After the iterator has returned all of its data, it gives you a StopIterator Exception</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># Raises StopIteration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can grab all the elements of an iterator by calling list() on it.</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.keys())  <span class="comment"># =&gt; Returns [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 4. Functions</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use &quot;def&quot; to create new functions</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;x is &#123;&#125; and y is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(x, y))</span><br><span class="line">    <span class="keyword">return</span> x + y  <span class="comment"># Return values with a return statement</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Calling functions with parameters</span></span><br><span class="line">add(<span class="number">5</span>, <span class="number">6</span>)  <span class="comment"># =&gt; prints out &quot;x is 5 and y is 6&quot; and returns 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Another way to call functions is with keyword arguments</span></span><br><span class="line">add(y=<span class="number">6</span>, x=<span class="number">5</span>)  <span class="comment"># Keyword arguments can arrive in any order.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can define functions that take a variable number of</span></span><br><span class="line"><span class="comment"># positional arguments</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">varargs</span>(<span class="params">*args</span>):</span><br><span class="line">    <span class="keyword">return</span> args</span><br><span class="line"></span><br><span class="line">varargs(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment"># =&gt; (1, 2, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can define functions that take a variable number of</span></span><br><span class="line"><span class="comment"># keyword arguments, as well</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">keyword_args</span>(<span class="params">**kwargs</span>):</span><br><span class="line">    <span class="keyword">return</span> kwargs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Let&#x27;s call it to see what happens</span></span><br><span class="line">keyword_args(big=<span class="string">&quot;foot&quot;</span>, loch=<span class="string">&quot;ness&quot;</span>)  <span class="comment"># =&gt; &#123;&quot;big&quot;: &quot;foot&quot;, &quot;loch&quot;: &quot;ness&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can do both at once, if you like</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">all_the_args</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">all_the_args(1, 2, a=3, b=4) prints:</span></span><br><span class="line"><span class="string">    (1, 2)</span></span><br><span class="line"><span class="string">    &#123;&quot;a&quot;: 3, &quot;b&quot;: 4&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When calling functions, you can do the opposite of args/kwargs!</span></span><br><span class="line"><span class="comment"># Use * to expand tuples and use ** to expand kwargs.</span></span><br><span class="line">args = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">kwargs = &#123;<span class="string">&quot;a&quot;</span>: <span class="number">3</span>, <span class="string">&quot;b&quot;</span>: <span class="number">4</span>&#125;</span><br><span class="line">all_the_args(*args)            <span class="comment"># equivalent to foo(1, 2, 3, 4)</span></span><br><span class="line">all_the_args(**kwargs)         <span class="comment"># equivalent to foo(a=3, b=4)</span></span><br><span class="line">all_the_args(*args, **kwargs)  <span class="comment"># equivalent to foo(1, 2, 3, 4, a=3, b=4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Returning multiple values (with tuple assignments)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">swap</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> y, x  <span class="comment"># Return multiple values as a tuple without the parenthesis.</span></span><br><span class="line">                 <span class="comment"># (Note: parenthesis have been excluded but can be included)</span></span><br><span class="line"></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">x, y = swap(x, y)     <span class="comment"># =&gt; x = 2, y = 1</span></span><br><span class="line"><span class="comment"># (x, y) = swap(x,y)  # Again parenthesis have been excluded but can be included.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Function Scope</span></span><br><span class="line">x = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_x</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="comment"># Local var x not the same as global variable x</span></span><br><span class="line">    x = num    <span class="comment"># =&gt; 43</span></span><br><span class="line">    <span class="built_in">print</span> (x)  <span class="comment"># =&gt; 43</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_global_x</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> x</span><br><span class="line">    <span class="built_in">print</span> (x)  <span class="comment"># =&gt; 5</span></span><br><span class="line">    x = num    <span class="comment"># global var x is now set to 6</span></span><br><span class="line">    <span class="built_in">print</span> (x)  <span class="comment"># =&gt; 6</span></span><br><span class="line"></span><br><span class="line">set_x(<span class="number">43</span>)</span><br><span class="line">set_global_x(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python has first class functions</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_adder</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adder</span>(<span class="params">y</span>):</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    <span class="keyword">return</span> adder</span><br><span class="line"></span><br><span class="line">add_10 = create_adder(<span class="number">10</span>)</span><br><span class="line">add_10(<span class="number">3</span>)   <span class="comment"># =&gt; 13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># There are also anonymous functions</span></span><br><span class="line">(<span class="keyword">lambda</span> x: x &gt; <span class="number">2</span>)(<span class="number">3</span>)                  <span class="comment"># =&gt; True</span></span><br><span class="line">(<span class="keyword">lambda</span> x, y: x ** <span class="number">2</span> + y ** <span class="number">2</span>)(<span class="number">2</span>, <span class="number">1</span>)  <span class="comment"># =&gt; 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># There are built-in higher order functions</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(add_10, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))          <span class="comment"># =&gt; [11, 12, 13]</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">max</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]))  <span class="comment"># =&gt; [4, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x &gt; <span class="number">5</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]))  <span class="comment"># =&gt; [6, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We can use list comprehensions for nice maps and filters</span></span><br><span class="line"><span class="comment"># List comprehension stores the output as a list which can itself be a nested list</span></span><br><span class="line">[add_10(i) <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]         <span class="comment"># =&gt; [11, 12, 13]</span></span><br><span class="line">[x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] <span class="keyword">if</span> x &gt; <span class="number">5</span>]  <span class="comment"># =&gt; [6, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can construct set and dict comprehensions as well.</span></span><br><span class="line">&#123;x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">&#x27;abcddeef&#x27;</span> <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>&#125;  <span class="comment"># =&gt; &#123;&#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;&#125;</span></span><br><span class="line">&#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)&#125;  <span class="comment"># =&gt; &#123;0: 0, 1: 1, 2: 4, 3: 9, 4: 16&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 5. Modules</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can import modules</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">print</span>(math.sqrt(<span class="number">16</span>))  <span class="comment"># =&gt; 4.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can get specific functions from a module</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> ceil, floor</span><br><span class="line"><span class="built_in">print</span>(ceil(<span class="number">3.7</span>))   <span class="comment"># =&gt; 4.0</span></span><br><span class="line"><span class="built_in">print</span>(floor(<span class="number">3.7</span>))  <span class="comment"># =&gt; 3.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can import all functions from a module.</span></span><br><span class="line"><span class="comment"># Warning: this is not recommended</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># You can shorten module names</span></span><br><span class="line"><span class="keyword">import</span> math <span class="keyword">as</span> m</span><br><span class="line">math.sqrt(<span class="number">16</span>) == m.sqrt(<span class="number">16</span>)  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python modules are just ordinary python files. You</span></span><br><span class="line"><span class="comment"># can write your own, and import them. The name of the</span></span><br><span class="line"><span class="comment"># module is the same as the name of the file.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can find out which functions and attributes</span></span><br><span class="line"><span class="comment"># defines a module.</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">dir</span>(math)</span><br><span class="line"></span><br><span class="line"><span class="comment"># If you have a Python script named math.py in the same</span></span><br><span class="line"><span class="comment"># folder as your current script, the file math.py will</span></span><br><span class="line"><span class="comment"># be loaded instead of the built-in Python module.</span></span><br><span class="line"><span class="comment"># This happens because the local folder has priority</span></span><br><span class="line"><span class="comment"># over Python&#x27;s built-in libraries.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 6. Classes</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># We use the &quot;class&quot; operator to get a class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Human</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># A class attribute. It is shared by all instances of this class</span></span><br><span class="line">    species = <span class="string">&quot;H. sapiens&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Basic initializer, this is called when this class is instantiated.</span></span><br><span class="line">    <span class="comment"># Note that the double leading and trailing underscores denote objects</span></span><br><span class="line">    <span class="comment"># or attributes that are used by python but that live in user-controlled</span></span><br><span class="line">    <span class="comment"># namespaces. Methods(or objects or attributes) like: __init__, __str__,</span></span><br><span class="line">    <span class="comment"># __repr__ etc. are called magic methods (or sometimes called dunder methods)</span></span><br><span class="line">    <span class="comment"># You should not invent such names on your own.</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="comment"># Assign the argument to the instance&#x27;s name attribute</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Initialize property</span></span><br><span class="line">        self.age = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># An instance method. All methods take &quot;self&quot; as the first argument</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self, msg</span>):</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;&#123;name&#125;: &#123;message&#125;&quot;</span>.<span class="built_in">format</span>(name=self.name, message=msg))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Another instance method</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;yo... yo... microphone check... one two... one two...&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># A class method is shared among all instances</span></span><br><span class="line">    <span class="comment"># They are called with the calling class as the first argument</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_species</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="keyword">return</span> cls.species</span><br><span class="line"></span><br><span class="line">    <span class="comment"># A static method is called without a class or instance reference</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">grunt</span>():</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;*grunt*&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># A property is just like a getter.</span></span><br><span class="line">    <span class="comment"># It turns the method age() into an read-only attribute</span></span><br><span class="line">    <span class="comment"># of the same name.</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># This allows the property to be set</span></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, age</span>):</span><br><span class="line">        self._age = age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># This allows the property to be deleted</span></span><br><span class="line"><span class="meta">    @age.deleter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> self._age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># When a Python interpreter reads a source file it executes all its code.</span></span><br><span class="line"><span class="comment"># This __name__ check makes sure this code block is only executed when this</span></span><br><span class="line"><span class="comment"># module is the main program.</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># Instantiate a class</span></span><br><span class="line">    i = Human(name=<span class="string">&quot;Ian&quot;</span>)</span><br><span class="line">    i.say(<span class="string">&quot;hi&quot;</span>)                     <span class="comment"># &quot;Ian: hi&quot;</span></span><br><span class="line">    j = Human(<span class="string">&quot;Joel&quot;</span>)</span><br><span class="line">    j.say(<span class="string">&quot;hello&quot;</span>)                  <span class="comment"># &quot;Joel: hello&quot;</span></span><br><span class="line">    <span class="comment"># i and j are instances of type Human, or in other words: they are Human objects</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Call our class method</span></span><br><span class="line">    i.say(i.get_species())          <span class="comment"># &quot;Ian: H. sapiens&quot;</span></span><br><span class="line">    <span class="comment"># Change the shared attribute</span></span><br><span class="line">    Human.species = <span class="string">&quot;H. neanderthalensis&quot;</span></span><br><span class="line">    i.say(i.get_species())          <span class="comment"># =&gt; &quot;Ian: H. neanderthalensis&quot;</span></span><br><span class="line">    j.say(j.get_species())          <span class="comment"># =&gt; &quot;Joel: H. neanderthalensis&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Call the static method</span></span><br><span class="line">    <span class="built_in">print</span>(Human.grunt())            <span class="comment"># =&gt; &quot;*grunt*&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(i.grunt())                <span class="comment"># =&gt; &quot;*grunt*&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Update the property for this instance</span></span><br><span class="line">    i.age = <span class="number">42</span></span><br><span class="line">    <span class="comment"># Get the property</span></span><br><span class="line">    i.say(i.age)                    <span class="comment"># =&gt; 42</span></span><br><span class="line">    j.say(j.age)                    <span class="comment"># =&gt; 0</span></span><br><span class="line">    <span class="comment"># Delete the property</span></span><br><span class="line">    <span class="keyword">del</span> i.age</span><br><span class="line">    <span class="comment"># i.age                         # =&gt; this would raise an AttributeError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 6.1 Multiple Inheritance</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Another class definition</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bat</span>:</span><br><span class="line"></span><br><span class="line">    species = <span class="string">&#x27;Baty&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, can_fly=<span class="literal">True</span></span>):</span><br><span class="line">        self.fly = can_fly</span><br><span class="line"></span><br><span class="line">    <span class="comment"># This class also has a say method</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self, msg</span>):</span><br><span class="line">        msg = <span class="string">&#x27;... ... ...&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line">    <span class="comment"># And its own method as well</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sonar</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;))) ... (((&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    b = Bat()</span><br><span class="line">    <span class="built_in">print</span>(b.say(<span class="string">&#x27;hello&#x27;</span>))</span><br><span class="line">    <span class="built_in">print</span>(b.fly)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># from &quot;filename-without-extension&quot; import &quot;function-or-class&quot;</span></span><br><span class="line"><span class="keyword">from</span> human <span class="keyword">import</span> Human</span><br><span class="line"><span class="keyword">from</span> bat <span class="keyword">import</span> Bat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Batman inherits from both Human and Bat</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Batman</span>(Human, Bat):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Batman has its own value for the species class attribute</span></span><br><span class="line">    species = <span class="string">&#x27;Superhero&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># Typically to inherit attributes you have to call super:</span></span><br><span class="line">        <span class="comment">#super(Batman, self).__init__(*args, **kwargs)      </span></span><br><span class="line">        <span class="comment"># However we are dealing with multiple inheritance here, and super()</span></span><br><span class="line">        <span class="comment"># only works with the next base class in the MRO list.</span></span><br><span class="line">        <span class="comment"># So instead we explicitly call __init__ for all ancestors.</span></span><br><span class="line">        <span class="comment"># The use of *args and **kwargs allows for a clean way to pass arguments,</span></span><br><span class="line">        <span class="comment"># with each parent &quot;peeling a layer of the onion&quot;.</span></span><br><span class="line">        Human.__init__(self, <span class="string">&#x27;anonymous&#x27;</span>, *args, **kwargs)</span><br><span class="line">        Bat.__init__(self, *args, can_fly=<span class="literal">False</span>, **kwargs)</span><br><span class="line">        <span class="comment"># override the value for the name attribute</span></span><br><span class="line">        self.name = <span class="string">&#x27;Sad Affleck&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;nan nan nan nan nan batman!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sup = Batman()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Instance type checks</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(sup, Human):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;I am human&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(sup, Bat):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;I am bat&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(sup) <span class="keyword">is</span> Batman:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;I am Batman&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Get the Method Resolution search Order used by both getattr() and super().</span></span><br><span class="line">    <span class="comment"># This attribute is dynamic and can be updated</span></span><br><span class="line">    <span class="built_in">print</span>(Batman.__mro__)       <span class="comment"># =&gt; (&lt;class &#x27;__main__.Batman&#x27;&gt;, &lt;class &#x27;human.Human&#x27;&gt;, &lt;class &#x27;bat.Bat&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Calls parent method but uses its own class attribute</span></span><br><span class="line">    <span class="built_in">print</span>(sup.get_species())    <span class="comment"># =&gt; Superhero</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Calls overloaded method</span></span><br><span class="line">    <span class="built_in">print</span>(sup.sing())           <span class="comment"># =&gt; nan nan nan nan nan batman!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Calls method from Human, because inheritance order matters</span></span><br><span class="line">    sup.say(<span class="string">&#x27;I agree&#x27;</span>)          <span class="comment"># =&gt; Sad Affleck: I agree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Call method that exists only in 2nd ancestor</span></span><br><span class="line">    <span class="built_in">print</span>(sup.sonar())          <span class="comment"># =&gt; ))) ... (((</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Inherited class attribute</span></span><br><span class="line">    sup.age = <span class="number">100</span></span><br><span class="line">    <span class="built_in">print</span>(sup.age)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Inherited attribute from 2nd ancestor whose default value was overridden.</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Can I fly? &#x27;</span> + <span class="built_in">str</span>(sup.fly))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"><span class="comment">## 7. Advanced</span></span><br><span class="line"><span class="comment">####################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Generators help you make lazy code.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">double_numbers</span>(<span class="params">iterable</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> i + i</span><br><span class="line"></span><br><span class="line"><span class="comment"># Generators are memory-efficient because they only load the data needed to</span></span><br><span class="line"><span class="comment"># process the next value in the iterable. This allows them to perform</span></span><br><span class="line"><span class="comment"># operations on otherwise prohibitively large value ranges.</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> `range` replaces `xrange` in Python 3.</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> double_numbers(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">900000000</span>)):  <span class="comment"># `range` is a generator.</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">30</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Just as you can create a list comprehension, you can create generator</span></span><br><span class="line"><span class="comment"># comprehensions as well.</span></span><br><span class="line">values = (-x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> values:</span><br><span class="line">    <span class="built_in">print</span>(x)  <span class="comment"># prints -1 -2 -3 -4 -5 to console/terminal</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># You can also cast a generator comprehension directly to a list.</span></span><br><span class="line">values = (-x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">gen_to_list = <span class="built_in">list</span>(values)</span><br><span class="line"><span class="built_in">print</span>(gen_to_list)  <span class="comment"># =&gt; [-1, -2, -3, -4, -5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Decorators</span></span><br><span class="line"><span class="comment"># In this example `beg` wraps `say`. If say_please is True then it</span></span><br><span class="line"><span class="comment"># will change the returned message.</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">beg</span>(<span class="params">target_function</span>):</span><br><span class="line"><span class="meta">    @wraps(<span class="params">target_function</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        msg, say_please = target_function(*args, **kwargs)</span><br><span class="line">        <span class="keyword">if</span> say_please:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(msg, <span class="string">&quot;Please! I am poor :(&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@beg</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">say_please=<span class="literal">False</span></span>):</span><br><span class="line">    msg = <span class="string">&quot;Can you buy me a beer?&quot;</span></span><br><span class="line">    <span class="keyword">return</span> msg, say_please</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(say())                 <span class="comment"># Can you buy me a beer?</span></span><br><span class="line"><span class="built_in">print</span>(say(say_please=<span class="literal">True</span>))  <span class="comment"># Can you buy me a beer? Please! I am poor :(</span></span><br></pre></td></tr></table></figure>
<h2 id="Ready-For-More"><a href="#Ready-For-More" class="headerlink" title="Ready For More?"></a>Ready For More?</h2><h3 id="Free-Online"><a href="#Free-Online" class="headerlink" title="Free Online"></a>Free Online</h3><ul>
<li><a href="https://automatetheboringstuff.com">Automate the Boring Stuff with Python</a></li>
<li><a href="http://pythonpracticeprojects.com">Ideas for Python Projects</a></li>
<li><a href="http://docs.python.org/3/">The Official Docs</a></li>
<li><a href="http://docs.python-guide.org/en/latest/">Hitchhiker’s Guide to Python</a></li>
<li><a href="http://www.python-course.eu/index.php">Python Course</a></li>
<li><a href="https://realpython.com/learn/python-first-steps/">First Steps With Python</a></li>
<li><a href="https://github.com/vinta/awesome-python">A curated list of awesome Python frameworks, libraries and software</a></li>
<li><a href="http://sahandsaba.com/thirty-python-language-features-and-tricks-you-may-not-know.html">30 Python Language Features and Tricks You May Not Know About</a></li>
<li><a href="https://www.python.org/dev/peps/pep-0008/">Official Style Guide for Python</a></li>
<li><a href="http://cscircles.cemc.uwaterloo.ca/">Python 3 Computer Science Circles</a></li>
<li><a href="http://www.diveintopython3.net/index.html">Dive Into Python 3</a></li>
<li><a href="http://nbviewer.jupyter.org/gist/anonymous/5924718">A Crash Course in Python for Scientists</a></li>
</ul>
<h3 id="Dead-Tree"><a href="#Dead-Tree" class="headerlink" title="Dead Tree"></a>Dead Tree</h3><ul>
<li><a href="http://www.amazon.com/gp/product/0596158106/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0596158106&amp;linkCode=as2&amp;tag=homebits04-20">Programming Python</a></li>
<li><a href="https://www.amazon.com/gp/product/1430224150?ie=UTF8&amp;tag=diveintomark-20&amp;creativeASIN=1430224150">Dive Into Python 3</a></li>
<li><a href="https://www.amazon.com/Learn-Python-3-0-VISUALLY-Interactive-ebook/dp/B00YI58B9U/">Learn Python 3.0 VISUALLY</a></li>
</ul>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>bootstrap-datepicker插件汉化</title>
    <url>/bootstrap-datepicker.html</url>
    <content><![CDATA[<p>近期在做项目时用到bootstrap-datepicker这个插件，默认英文显示日期，查阅相关资料后改动即可汉化</p>
<span id="more"></span>
<ul>
<li>先将bootstrap-datepicker.js另存为UTF-8编码格式</li>
<li>增加cn语言选项</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dates = $.fn.<span class="property">datepicker</span>.<span class="property">dates</span> = &#123;</span><br><span class="line">  <span class="attr">en</span>: &#123;</span><br><span class="line">    <span class="attr">days</span>: [<span class="string">&quot;Sunday&quot;</span>, <span class="string">&quot;Monday&quot;</span>, <span class="string">&quot;Tuesday&quot;</span>, <span class="string">&quot;Wednesday&quot;</span>, <span class="string">&quot;Thursday&quot;</span>, <span class="string">&quot;Friday&quot;</span>, <span class="string">&quot;Saturday&quot;</span>, <span class="string">&quot;Sunday&quot;</span>],</span><br><span class="line">    <span class="attr">daysShort</span>: [<span class="string">&quot;Sun&quot;</span>, <span class="string">&quot;Mon&quot;</span>, <span class="string">&quot;Tue&quot;</span>, <span class="string">&quot;Wed&quot;</span>, <span class="string">&quot;Thu&quot;</span>, <span class="string">&quot;Fri&quot;</span>, <span class="string">&quot;Sat&quot;</span>, <span class="string">&quot;Sun&quot;</span>],</span><br><span class="line">    <span class="attr">daysMin</span>: [<span class="string">&quot;Su&quot;</span>, <span class="string">&quot;Mo&quot;</span>, <span class="string">&quot;Tu&quot;</span>, <span class="string">&quot;We&quot;</span>, <span class="string">&quot;Th&quot;</span>, <span class="string">&quot;Fr&quot;</span>, <span class="string">&quot;Sa&quot;</span>, <span class="string">&quot;Su&quot;</span>],</span><br><span class="line">    <span class="attr">months</span>: [<span class="string">&quot;January&quot;</span>, <span class="string">&quot;February&quot;</span>, <span class="string">&quot;March&quot;</span>, <span class="string">&quot;April&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;June&quot;</span>, <span class="string">&quot;July&quot;</span>, <span class="string">&quot;August&quot;</span>, <span class="string">&quot;September&quot;</span>, <span class="string">&quot;October&quot;</span>, <span class="string">&quot;November&quot;</span>, <span class="string">&quot;December&quot;</span>],</span><br><span class="line">    <span class="attr">monthsShort</span>: [<span class="string">&quot;Jan&quot;</span>, <span class="string">&quot;Feb&quot;</span>, <span class="string">&quot;Mar&quot;</span>, <span class="string">&quot;Apr&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;Jun&quot;</span>, <span class="string">&quot;Jul&quot;</span>, <span class="string">&quot;Aug&quot;</span>, <span class="string">&quot;Sep&quot;</span>, <span class="string">&quot;Oct&quot;</span>, <span class="string">&quot;Nov&quot;</span>, <span class="string">&quot;Dec&quot;</span>],</span><br><span class="line">    <span class="attr">today</span>: <span class="string">&quot;Today&quot;</span>,</span><br><span class="line">    <span class="attr">clear</span>: <span class="string">&quot;Clear&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">cn</span>: &#123;</span><br><span class="line">    <span class="attr">days</span>: [<span class="string">&quot;周日&quot;</span>, <span class="string">&quot;周一&quot;</span>, <span class="string">&quot;周二&quot;</span>, <span class="string">&quot;周三&quot;</span>, <span class="string">&quot;周四&quot;</span>, <span class="string">&quot;周五&quot;</span>, <span class="string">&quot;周六&quot;</span>, <span class="string">&quot;周日&quot;</span>],</span><br><span class="line">    <span class="attr">daysShort</span>: [<span class="string">&quot;日&quot;</span>, <span class="string">&quot;一&quot;</span>, <span class="string">&quot;二&quot;</span>, <span class="string">&quot;三&quot;</span>, <span class="string">&quot;四&quot;</span>, <span class="string">&quot;五&quot;</span>, <span class="string">&quot;六&quot;</span>, <span class="string">&quot;七&quot;</span>],</span><br><span class="line">    <span class="attr">daysMin</span>: [<span class="string">&quot;日&quot;</span>, <span class="string">&quot;一&quot;</span>, <span class="string">&quot;二&quot;</span>, <span class="string">&quot;三&quot;</span>, <span class="string">&quot;四&quot;</span>, <span class="string">&quot;五&quot;</span>, <span class="string">&quot;六&quot;</span>, <span class="string">&quot;七&quot;</span>],</span><br><span class="line">    <span class="attr">months</span>: [<span class="string">&quot;一月&quot;</span>, <span class="string">&quot;二月&quot;</span>, <span class="string">&quot;三月&quot;</span>, <span class="string">&quot;四月&quot;</span>, <span class="string">&quot;五月&quot;</span>, <span class="string">&quot;六月&quot;</span>, <span class="string">&quot;七月&quot;</span>, <span class="string">&quot;八月&quot;</span>, <span class="string">&quot;九月&quot;</span>, <span class="string">&quot;十月&quot;</span>, <span class="string">&quot;十一月&quot;</span>, <span class="string">&quot;十二月&quot;</span>],</span><br><span class="line">    <span class="attr">monthsShort</span>: [<span class="string">&quot;一月&quot;</span>, <span class="string">&quot;二月&quot;</span>, <span class="string">&quot;三月&quot;</span>, <span class="string">&quot;四月&quot;</span>, <span class="string">&quot;五月&quot;</span>, <span class="string">&quot;六月&quot;</span>, <span class="string">&quot;七月&quot;</span>, <span class="string">&quot;八月&quot;</span>, <span class="string">&quot;九月&quot;</span>, <span class="string">&quot;十月&quot;</span>, <span class="string">&quot;十一月&quot;</span>, <span class="string">&quot;十二月&quot;</span>],</span><br><span class="line">    <span class="attr">today</span>: <span class="string">&quot;今天&quot;</span>,</span><br><span class="line">    <span class="attr">clear</span>: <span class="string">&quot;清除&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>修改默认语言参数language为cn</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> defaults = $.fn.<span class="property">datepicker</span>.<span class="property">defaults</span> = &#123;</span><br><span class="line">	<span class="attr">autoclose</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">beforeShowDay</span>: $.noop,</span><br><span class="line">	<span class="attr">calendarWeeks</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">clearBtn</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">daysOfWeekDisabled</span>: [],</span><br><span class="line">	<span class="attr">endDate</span>: <span class="title class_">Infinity</span>,</span><br><span class="line">	<span class="attr">forceParse</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="attr">format</span>: <span class="string">&#x27;mm/dd/yyyy&#x27;</span>,</span><br><span class="line">	<span class="attr">keyboardNavigation</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="attr">language</span>: <span class="string">&#x27;cn&#x27;</span>,</span><br><span class="line">	<span class="attr">minViewMode</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">orientation</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line">	<span class="attr">rtl</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">startDate</span>: -<span class="title class_">Infinity</span>,</span><br><span class="line">	<span class="attr">startView</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">todayBtn</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">todayHighlight</span>: <span class="literal">false</span>,</span><br><span class="line">	<span class="attr">weekStart</span>: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p>即可完成对bootstrap-datepicker插件的汉化。</p>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Frontend</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows下搭建Django开发环境</title>
    <url>/start-django.html</url>
    <content><![CDATA[<p><strong>Django</strong>是用 Python 语言写的开源 Web 开发框架，它鼓励快速开发，并遵循 MVC 设计和 BSD 版权。Django 根据比利时的爵士音乐家 Django Reinhardt 命名.</p>
<span id="more"></span>
<h3 id="安装Python环境"><a href="#安装Python环境" class="headerlink" title="安装Python环境"></a>安装Python环境</h3><p>在安装Django框架之前，确保电脑已经安装配置好Python环境<br>检测Python环境可在命令行直接键入<code>python</code>,若出现以下代码则Python环境已成功配置<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Python 3.6.0a3 (v3.6.0a3:f3edf13dc339, Jul 11 2016, 21:40:24) [MSC v.1900 64 bit (AMD64)] on win32</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure></p>
<h3 id="下载Django框架"><a href="#下载Django框架" class="headerlink" title="下载Django框架"></a>下载Django框架</h3><ul>
<li><a href="http://www.djangoproject.com/download/">Django官网</a>下载</li>
<li>通过Git拉取<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/django/django.git</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: Django源代码文件与Python文件夹放在同一根目录下，如D:\Django，此文件夹下还有D:\Python36。</p>
</blockquote>
</li>
</ul>
<h3 id="安装Django"><a href="#安装Django" class="headerlink" title="安装Django"></a>安装Django</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> D:\Django  <span class="comment"># Django下载位置</span></span><br><span class="line">python setup.py install  <span class="comment"># Django被安装到D:\Python\lib\site-packages</span></span><br></pre></td></tr></table></figure>
<h3 id="验证Django"><a href="#验证Django" class="headerlink" title="验证Django"></a>验证Django</h3><p>打开命令行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python</span><br><span class="line">import django</span><br><span class="line">django.get_version()</span><br></pre></td></tr></table></figure><br>如果出现版本号，即Django已经安装成功</p>
<h3 id="创建第一个Django项目"><a href="#创建第一个Django项目" class="headerlink" title="创建第一个Django项目"></a>创建第一个Django项目</h3><p>打开命令行，键入<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">django-admin startproject 项目路径 <span class="comment"># 如 E:\cs\DjangoTest</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>如果想在任意文件夹下执行上述命令而不输入全路径，需要将<code>D:\Python\lib\site-packages\django\bin</code>添加到环境变量</p>
</blockquote>
<p>执行上述命令之后，会发现在安装路径下出现以下文件<br><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">	DjangoTest</span><br><span class="line">	├── manage.<span class="keyword">py</span></span><br><span class="line">	└── mysite</span><br><span class="line">    ├── __init__.<span class="keyword">py</span></span><br><span class="line">    ├── settings.<span class="keyword">py</span></span><br><span class="line">    ├── urls.<span class="keyword">py</span></span><br><span class="line">    └── wsgi.<span class="keyword">py</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> directory, <span class="number">5</span> <span class="keyword">files</span></span><br></pre></td></tr></table></figure></p>
<h3 id="运行Django服务器"><a href="#运行Django服务器" class="headerlink" title="运行Django服务器"></a>运行Django服务器</h3><p>进入项目文件夹执行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py runserver 8000</span><br><span class="line">&gt; 8000是默认端口号</span><br></pre></td></tr></table></figure><br>在浏览器打开<code>127.0.0.1:8000</code>，如果出现以下内容<br><figure class="highlight http"><table><tr><td class="code"><pre><span class="line">It worked!</span><br><span class="line">Congratulations on your first Django-powered page.</span><br><span class="line">Of course, you haven&#x27;t actually done any work yet. Next, start your first app by running python manage.py startapp [app_label].</span><br><span class="line">You&#x27;re seeing this message because you have DEBUG = True in your Django settings file and you haven&#x27;t configured any URLs. Get to work!</span><br></pre></td></tr></table></figure><br>至此，windows下Django环境搭建成功！</p>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Markdown</title>
    <url>/markdown-tutorial.html</url>
    <content><![CDATA[<blockquote>
<p>We believe that writing is about content, about what you want to say – not about fancy formatting.<br>我们坚信写作写的是内容，所思所想，而不是花样格式。<br>— Ulysses for Mac</p>
</blockquote>
<span id="more"></span>
<h1 id="Markdown介绍"><a href="#Markdown介绍" class="headerlink" title="Markdown介绍"></a>Markdown介绍</h1><p>Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档，然后转换成格式丰富的HTML页面。    ——<em><a href="https://zh.wikipedia.org/wiki/Markdown" > [ 维基百科 ]</em></p>
<h1 id="Markdown参考文档"><a href="#Markdown参考文档" class="headerlink" title="Markdown参考文档"></a>Markdown参考文档</h1><p>点击以下链接可以查看Markdown语法规则文档</p>
<ul>
<li><a href="http://daringfireball.net/projects/markdown/syntax">创始人 John Gruber 的 Markdown 语法说明</a></li>
<li><a href="http://wowubuntu.com/markdown/">Markdown中文版语法说明</a></li>
<li><a href="https://www.zybuluo.com/AntLog/note/63228">Markdown，你只需要掌握这几个</a></li>
</ul>
<h1 id="Markdown编辑器"><a href="#Markdown编辑器" class="headerlink" title="Markdown编辑器"></a>Markdown编辑器</h1><table>
<thead>
<tr>
<th>Mac OX</th>
<th style="text-align:center">Windows</th>
<th>Web</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://25.io/mou/">Mou</a></td>
<td style="text-align:center"><a href="http://atom.io/">Atom</a></td>
<td><a href="http://www.jianshu.com/">简书</a></td>
</tr>
<tr>
<td><a href="">Ulysses for Mac</a></td>
<td style="text-align:center"><a href="http://markdownpad.com/">MarkdownPad</a></td>
<td><a href="http://write.blog.csdn.net/mdeditor">csdn</a></td>
</tr>
</tbody>
</table>
<h1 id="Markdown语法"><a href="#Markdown语法" class="headerlink" title="Markdown语法"></a>Markdown语法</h1><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在#号后加一个空格，这是最标准的Markdown语法</p>
</blockquote>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>如果你需要引用一小段别处的句子，就要用引用的格式<br><figure class="highlight node-repl"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span> <span class="language-javascript">这是一个引用</span></span><br></pre></td></tr></table></figure><br>就会出现以下效果</p>
<blockquote>
<p>这是一个引用</p>
</blockquote>
<p>使用<code>&gt;</code>表示引用，<code>&gt;&gt;</code>表示引用里面再套一层引用，依次类推。</p>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><figure class="highlight scheme"><table><tr><td class="code"><pre><span class="line">[<span class="name">点击进入博客</span>](<span class="name">http://blog.fangchengjin.cn/</span>)</span><br><span class="line">[<span class="name">点击进入博客</span>(<span class="name">鼠标悬浮带title</span>)](<span class="name">http://blog.fangchengjin.cn/</span> <span class="string">&quot;ChangingFond&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>就会出现以下效果</p>
<blockquote>
<p><a href="http://blog.fangchengjin.cn/">点击进入博客</a><br><a href="http://blog.fangchengjin.cn/" title="ChangingFond">点击进入博客(鼠标悬浮带title)</a></p>
</blockquote>
<p><strong>注意</strong>：引用先定义 [ref_name]:url，然后在需要写入url的地方，这样使用[锚文本][ref_name]，通常的ref_name一般用数字表示，这样显得专业</p>
<h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">![Markdown](http:<span class="regexp">//</span>changingfond.oss-cn-hangzhou.aliyuncs.com<span class="regexp">/16-7-18/</span><span class="number">36478356</span>.jpg <span class="string">&quot;Optional title&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>就会出现以下效果<br><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/36478356.jpg" alt="Markdown" title="Optional title"></p>
<h2 id="粗体与斜体"><a href="#粗体与斜体" class="headerlink" title="粗体与斜体"></a>粗体与斜体</h2><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="strong">**这是粗体**</span></span><br><span class="line"><span class="emphasis">__这是粗体__</span></span><br><span class="line"><span class="strong">*这是斜体*</span></span><br><span class="line"><span class="emphasis">_这是斜体_</span></span><br></pre></td></tr></table></figure>
<p>就会出现以下效果</p>
<blockquote>
<p><strong>这是粗体</strong><br><strong>这是粗体</strong><br><em>这是斜体</em><br><em>这是斜体</em></p>
</blockquote>
<p><strong>注意</strong>：前后的 * 或 _ 与要加粗或倾斜的字体之间不能有空格。</p>
<h2 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h2><p>有序列表直接在文字前加1. 2. 3. 符号要和文字之间加上一个字符的空格<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> 第一行</span><br><span class="line"><span class="bullet">2.</span> 第二行</span><br><span class="line"><span class="bullet">3.</span> 第三行</span><br></pre></td></tr></table></figure><br>就会出现以下效果</p>
<blockquote>
<ol>
<li>第一行</li>
<li>第二行</li>
<li>第三行</li>
</ol>
</blockquote>
<h2 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h2><p>只需要在文字前加上 * (星号) 或者 + (加号) 或者 - (减号) 即可变为无序列表，符号要和文字之间加上一个字符的空格<br><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>第一行</span><br><span class="line"><span class="bullet">* </span>第二行</span><br><span class="line"><span class="bullet">* </span>第三行</span><br></pre></td></tr></table></figure><br>就会出现以下效果</p>
<blockquote>
<ul>
<li>第一行</li>
<li>第二行</li>
<li>第三行</li>
</ul>
</blockquote>
<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">|<span class="string"> Tables        </span>|<span class="string"> Are           </span>|<span class="string"> Cool  </span>|</span><br><span class="line">|<span class="string"> ------------- </span>|<span class="string">:-------------:</span>|<span class="string"> -----:</span>|</span><br><span class="line">|<span class="string"> col 3 is      </span>|<span class="string"> right-aligned </span>|<span class="string"> $1600 </span>|</span><br><span class="line">|<span class="string"> col 2 is      </span>|<span class="string"> centered      </span>|<span class="string">   $12 </span>|</span><br><span class="line">|<span class="string"> zebra stripes </span>|<span class="string"> are neat      </span>|<span class="string">    $1 </span>|</span><br></pre></td></tr></table></figure>
<p>就会出现以下效果</p>
<table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">Are</th>
<th style="text-align:right">Cool</th>
</tr>
</thead>
<tbody>
<tr>
<td>col 3 is</td>
<td style="text-align:center">right-aligned</td>
<td style="text-align:right">$1600</td>
</tr>
<tr>
<td>col 2 is</td>
<td style="text-align:center">centered</td>
<td style="text-align:right">$12</td>
</tr>
<tr>
<td>zebra stripes</td>
<td style="text-align:center">are neat</td>
<td style="text-align:right">$1</td>
</tr>
</tbody>
</table>
<h2 id="代码框"><a href="#代码框" class="headerlink" title="代码框"></a>代码框</h2><p>在文章里引用代码框，只需要用三个反引号包裹代码块<br>```<br>var canvas = document.getElementById(“canvas”);<br>var context = canvas.getContext(“2d”);<br>```<br>就会出现以下效果<br><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">var canvas <span class="operator">=</span> document.getElementById(<span class="string">&quot;canvas&quot;</span>)<span class="comment">;</span></span><br><span class="line">var context <span class="operator">=</span> canvas.getContext(<span class="string">&quot;2d&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。<br>你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">*</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br><span class="line"><span class="emphasis"><span class="strong">*</span>**</span><span class="strong">**</span></span><br><span class="line"><span class="strong">- - -</span></span><br><span class="line"><span class="strong">---------------------------------------</span></span><br></pre></td></tr></table></figure></p>
<h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h2><ul>
<li>可以在文本中直接使用html标签，但是要注意在使用的时候，前后加上空行</li>
<li>依赖 Markdown 来换行，在换行处先按入两个以上的空格然后回车</li>
<li>单一段落(<code>&lt;p&gt;</code>) 用一个空白行分割</li>
<li>用<code>\</code>来转义，表示文本中的 Markdown 符号<br>Markdown 支持以下这些符号前面加上反斜杠来帮助插入普通的符号：<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">\   反斜线</span><br><span class="line">`   反引号</span><br><span class="line"><span class="bullet">*   </span>星号</span><br><span class="line">_   底线</span><br><span class="line">&#123;&#125;  花括号</span><br><span class="line">[]  方括号</span><br><span class="line">()  括弧</span><br><span class="line">#   井号</span><br><span class="line">+   加号</span><br><span class="line"><span class="bullet">-   </span>减号</span><br><span class="line"><span class="bullet">.   </span>英文句号</span><br><span class="line">!   感叹号</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>小试Ubuntu Server</title>
    <url>/ubuntu-server.html</url>
    <content><![CDATA[<blockquote>
<p>今天偶尔逛某里云发现有个云翼计划， 针对大学生可9.9一个月购买一台ECS，虽然本人已经在某讯搭建有ECS，但鉴于其是Windows Server，特想试试Linux Server的一些花样，话不多说，先买为敬。一个月使用时间，足够我折腾一番。</p>
</blockquote>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/36478356.jpg" alt="1"></p>
<!-- more --->
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li>CPU:1核</li>
<li>内存:1024MB</li>
<li>带宽:1Mbps(峰值)</li>
<li>操作系统:Ubuntu 14.04 64位</li>
</ul>
<blockquote>
<p>一个字，渣，也是，便宜没好货。</p>
</blockquote>
<p>创建实例成功后，在本地远程连接到服务器一探究竟，显示无法联机。<br>百度后才知道是服务器端没有开启远程连接，无奈之下，只有在阿里控制台先进入服务器</p>
<h2 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install xrdp</span><br></pre></td></tr></table></figure>
<p>在本地输入cmd + mstsc输入账号密码时终于远程连接服务器。</p>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/20632477.jpg" alt="2"></p>
<p>命令行实在是不会用，就想安装个图形界面</p>
<h2 id="KUbuntu安装"><a href="#KUbuntu安装" class="headerlink" title="KUbuntu安装"></a>KUbuntu安装</h2><p>开机后输入图形界面的命令 <code>startx</code>，提示安装<code>xinit</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install xinit</span><br></pre></td></tr></table></figure>
<p>安装完后终端由黑色变成了白底黑字，出现X型的鼠标指针</p>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/23562232.jpg" alt="3"></p>
<p>安装桌面环境。本人安装的是KUbuntu。安装命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install kubuntu-desktop</span><br></pre></td></tr></table></figure>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/5749201.jpg" alt="4"></p>
<p>重启后我们看到了kubuntu界面了,这下我傻眼了，这个界面跟我之前用到的ubuntu看上去差别太大</p>
<p><img src="http://changingfond.oss-cn-hangzhou.aliyuncs.com/16-7-18/84508635.jpg" alt="5"></p>
<p>略微体验了一下，<br>但是kde毕竟太(ka)过(cheng)于(gou)炫，</p>
<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>kde的桌面环境的安装包大概有600-700M，还是比较大的，都差不多赶上了一个ubuntu系统大小的一半了，为了节省空间更是决定卸载掉。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get --purge remove libqt3-mt libqtcore4</span><br></pre></td></tr></table></figure>
<p>关于开机画面的解决方案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get autoremove plymouth-theme-kubuntu-logo</span><br></pre></td></tr></table></figure>
<p>重启之后，回归黑框框，听说黑框框很装逼，但门道多着呢，继续探索！</p>
<hr>
<h2 id="附录1-Linux下关机重启命令"><a href="#附录1-Linux下关机重启命令" class="headerlink" title="附录1:Linux下关机重启命令"></a>附录1:Linux下关机重启命令</h2><h3 id="重启命令："><a href="#重启命令：" class="headerlink" title="重启命令："></a>重启命令：</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">1</span>. reboot</span><br><span class="line"><span class="attribute">2</span>. shutdown -r now 立刻重启(root用户使用)</span><br><span class="line"><span class="attribute">3</span>. shutdown -r <span class="number">10</span> 过<span class="number">10</span>分钟自动重启(root用户使用)</span><br><span class="line"><span class="attribute">4</span>. shutdown -r <span class="number">20</span>:<span class="number">35</span> 在时间为<span class="number">20</span>:<span class="number">35</span>时候重启(root用户使用)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果是通过<code>shutdown</code>命令设置重启的话，可以用<code>shutdown -c</code>命令取消重启</p>
</blockquote>
<h3 id="关机命令："><a href="#关机命令：" class="headerlink" title="关机命令："></a>关机命令：</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> halt   立刻关机</span><br><span class="line"><span class="bullet">2.</span> poweroff 立刻关机</span><br><span class="line"><span class="bullet">3.</span> shutdown -h now 立刻关机(root用户使用)</span><br><span class="line"><span class="bullet">4.</span> shutdown -h 10 10分钟后自动关机</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果是通过<code>shutdown</code>命令设置关机的话，可以用<code>shutdown -c</code>命令取消重启</p>
</blockquote>
<h2 id="附录2-Linux下各大桌面环境-窗口管理器对比"><a href="#附录2-Linux下各大桌面环境-窗口管理器对比" class="headerlink" title="附录2:Linux下各大桌面环境/窗口管理器对比"></a>附录2:Linux下各大桌面环境/窗口管理器对比</h2><table>
<thead>
<tr>
<th>桌面环境/窗口管理器</th>
<th style="text-align:center">RAM used</th>
<th style="text-align:center">CPU used</th>
<th style="text-align:center">类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>KDE 4.6</td>
<td style="text-align:center">363 MB</td>
<td style="text-align:center">4 %</td>
<td style="text-align:center">桌面环境</td>
</tr>
<tr>
<td>Unity</td>
<td style="text-align:center">271 MB</td>
<td style="text-align:center">14%</td>
<td style="text-align:center">桌面环境(shell)</td>
</tr>
<tr>
<td>GNOME 3</td>
<td style="text-align:center">193 MB</td>
<td style="text-align:center">10%</td>
<td style="text-align:center">桌面环境</td>
</tr>
<tr>
<td>GNOME 2.x</td>
<td style="text-align:center">191 MB</td>
<td style="text-align:center">1 %</td>
<td style="text-align:center">桌面环境</td>
</tr>
<tr>
<td>XFCE 4.8</td>
<td style="text-align:center">144 MB</td>
<td style="text-align:center">10 %</td>
<td style="text-align:center">桌面环境</td>
</tr>
<tr>
<td>LXDE</td>
<td style="text-align:center">85 MB</td>
<td style="text-align:center">10 %</td>
<td style="text-align:center">桌面环境</td>
</tr>
<tr>
<td>IceWM</td>
<td style="text-align:center">85 MB</td>
<td style="text-align:center">2 %</td>
<td style="text-align:center">窗口管理器</td>
</tr>
<tr>
<td>Enlightenment (E17 Standard)</td>
<td style="text-align:center">72 MB</td>
<td style="text-align:center">1 %</td>
<td style="text-align:center">窗口管理器</td>
</tr>
<tr>
<td>Fluxbox</td>
<td style="text-align:center">69 MB</td>
<td style="text-align:center">1 %</td>
<td style="text-align:center">窗口管理器</td>
</tr>
<tr>
<td>OpenBox</td>
<td style="text-align:center">60 MB</td>
<td style="text-align:center">1 %</td>
<td style="text-align:center">窗口管理器</td>
</tr>
<tr>
<td>JWM</td>
<td style="text-align:center">58 MB</td>
<td style="text-align:center">1 %</td>
<td style="text-align:center">窗口管理器</td>
</tr>
</tbody>
</table>
<hr>
]]></content>
      <categories>
        <category>编程笔记</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/hello-world.html</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>
]]></content>
  </entry>
</search>
